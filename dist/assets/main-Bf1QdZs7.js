(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function co(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const xe={},vs=[],Qt=()=>{},Nf=()=>!1,ji=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),uo=t=>t.startsWith("onUpdate:"),je=Object.assign,fo=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ff=Object.prototype.hasOwnProperty,ge=(t,e)=>Ff.call(t,e),ee=Array.isArray,bs=t=>Di(t)==="[object Map]",zc=t=>Di(t)==="[object Set]",re=t=>typeof t=="function",Pe=t=>typeof t=="string",mn=t=>typeof t=="symbol",Te=t=>t!==null&&typeof t=="object",Wc=t=>(Te(t)||re(t))&&re(t.then)&&re(t.catch),qc=Object.prototype.toString,Di=t=>qc.call(t),Uf=t=>Di(t).slice(8,-1),Zc=t=>Di(t)==="[object Object]",ho=t=>Pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,er=co(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Li=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},jf=/-(\w)/g,kn=Li(t=>t.replace(jf,(e,n)=>n?n.toUpperCase():"")),Df=/\B([A-Z])/g,ts=Li(t=>t.replace(Df,"-$1").toLowerCase()),Hc=Li(t=>t.charAt(0).toUpperCase()+t.slice(1)),na=Li(t=>t?`on${Hc(t)}`:""),Tn=(t,e)=>!Object.is(t,e),ii=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Gc=(t,e,n,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:n})},Ia=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Lf=t=>{const e=Pe(t)?Number(t):NaN;return isNaN(e)?t:e};let il;const Vi=()=>il||(il=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Or(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=Pe(s)?zf(s):Or(s);if(r)for(const i in r)e[i]=r[i]}return e}else if(Pe(t)||Te(t))return t}const Vf=/;(?![^(]*\))/g,Kf=/:([^]+)/,Bf=/\/\*[^]*?\*\//g;function zf(t){const e={};return t.replace(Bf,"").split(Vf).forEach(n=>{if(n){const s=n.split(Kf);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Oe(t){let e="";if(Pe(t))e=t;else if(ee(t))for(let n=0;n<t.length;n++){const s=Oe(t[n]);s&&(e+=s+" ")}else if(Te(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Wf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qf=co(Wf);function Xc(t){return!!t||t===""}const Jc=t=>!!(t&&t.__v_isRef===!0),ne=t=>Pe(t)?t:t==null?"":ee(t)||Te(t)&&(t.toString===qc||!re(t.toString))?Jc(t)?ne(t.value):JSON.stringify(t,$c,2):String(t),$c=(t,e)=>Jc(e)?$c(t,e.value):bs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r],i)=>(n[sa(s,i)+" =>"]=r,n),{})}:zc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>sa(n))}:mn(e)?sa(e):Te(e)&&!ee(e)&&!Zc(e)?String(e):e,sa=(t,e="")=>{var n;return mn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pt;class Zf{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!e&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=pt;try{return pt=this,e()}finally{pt=n}}}on(){pt=this}off(){pt=this.parent}stop(e){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Hf(){return pt}let Ce;const ra=new WeakSet;class Yc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ra.has(this)&&(ra.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||eu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,al(this),tu(this);const e=Ce,n=It;Ce=this,It=!0;try{return this.fn()}finally{nu(this),Ce=e,It=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)go(e);this.deps=this.depsTail=void 0,al(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ra.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pa(this)&&this.run()}get dirty(){return Pa(this)}}let Qc=0,tr,nr;function eu(t,e=!1){if(t.flags|=8,e){t.next=nr,nr=t;return}t.next=tr,tr=t}function po(){Qc++}function mo(){if(--Qc>0)return;if(nr){let e=nr;for(nr=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;tr;){let e=tr;for(tr=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=n}}if(t)throw t}function tu(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function nu(t){let e,n=t.depsTail,s=n;for(;s;){const r=s.prevDep;s.version===-1?(s===n&&(n=r),go(s),Gf(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}t.deps=e,t.depsTail=n}function Pa(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(su(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function su(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===cr))return;t.globalVersion=cr;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Pa(t)){t.flags&=-3;return}const n=Ce,s=It;Ce=t,It=!0;try{tu(t);const r=t.fn(t._value);(e.version===0||Tn(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Ce=n,It=s,nu(t),t.flags&=-3}}function go(t,e=!1){const{dep:n,prevSub:s,nextSub:r}=t;if(s&&(s.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=s,t.nextSub=void 0),n.subs===t&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)go(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function Gf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let It=!0;const ru=[];function Nn(){ru.push(It),It=!1}function Fn(){const t=ru.pop();It=t===void 0?!0:t}function al(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Ce;Ce=void 0;try{e()}finally{Ce=n}}}let cr=0;class Xf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Ce||!It||Ce===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ce)n=this.activeLink=new Xf(Ce,this),Ce.deps?(n.prevDep=Ce.depsTail,Ce.depsTail.nextDep=n,Ce.depsTail=n):Ce.deps=Ce.depsTail=n,iu(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ce.depsTail,n.nextDep=void 0,Ce.depsTail.nextDep=n,Ce.depsTail=n,Ce.deps===n&&(Ce.deps=s)}return n}trigger(e){this.version++,cr++,this.notify(e)}notify(e){po();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{mo()}}}function iu(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)iu(s)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Oa=new WeakMap,qn=Symbol(""),Na=Symbol(""),ur=Symbol("");function Ge(t,e,n){if(It&&Ce){let s=Oa.get(t);s||Oa.set(t,s=new Map);let r=s.get(n);r||(s.set(n,r=new yo),r.map=s,r.key=n),r.track()}}function dn(t,e,n,s,r,i){const a=Oa.get(t);if(!a){cr++;return}const o=l=>{l&&l.trigger()};if(po(),e==="clear")a.forEach(o);else{const l=ee(t),c=l&&ho(n);if(l&&n==="length"){const u=Number(s);a.forEach((d,f)=>{(f==="length"||f===ur||!mn(f)&&f>=u)&&o(d)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),c&&o(a.get(ur)),e){case"add":l?c&&o(a.get("length")):(o(a.get(qn)),bs(t)&&o(a.get(Na)));break;case"delete":l||(o(a.get(qn)),bs(t)&&o(a.get(Na)));break;case"set":bs(t)&&o(a.get(qn));break}}mo()}function is(t){const e=he(t);return e===t?e:(Ge(e,"iterate",ur),xt(t)?e:e.map(Xe))}function Ki(t){return Ge(t=he(t),"iterate",ur),t}const Jf={__proto__:null,[Symbol.iterator](){return ia(this,Symbol.iterator,Xe)},concat(...t){return is(this).concat(...t.map(e=>ee(e)?is(e):e))},entries(){return ia(this,"entries",t=>(t[1]=Xe(t[1]),t))},every(t,e){return rn(this,"every",t,e,void 0,arguments)},filter(t,e){return rn(this,"filter",t,e,n=>n.map(Xe),arguments)},find(t,e){return rn(this,"find",t,e,Xe,arguments)},findIndex(t,e){return rn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return rn(this,"findLast",t,e,Xe,arguments)},findLastIndex(t,e){return rn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return rn(this,"forEach",t,e,void 0,arguments)},includes(...t){return aa(this,"includes",t)},indexOf(...t){return aa(this,"indexOf",t)},join(t){return is(this).join(t)},lastIndexOf(...t){return aa(this,"lastIndexOf",t)},map(t,e){return rn(this,"map",t,e,void 0,arguments)},pop(){return Ks(this,"pop")},push(...t){return Ks(this,"push",t)},reduce(t,...e){return ol(this,"reduce",t,e)},reduceRight(t,...e){return ol(this,"reduceRight",t,e)},shift(){return Ks(this,"shift")},some(t,e){return rn(this,"some",t,e,void 0,arguments)},splice(...t){return Ks(this,"splice",t)},toReversed(){return is(this).toReversed()},toSorted(t){return is(this).toSorted(t)},toSpliced(...t){return is(this).toSpliced(...t)},unshift(...t){return Ks(this,"unshift",t)},values(){return ia(this,"values",Xe)}};function ia(t,e,n){const s=Ki(t),r=s[e]();return s!==t&&!xt(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=n(i.value)),i}),r}const $f=Array.prototype;function rn(t,e,n,s,r,i){const a=Ki(t),o=a!==t&&!xt(t),l=a[e];if(l!==$f[e]){const d=l.apply(t,i);return o?Xe(d):d}let c=n;a!==t&&(o?c=function(d,f){return n.call(this,Xe(d),f,t)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,t)}));const u=l.call(a,c,s);return o&&r?r(u):u}function ol(t,e,n,s){const r=Ki(t);let i=n;return r!==t&&(xt(t)?n.length>3&&(i=function(a,o,l){return n.call(this,a,o,l,t)}):i=function(a,o,l){return n.call(this,a,Xe(o),l,t)}),r[e](i,...s)}function aa(t,e,n){const s=he(t);Ge(s,"iterate",ur);const r=s[e](...n);return(r===-1||r===!1)&&_o(n[0])?(n[0]=he(n[0]),s[e](...n)):r}function Ks(t,e,n=[]){Nn(),po();const s=he(t)[e].apply(t,n);return mo(),Fn(),s}const Yf=co("__proto__,__v_isRef,__isVue"),au=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mn));function Qf(t){mn(t)||(t=String(t));const e=he(this);return Ge(e,"has",t),e.hasOwnProperty(t)}class ou{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,s){if(n==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return i;if(n==="__v_raw")return s===(r?i?ch:du:i?uu:cu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const a=ee(e);if(!r){let l;if(a&&(l=Jf[n]))return l;if(n==="hasOwnProperty")return Qf}const o=Reflect.get(e,n,Ee(e)?e:s);return(mn(n)?au.has(n):Yf(n))||(r||Ge(e,"get",n),i)?o:Ee(o)?a&&ho(n)?o:o.value:Te(o)?r?fu(o):bo(o):o}}class lu extends ou{constructor(e=!1){super(!1,e)}set(e,n,s,r){let i=e[n];if(!this._isShallow){const l=Gn(i);if(!xt(s)&&!Gn(s)&&(i=he(i),s=he(s)),!ee(e)&&Ee(i)&&!Ee(s))return l?!1:(i.value=s,!0)}const a=ee(e)&&ho(n)?Number(n)<e.length:ge(e,n),o=Reflect.set(e,n,s,Ee(e)?e:r);return e===he(r)&&(a?Tn(s,i)&&dn(e,"set",n,s):dn(e,"add",n,s)),o}deleteProperty(e,n){const s=ge(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&s&&dn(e,"delete",n,void 0),r}has(e,n){const s=Reflect.has(e,n);return(!mn(n)||!au.has(n))&&Ge(e,"has",n),s}ownKeys(e){return Ge(e,"iterate",ee(e)?"length":qn),Reflect.ownKeys(e)}}class eh extends ou{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const th=new lu,nh=new eh,sh=new lu(!0);const Fa=t=>t,Wr=t=>Reflect.getPrototypeOf(t);function rh(t,e,n){return function(...s){const r=this.__v_raw,i=he(r),a=bs(i),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=r[t](...s),u=n?Fa:e?Ua:Xe;return!e&&Ge(i,"iterate",l?Na:qn),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:o?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function qr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ih(t,e){const n={get(r){const i=this.__v_raw,a=he(i),o=he(r);t||(Tn(r,o)&&Ge(a,"get",r),Ge(a,"get",o));const{has:l}=Wr(a),c=e?Fa:t?Ua:Xe;if(l.call(a,r))return c(i.get(r));if(l.call(a,o))return c(i.get(o));i!==a&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Ge(he(r),"iterate",qn),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,a=he(i),o=he(r);return t||(Tn(r,o)&&Ge(a,"has",r),Ge(a,"has",o)),r===o?i.has(r):i.has(r)||i.has(o)},forEach(r,i){const a=this,o=a.__v_raw,l=he(o),c=e?Fa:t?Ua:Xe;return!t&&Ge(l,"iterate",qn),o.forEach((u,d)=>r.call(i,c(u),c(d),a))}};return je(n,t?{add:qr("add"),set:qr("set"),delete:qr("delete"),clear:qr("clear")}:{add(r){!e&&!xt(r)&&!Gn(r)&&(r=he(r));const i=he(this);return Wr(i).has.call(i,r)||(i.add(r),dn(i,"add",r,r)),this},set(r,i){!e&&!xt(i)&&!Gn(i)&&(i=he(i));const a=he(this),{has:o,get:l}=Wr(a);let c=o.call(a,r);c||(r=he(r),c=o.call(a,r));const u=l.call(a,r);return a.set(r,i),c?Tn(i,u)&&dn(a,"set",r,i):dn(a,"add",r,i),this},delete(r){const i=he(this),{has:a,get:o}=Wr(i);let l=a.call(i,r);l||(r=he(r),l=a.call(i,r)),o&&o.call(i,r);const c=i.delete(r);return l&&dn(i,"delete",r,void 0),c},clear(){const r=he(this),i=r.size!==0,a=r.clear();return i&&dn(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=rh(r,t,e)}),n}function vo(t,e){const n=ih(t,e);return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(ge(n,r)&&r in s?n:s,r,i)}const ah={get:vo(!1,!1)},oh={get:vo(!1,!0)},lh={get:vo(!0,!1)};const cu=new WeakMap,uu=new WeakMap,du=new WeakMap,ch=new WeakMap;function uh(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dh(t){return t.__v_skip||!Object.isExtensible(t)?0:uh(Uf(t))}function bo(t){return Gn(t)?t:wo(t,!1,th,ah,cu)}function fh(t){return wo(t,!1,sh,oh,uu)}function fu(t){return wo(t,!0,nh,lh,du)}function wo(t,e,n,s,r){if(!Te(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const a=dh(t);if(a===0)return t;const o=new Proxy(t,a===2?s:n);return r.set(t,o),o}function ws(t){return Gn(t)?ws(t.__v_raw):!!(t&&t.__v_isReactive)}function Gn(t){return!!(t&&t.__v_isReadonly)}function xt(t){return!!(t&&t.__v_isShallow)}function _o(t){return t?!!t.__v_raw:!1}function he(t){const e=t&&t.__v_raw;return e?he(e):t}function hh(t){return!ge(t,"__v_skip")&&Object.isExtensible(t)&&Gc(t,"__v_skip",!0),t}const Xe=t=>Te(t)?bo(t):t,Ua=t=>Te(t)?fu(t):t;function Ee(t){return t?t.__v_isRef===!0:!1}function $(t){return ph(t,!1)}function ph(t,e){return Ee(t)?t:new mh(t,e)}class mh{constructor(e,n){this.dep=new yo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:he(e),this._value=n?e:Xe(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,s=this.__v_isShallow||xt(e)||Gn(e);e=s?e:he(e),Tn(e,n)&&(this._rawValue=e,this._value=s?e:Xe(e),this.dep.trigger())}}function q(t){return Ee(t)?t.value:t}const gh={get:(t,e,n)=>e==="__v_raw"?t:q(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return Ee(r)&&!Ee(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function hu(t){return ws(t)?t:new Proxy(t,gh)}class yh{constructor(e,n,s){this.fn=e,this.setter=n,this._value=void 0,this.dep=new yo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=cr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ce!==this)return eu(this,!0),!0}get value(){const e=this.dep.track();return su(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function vh(t,e,n=!1){let s,r;return re(t)?s=t:(s=t.get,r=t.set),new yh(s,r,n)}const Zr={},yi=new WeakMap;let Kn;function bh(t,e=!1,n=Kn){if(n){let s=yi.get(n);s||yi.set(n,s=[]),s.push(t)}}function wh(t,e,n=xe){const{immediate:s,deep:r,once:i,scheduler:a,augmentJob:o,call:l}=n,c=v=>r?v:xt(v)||r===!1||r===0?fn(v,1):fn(v);let u,d,f,p,m=!1,y=!1;if(Ee(t)?(d=()=>t.value,m=xt(t)):ws(t)?(d=()=>c(t),m=!0):ee(t)?(y=!0,m=t.some(v=>ws(v)||xt(v)),d=()=>t.map(v=>{if(Ee(v))return v.value;if(ws(v))return c(v);if(re(v))return l?l(v,2):v()})):re(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){Nn();try{f()}finally{Fn()}}const v=Kn;Kn=u;try{return l?l(t,3,[p]):t(p)}finally{Kn=v}}:d=Qt,e&&r){const v=d,T=r===!0?1/0:r;d=()=>fn(v(),T)}const S=Hf(),M=()=>{u.stop(),S&&S.active&&fo(S.effects,u)};if(i&&e){const v=e;e=(...T)=>{v(...T),M()}}let A=y?new Array(t.length).fill(Zr):Zr;const _=v=>{if(!(!(u.flags&1)||!u.dirty&&!v))if(e){const T=u.run();if(r||m||(y?T.some((I,B)=>Tn(I,A[B])):Tn(T,A))){f&&f();const I=Kn;Kn=u;try{const B=[T,A===Zr?void 0:y&&A[0]===Zr?[]:A,p];l?l(e,3,B):e(...B),A=T}finally{Kn=I}}}else u.run()};return o&&o(_),u=new Yc(d),u.scheduler=a?()=>a(_,!1):_,p=v=>bh(v,!1,u),f=u.onStop=()=>{const v=yi.get(u);if(v){if(l)l(v,4);else for(const T of v)T();yi.delete(u)}},e?s?_(!0):A=u.run():a?a(_.bind(null,!0),!0):u.run(),M.pause=u.pause.bind(u),M.resume=u.resume.bind(u),M.stop=M,M}function fn(t,e=1/0,n){if(e<=0||!Te(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ee(t))fn(t.value,e,n);else if(ee(t))for(let s=0;s<t.length;s++)fn(t[s],e,n);else if(zc(t)||bs(t))t.forEach(s=>{fn(s,e,n)});else if(Zc(t)){for(const s in t)fn(t[s],e,n);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&fn(t[s],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Nr(t,e,n,s){try{return s?t(...s):t()}catch(r){Bi(r,e,n)}}function Nt(t,e,n,s){if(re(t)){const r=Nr(t,e,n,s);return r&&Wc(r)&&r.catch(i=>{Bi(i,e,n)}),r}if(ee(t)){const r=[];for(let i=0;i<t.length;i++)r.push(Nt(t[i],e,n,s));return r}}function Bi(t,e,n,s=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||xe;if(e){let o=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}o=o.parent}if(i){Nn(),Nr(i,null,10,[t,l,c]),Fn();return}}_h(t,n,r,s,a)}function _h(t,e,n,s=!0,r=!1){if(r)throw t;console.error(t)}const tt=[];let Ht=-1;const _s=[];let xn=null,us=0;const pu=Promise.resolve();let vi=null;function bi(t){const e=vi||pu;return t?e.then(this?t.bind(this):t):e}function xh(t){let e=Ht+1,n=tt.length;for(;e<n;){const s=e+n>>>1,r=tt[s],i=dr(r);i<t||i===t&&r.flags&2?e=s+1:n=s}return e}function xo(t){if(!(t.flags&1)){const e=dr(t),n=tt[tt.length-1];!n||!(t.flags&2)&&e>=dr(n)?tt.push(t):tt.splice(xh(e),0,t),t.flags|=1,mu()}}function mu(){vi||(vi=pu.then(yu))}function Ah(t){ee(t)?_s.push(...t):xn&&t.id===-1?xn.splice(us+1,0,t):t.flags&1||(_s.push(t),t.flags|=1),mu()}function ll(t,e,n=Ht+1){for(;n<tt.length;n++){const s=tt[n];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;tt.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function gu(t){if(_s.length){const e=[...new Set(_s)].sort((n,s)=>dr(n)-dr(s));if(_s.length=0,xn){xn.push(...e);return}for(xn=e,us=0;us<xn.length;us++){const n=xn[us];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}xn=null,us=0}}const dr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function yu(t){try{for(Ht=0;Ht<tt.length;Ht++){const e=tt[Ht];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Nr(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ht<tt.length;Ht++){const e=tt[Ht];e&&(e.flags&=-2)}Ht=-1,tt.length=0,gu(),vi=null,(tt.length||_s.length)&&yu()}}let We=null,vu=null;function wi(t){const e=We;return We=t,vu=t&&t.type.__scopeId||null,e}function et(t,e=We,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&_l(-1);const i=wi(e);let a;try{a=t(...r)}finally{wi(i),s._d&&_l(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function He(t,e){if(We===null)return t;const n=Hi(We),s=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,a,o,l=xe]=e[r];i&&(re(i)&&(i={mounted:i,updated:i}),i.deep&&fn(a),s.push({dir:i,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return t}function jn(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];i&&(o.oldValue=i[a].value);let l=o.dir[s];l&&(Nn(),Nt(l,n,8,[t.el,o,t,e]),Fn())}}const bu=Symbol("_vte"),wu=t=>t.__isTeleport,sr=t=>t&&(t.disabled||t.disabled===""),cl=t=>t&&(t.defer||t.defer===""),ul=t=>typeof SVGElement<"u"&&t instanceof SVGElement,dl=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,ja=(t,e)=>{const n=t&&t.to;return Pe(n)?e?e(n):null:n},_u={name:"Teleport",__isTeleport:!0,process(t,e,n,s,r,i,a,o,l,c){const{mc:u,pc:d,pbc:f,o:{insert:p,querySelector:m,createText:y,createComment:S}}=c,M=sr(e.props);let{shapeFlag:A,children:_,dynamicChildren:v}=e;if(t==null){const T=e.el=y(""),I=e.anchor=y("");p(T,n,s),p(I,n,s);const B=(x,C)=>{A&16&&(r&&r.isCE&&(r.ce._teleportTarget=x),u(_,x,C,r,i,a,o,l))},E=()=>{const x=e.target=ja(e.props,m),C=xu(x,e,y,p);x&&(a!=="svg"&&ul(x)?a="svg":a!=="mathml"&&dl(x)&&(a="mathml"),M||(B(x,C),ai(e,!1)))};M&&(B(n,I),ai(e,!0)),cl(e.props)?Qe(()=>{E(),e.el.__isMounted=!0},i):E()}else{if(cl(e.props)&&!t.el.__isMounted){Qe(()=>{_u.process(t,e,n,s,r,i,a,o,l,c),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const T=e.anchor=t.anchor,I=e.target=t.target,B=e.targetAnchor=t.targetAnchor,E=sr(t.props),x=E?n:I,C=E?T:B;if(a==="svg"||ul(I)?a="svg":(a==="mathml"||dl(I))&&(a="mathml"),v?(f(t.dynamicChildren,v,x,r,i,a,o),Eo(t,e,!0)):l||d(t,e,x,C,r,i,a,o,!1),M)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Hr(e,n,T,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=ja(e.props,m);j&&Hr(e,j,null,c,0)}else E&&Hr(e,I,B,c,1);ai(e,M)}},remove(t,e,n,{um:s,o:{remove:r}},i){const{shapeFlag:a,children:o,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(r(c),r(u)),i&&r(l),a&16){const p=i||!sr(f);for(let m=0;m<o.length;m++){const y=o[m];s(y,e,n,p,!!y.dynamicChildren)}}},move:Hr,hydrate:Sh};function Hr(t,e,n,{o:{insert:s},m:r},i=2){i===0&&s(t.targetAnchor,e,n);const{el:a,anchor:o,shapeFlag:l,children:c,props:u}=t,d=i===2;if(d&&s(a,e,n),(!d||sr(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,n,2);d&&s(o,e,n)}function Sh(t,e,n,s,r,i,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:c,createText:u}},d){const f=e.target=ja(e.props,l);if(f){const p=sr(e.props),m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(p)e.anchor=d(a(t),e,o(t),n,s,r,i),e.targetStart=m,e.targetAnchor=m&&a(m);else{e.anchor=a(t);let y=m;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,f._lpa=e.targetAnchor&&a(e.targetAnchor);break}}y=a(y)}e.targetAnchor||xu(f,e,u,c),d(m&&a(m),e,f,n,s,r,i)}ai(e,p)}return e.anchor&&a(e.anchor)}const Rs=_u;function ai(t,e){const n=t.ctx;if(n&&n.ut){let s,r;for(e?(s=t.el,r=t.anchor):(s=t.targetStart,r=t.targetAnchor);s&&s!==r;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function xu(t,e,n,s){const r=e.targetStart=n(""),i=e.targetAnchor=n("");return r[bu]=i,t&&(s(r,t),s(i,t)),i}const An=Symbol("_leaveCb"),Gr=Symbol("_enterCb");function Au(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ut(()=>{t.isMounted=!0}),Co(()=>{t.isUnmounting=!0}),t}const bt=[Function,Array],Su={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bt,onEnter:bt,onAfterEnter:bt,onEnterCancelled:bt,onBeforeLeave:bt,onLeave:bt,onAfterLeave:bt,onLeaveCancelled:bt,onBeforeAppear:bt,onAppear:bt,onAfterAppear:bt,onAppearCancelled:bt},Cu=t=>{const e=t.subTree;return e.component?Cu(e.component):e},Ch={name:"BaseTransition",props:Su,setup(t,{slots:e}){const n=Yu(),s=Au();return()=>{const r=e.default&&Ao(e.default(),!0);if(!r||!r.length)return;const i=Tu(r),a=he(t),{mode:o}=a;if(s.isLeaving)return oa(i);const l=fl(i);if(!l)return oa(i);let c=fr(l,a,s,n,d=>c=d);l.type!==nt&&Xn(l,c);let u=n.subTree&&fl(n.subTree);if(u&&u.type!==nt&&!Bn(l,u)&&Cu(n).type!==nt){let d=fr(u,a,s,n);if(Xn(u,d),o==="out-in"&&l.type!==nt)return s.isLeaving=!0,d.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,u=void 0},oa(i);o==="in-out"&&l.type!==nt?d.delayLeave=(f,p,m)=>{const y=Eu(s,u);y[String(u.key)]=u,f[An]=()=>{p(),f[An]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function Tu(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==nt){e=n;break}}return e}const Th=Ch;function Eu(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function fr(t,e,n,s,r){const{appear:i,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:y,onBeforeAppear:S,onAppear:M,onAfterAppear:A,onAppearCancelled:_}=e,v=String(t.key),T=Eu(n,t),I=(x,C)=>{x&&Nt(x,s,9,C)},B=(x,C)=>{const j=C[1];I(x,C),ee(x)?x.every(F=>F.length<=1)&&j():x.length<=1&&j()},E={mode:a,persisted:o,beforeEnter(x){let C=l;if(!n.isMounted)if(i)C=S||l;else return;x[An]&&x[An](!0);const j=T[v];j&&Bn(t,j)&&j.el[An]&&j.el[An](),I(C,[x])},enter(x){let C=c,j=u,F=d;if(!n.isMounted)if(i)C=M||c,j=A||u,F=_||d;else return;let oe=!1;const Ae=x[Gr]=Le=>{oe||(oe=!0,Le?I(F,[x]):I(j,[x]),E.delayedLeave&&E.delayedLeave(),x[Gr]=void 0)};C?B(C,[x,Ae]):Ae()},leave(x,C){const j=String(t.key);if(x[Gr]&&x[Gr](!0),n.isUnmounting)return C();I(f,[x]);let F=!1;const oe=x[An]=Ae=>{F||(F=!0,C(),Ae?I(y,[x]):I(m,[x]),x[An]=void 0,T[j]===t&&delete T[j])};T[j]=t,p?B(p,[x,oe]):oe()},clone(x){const C=fr(x,e,n,s,r);return r&&r(C),C}};return E}function oa(t){if(zi(t))return t=Rn(t),t.children=null,t}function fl(t){if(!zi(t))return wu(t.type)&&t.children?Tu(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&re(n.default))return n.default()}}function Xn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Xn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ao(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let a=t[i];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:i);a.type===Ie?(a.patchFlag&128&&r++,s=s.concat(Ao(a.children,e,o))):(e||a.type!==nt)&&s.push(o!=null?Rn(a,{key:o}):a)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function So(t,e){return re(t)?je({name:t.name},e,{setup:t}):t}function ku(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function _i(t,e,n,s,r=!1){if(ee(t)){t.forEach((m,y)=>_i(m,e&&(ee(e)?e[y]:e),n,s,r));return}if(xs(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&_i(t,e,n,s.component.subTree);return}const i=s.shapeFlag&4?Hi(s.component):s.el,a=r?null:i,{i:o,r:l}=t,c=e&&e.r,u=o.refs===xe?o.refs={}:o.refs,d=o.setupState,f=he(d),p=d===xe?()=>!1:m=>ge(f,m);if(c!=null&&c!==l&&(Pe(c)?(u[c]=null,p(c)&&(d[c]=null)):Ee(c)&&(c.value=null)),re(l))Nr(l,o,12,[a,u]);else{const m=Pe(l),y=Ee(l);if(m||y){const S=()=>{if(t.f){const M=m?p(l)?d[l]:u[l]:l.value;r?ee(M)&&fo(M,i):ee(M)?M.includes(i)||M.push(i):m?(u[l]=[i],p(l)&&(d[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else m?(u[l]=a,p(l)&&(d[l]=a)):y&&(l.value=a,t.k&&(u[t.k]=a))};a?(S.id=-1,Qe(S,n)):S()}}}Vi().requestIdleCallback;Vi().cancelIdleCallback;const xs=t=>!!t.type.__asyncLoader,zi=t=>t.type.__isKeepAlive;function Eh(t,e){Ru(t,"a",e)}function kh(t,e){Ru(t,"da",e)}function Ru(t,e,n=Je){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Wi(e,s,n),n){let r=n.parent;for(;r&&r.parent;)zi(r.parent.vnode)&&Rh(s,e,n,r),r=r.parent}}function Rh(t,e,n,s){const r=Wi(e,t,s,!0);Iu(()=>{fo(s[e],r)},n)}function Wi(t,e,n=Je,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...a)=>{Nn();const o=Fr(n),l=Nt(e,n,t,a);return o(),Fn(),l});return s?r.unshift(i):r.push(i),i}}const gn=t=>(e,n=Je)=>{(!mr||t==="sp")&&Wi(t,(...s)=>e(...s),n)},Mh=gn("bm"),Ut=gn("m"),Ih=gn("bu"),Mu=gn("u"),Co=gn("bum"),Iu=gn("um"),Ph=gn("sp"),Oh=gn("rtg"),Nh=gn("rtc");function Fh(t,e=Je){Wi("ec",t,e)}const Uh=Symbol.for("v-ndc");function hn(t,e,n,s){let r;const i=n,a=ee(t);if(a||Pe(t)){const o=a&&ws(t);let l=!1;o&&(l=!xt(t),t=Ki(t)),r=new Array(t.length);for(let c=0,u=t.length;c<u;c++)r[c]=e(l?Xe(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i)}else if(Te(t))if(t[Symbol.iterator])r=Array.from(t,(o,l)=>e(o,l,void 0,i));else{const o=Object.keys(t);r=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const u=o[l];r[l]=e(t[u],u,l,i)}}else r=[];return r}function $t(t,e,n={},s,r){if(We.ce||We.parent&&xs(We.parent)&&We.parent.ce)return e!=="default"&&(n.name=e),L(),_t(Ie,null,[fe("slot",n,s&&s())],64);let i=t[e];i&&i._c&&(i._d=!1),L();const a=i&&Pu(i(n)),o=n.key||a&&a.key,l=_t(Ie,{key:(o&&!mn(o)?o:`_${e}`)+(!a&&s?"_fb":"")},a||(s?s():[]),a&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Pu(t){return t.some(e=>pr(e)?!(e.type===nt||e.type===Ie&&!Pu(e.children)):!0)?t:null}const Da=t=>t?Qu(t)?Hi(t):Da(t.parent):null,rr=je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Da(t.parent),$root:t=>Da(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Nu(t),$forceUpdate:t=>t.f||(t.f=()=>{xo(t.update)}),$nextTick:t=>t.n||(t.n=bi.bind(t.proxy)),$watch:t=>rp.bind(t)}),la=(t,e)=>t!==xe&&!t.__isScriptSetup&&ge(t,e),jh={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:s,data:r,props:i,accessCache:a,type:o,appContext:l}=t;let c;if(e[0]!=="$"){const p=a[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(la(s,e))return a[e]=1,s[e];if(r!==xe&&ge(r,e))return a[e]=2,r[e];if((c=t.propsOptions[0])&&ge(c,e))return a[e]=3,i[e];if(n!==xe&&ge(n,e))return a[e]=4,n[e];La&&(a[e]=0)}}const u=rr[e];let d,f;if(u)return e==="$attrs"&&Ge(t.attrs,"get",""),u(t);if((d=o.__cssModules)&&(d=d[e]))return d;if(n!==xe&&ge(n,e))return a[e]=4,n[e];if(f=l.config.globalProperties,ge(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return la(r,e)?(r[e]=n,!0):s!==xe&&ge(s,e)?(s[e]=n,!0):ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},a){let o;return!!n[a]||t!==xe&&ge(t,a)||la(e,a)||(o=i[0])&&ge(o,a)||ge(s,a)||ge(rr,a)||ge(r.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ge(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function hl(t){return ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let La=!0;function Dh(t){const e=Nu(t),n=t.proxy,s=t.ctx;La=!1,e.beforeCreate&&pl(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:a,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:y,deactivated:S,beforeDestroy:M,beforeUnmount:A,destroyed:_,unmounted:v,render:T,renderTracked:I,renderTriggered:B,errorCaptured:E,serverPrefetch:x,expose:C,inheritAttrs:j,components:F,directives:oe,filters:Ae}=e;if(c&&Lh(c,s,null),a)for(const pe in a){const we=a[pe];re(we)&&(s[pe]=we.bind(n))}if(r){const pe=r.call(n,n);Te(pe)&&(t.data=bo(pe))}if(La=!0,i)for(const pe in i){const we=i[pe],Dt=re(we)?we.bind(n,n):re(we.get)?we.get.bind(n,n):Qt,yn=!re(we)&&re(we.set)?we.set.bind(n):Qt,sn=Pt({get:Dt,set:yn});Object.defineProperty(s,pe,{enumerable:!0,configurable:!0,get:()=>sn.value,set:St=>sn.value=St})}if(o)for(const pe in o)Ou(o[pe],s,n,pe);if(l){const pe=re(l)?l.call(n):l;Reflect.ownKeys(pe).forEach(we=>{qh(we,pe[we])})}u&&pl(u,t,"c");function ke(pe,we){ee(we)?we.forEach(Dt=>pe(Dt.bind(n))):we&&pe(we.bind(n))}if(ke(Mh,d),ke(Ut,f),ke(Ih,p),ke(Mu,m),ke(Eh,y),ke(kh,S),ke(Fh,E),ke(Nh,I),ke(Oh,B),ke(Co,A),ke(Iu,v),ke(Ph,x),ee(C))if(C.length){const pe=t.exposed||(t.exposed={});C.forEach(we=>{Object.defineProperty(pe,we,{get:()=>n[we],set:Dt=>n[we]=Dt})})}else t.exposed||(t.exposed={});T&&t.render===Qt&&(t.render=T),j!=null&&(t.inheritAttrs=j),F&&(t.components=F),oe&&(t.directives=oe),x&&ku(t)}function Lh(t,e,n=Qt){ee(t)&&(t=Va(t));for(const s in t){const r=t[s];let i;Te(r)?"default"in r?i=oi(r.from||s,r.default,!0):i=oi(r.from||s):i=oi(r),Ee(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):e[s]=i}}function pl(t,e,n){Nt(ee(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ou(t,e,n,s){let r=s.includes(".")?Hu(n,s):()=>n[s];if(Pe(t)){const i=e[t];re(i)&&yt(r,i)}else if(re(t))yt(r,t.bind(n));else if(Te(t))if(ee(t))t.forEach(i=>Ou(i,e,n,s));else{const i=re(t.handler)?t.handler.bind(n):e[t.handler];re(i)&&yt(r,i,t)}}function Nu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:a}}=t.appContext,o=i.get(e);let l;return o?l=o:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>xi(l,c,a,!0)),xi(l,e,a)),Te(e)&&i.set(e,l),l}function xi(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&xi(t,i,n,!0),r&&r.forEach(a=>xi(t,a,n,!0));for(const a in e)if(!(s&&a==="expose")){const o=Vh[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const Vh={data:ml,props:gl,emits:gl,methods:qs,computed:qs,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:qs,directives:qs,watch:Bh,provide:ml,inject:Kh};function ml(t,e){return e?t?function(){return je(re(t)?t.call(this,this):t,re(e)?e.call(this,this):e)}:e:t}function Kh(t,e){return qs(Va(t),Va(e))}function Va(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ye(t,e){return t?[...new Set([].concat(t,e))]:e}function qs(t,e){return t?je(Object.create(null),t,e):e}function gl(t,e){return t?ee(t)&&ee(e)?[...new Set([...t,...e])]:je(Object.create(null),hl(t),hl(e??{})):e}function Bh(t,e){if(!t)return e;if(!e)return t;const n=je(Object.create(null),t);for(const s in e)n[s]=Ye(t[s],e[s]);return n}function Fu(){return{app:null,config:{isNativeTag:Nf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zh=0;function Wh(t,e){return function(s,r=null){re(s)||(s=je({},s)),r!=null&&!Te(r)&&(r=null);const i=Fu(),a=new WeakSet,o=[];let l=!1;const c=i.app={_uid:zh++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Cp,get config(){return i.config},set config(u){},use(u,...d){return a.has(u)||(u&&re(u.install)?(a.add(u),u.install(c,...d)):re(u)&&(a.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||fe(s,r);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(p,u,f),l=!0,c._container=u,u.__vue_app__=c,Hi(p.component)}},onUnmount(u){o.push(u)},unmount(){l&&(Nt(o,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=As;As=c;try{return u()}finally{As=d}}};return c}}let As=null;function qh(t,e){if(Je){let n=Je.provides;const s=Je.parent&&Je.parent.provides;s===n&&(n=Je.provides=Object.create(s)),n[t]=e}}function oi(t,e,n=!1){const s=Je||We;if(s||As){const r=As?As._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&re(e)?e.call(s&&s.proxy):e}}const Uu={},ju=()=>Object.create(Uu),Du=t=>Object.getPrototypeOf(t)===Uu;function Zh(t,e,n,s=!1){const r={},i=ju();t.propsDefaults=Object.create(null),Lu(t,e,r,i);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);n?t.props=s?r:fh(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Hh(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:a}}=t,o=he(r),[l]=t.propsOptions;let c=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(qi(t.emitsOptions,f))continue;const p=e[f];if(l)if(ge(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const m=kn(f);r[m]=Ka(l,o,m,p,t,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{Lu(t,e,r,i)&&(c=!0);let u;for(const d in o)(!e||!ge(e,d)&&((u=ts(d))===d||!ge(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=Ka(l,o,d,void 0,t,!0)):delete r[d]);if(i!==o)for(const d in i)(!e||!ge(e,d))&&(delete i[d],c=!0)}c&&dn(t.attrs,"set","")}function Lu(t,e,n,s){const[r,i]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(er(l))continue;const c=e[l];let u;r&&ge(r,u=kn(l))?!i||!i.includes(u)?n[u]=c:(o||(o={}))[u]=c:qi(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,a=!0)}if(i){const l=he(n),c=o||xe;for(let u=0;u<i.length;u++){const d=i[u];n[d]=Ka(r,l,d,c[d],t,!ge(c,d))}}return a}function Ka(t,e,n,s,r,i){const a=t[n];if(a!=null){const o=ge(a,"default");if(o&&s===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&re(l)){const{propsDefaults:c}=r;if(n in c)s=c[n];else{const u=Fr(r);s=c[n]=l.call(null,e),u()}}else s=l;r.ce&&r.ce._setProp(n,s)}a[0]&&(i&&!o?s=!1:a[1]&&(s===""||s===ts(n))&&(s=!0))}return s}const Gh=new WeakMap;function Vu(t,e,n=!1){const s=n?Gh:e.propsCache,r=s.get(t);if(r)return r;const i=t.props,a={},o=[];let l=!1;if(!re(t)){const u=d=>{l=!0;const[f,p]=Vu(d,e,!0);je(a,f),p&&o.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Te(t)&&s.set(t,vs),vs;if(ee(i))for(let u=0;u<i.length;u++){const d=kn(i[u]);yl(d)&&(a[d]=xe)}else if(i)for(const u in i){const d=kn(u);if(yl(d)){const f=i[u],p=a[d]=ee(f)||re(f)?{type:f}:je({},f),m=p.type;let y=!1,S=!0;if(ee(m))for(let M=0;M<m.length;++M){const A=m[M],_=re(A)&&A.name;if(_==="Boolean"){y=!0;break}else _==="String"&&(S=!1)}else y=re(m)&&m.name==="Boolean";p[0]=y,p[1]=S,(y||ge(p,"default"))&&o.push(d)}}const c=[a,o];return Te(t)&&s.set(t,c),c}function yl(t){return t[0]!=="$"&&!er(t)}const Ku=t=>t[0]==="_"||t==="$stable",To=t=>ee(t)?t.map(Jt):[Jt(t)],Xh=(t,e,n)=>{if(e._n)return e;const s=et((...r)=>To(e(...r)),n);return s._c=!1,s},Bu=(t,e,n)=>{const s=t._ctx;for(const r in t){if(Ku(r))continue;const i=t[r];if(re(i))e[r]=Xh(r,i,s);else if(i!=null){const a=To(i);e[r]=()=>a}}},zu=(t,e)=>{const n=To(e);t.slots.default=()=>n},Wu=(t,e,n)=>{for(const s in e)(n||s!=="_")&&(t[s]=e[s])},Jh=(t,e,n)=>{const s=t.slots=ju();if(t.vnode.shapeFlag&32){const r=e._;r?(Wu(s,e,n),n&&Gc(s,"_",r,!0)):Bu(e,s)}else e&&zu(t,e)},$h=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,a=xe;if(s.shapeFlag&32){const o=e._;o?n&&o===1?i=!1:Wu(r,e,n):(i=!e.$stable,Bu(e,r)),a=e}else e&&(zu(t,e),a={default:1});if(i)for(const o in r)!Ku(o)&&a[o]==null&&delete r[o]},Qe=dp;function Yh(t){return Qh(t)}function Qh(t,e){const n=Vi();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:a,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Qt,insertStaticContent:m}=t,y=(g,b,w,O=null,k=null,P=null,K=void 0,D=null,U=!!b.dynamicChildren)=>{if(g===b)return;g&&!Bn(g,b)&&(O=zr(g),St(g,k,P,!0),g=null),b.patchFlag===-2&&(U=!1,b.dynamicChildren=null);const{type:N,ref:J,shapeFlag:z}=b;switch(N){case Zi:S(g,b,w,O);break;case nt:M(g,b,w,O);break;case ua:g==null&&A(b,w,O,K);break;case Ie:F(g,b,w,O,k,P,K,D,U);break;default:z&1?T(g,b,w,O,k,P,K,D,U):z&6?oe(g,b,w,O,k,P,K,D,U):(z&64||z&128)&&N.process(g,b,w,O,k,P,K,D,U,Ls)}J!=null&&k&&_i(J,g&&g.ref,P,b||g,!b)},S=(g,b,w,O)=>{if(g==null)s(b.el=o(b.children),w,O);else{const k=b.el=g.el;b.children!==g.children&&c(k,b.children)}},M=(g,b,w,O)=>{g==null?s(b.el=l(b.children||""),w,O):b.el=g.el},A=(g,b,w,O)=>{[g.el,g.anchor]=m(g.children,b,w,O,g.el,g.anchor)},_=({el:g,anchor:b},w,O)=>{let k;for(;g&&g!==b;)k=f(g),s(g,w,O),g=k;s(b,w,O)},v=({el:g,anchor:b})=>{let w;for(;g&&g!==b;)w=f(g),r(g),g=w;r(b)},T=(g,b,w,O,k,P,K,D,U)=>{b.type==="svg"?K="svg":b.type==="math"&&(K="mathml"),g==null?I(b,w,O,k,P,K,D,U):x(g,b,k,P,K,D,U)},I=(g,b,w,O,k,P,K,D)=>{let U,N;const{props:J,shapeFlag:z,transition:X,dirs:te}=g;if(U=g.el=a(g.type,P,J&&J.is,J),z&8?u(U,g.children):z&16&&E(g.children,U,null,O,k,ca(g,P),K,D),te&&jn(g,null,O,"created"),B(U,g,g.scopeId,K,O),J){for(const Se in J)Se!=="value"&&!er(Se)&&i(U,Se,null,J[Se],P,O);"value"in J&&i(U,"value",null,J.value,P),(N=J.onVnodeBeforeMount)&&Bt(N,O,g)}te&&jn(g,null,O,"beforeMount");const ce=ep(k,X);ce&&X.beforeEnter(U),s(U,b,w),((N=J&&J.onVnodeMounted)||ce||te)&&Qe(()=>{N&&Bt(N,O,g),ce&&X.enter(U),te&&jn(g,null,O,"mounted")},k)},B=(g,b,w,O,k)=>{if(w&&p(g,w),O)for(let P=0;P<O.length;P++)p(g,O[P]);if(k){let P=k.subTree;if(b===P||Xu(P.type)&&(P.ssContent===b||P.ssFallback===b)){const K=k.vnode;B(g,K,K.scopeId,K.slotScopeIds,k.parent)}}},E=(g,b,w,O,k,P,K,D,U=0)=>{for(let N=U;N<g.length;N++){const J=g[N]=D?Sn(g[N]):Jt(g[N]);y(null,J,b,w,O,k,P,K,D)}},x=(g,b,w,O,k,P,K)=>{const D=b.el=g.el;let{patchFlag:U,dynamicChildren:N,dirs:J}=b;U|=g.patchFlag&16;const z=g.props||xe,X=b.props||xe;let te;if(w&&Dn(w,!1),(te=X.onVnodeBeforeUpdate)&&Bt(te,w,b,g),J&&jn(b,g,w,"beforeUpdate"),w&&Dn(w,!0),(z.innerHTML&&X.innerHTML==null||z.textContent&&X.textContent==null)&&u(D,""),N?C(g.dynamicChildren,N,D,w,O,ca(b,k),P):K||we(g,b,D,null,w,O,ca(b,k),P,!1),U>0){if(U&16)j(D,z,X,w,k);else if(U&2&&z.class!==X.class&&i(D,"class",null,X.class,k),U&4&&i(D,"style",z.style,X.style,k),U&8){const ce=b.dynamicProps;for(let Se=0;Se<ce.length;Se++){const be=ce[Se],ut=z[be],rt=X[be];(rt!==ut||be==="value")&&i(D,be,ut,rt,k,w)}}U&1&&g.children!==b.children&&u(D,b.children)}else!K&&N==null&&j(D,z,X,w,k);((te=X.onVnodeUpdated)||J)&&Qe(()=>{te&&Bt(te,w,b,g),J&&jn(b,g,w,"updated")},O)},C=(g,b,w,O,k,P,K)=>{for(let D=0;D<b.length;D++){const U=g[D],N=b[D],J=U.el&&(U.type===Ie||!Bn(U,N)||U.shapeFlag&70)?d(U.el):w;y(U,N,J,null,O,k,P,K,!0)}},j=(g,b,w,O,k)=>{if(b!==w){if(b!==xe)for(const P in b)!er(P)&&!(P in w)&&i(g,P,b[P],null,k,O);for(const P in w){if(er(P))continue;const K=w[P],D=b[P];K!==D&&P!=="value"&&i(g,P,D,K,k,O)}"value"in w&&i(g,"value",b.value,w.value,k)}},F=(g,b,w,O,k,P,K,D,U)=>{const N=b.el=g?g.el:o(""),J=b.anchor=g?g.anchor:o("");let{patchFlag:z,dynamicChildren:X,slotScopeIds:te}=b;te&&(D=D?D.concat(te):te),g==null?(s(N,w,O),s(J,w,O),E(b.children||[],w,J,k,P,K,D,U)):z>0&&z&64&&X&&g.dynamicChildren?(C(g.dynamicChildren,X,w,k,P,K,D),(b.key!=null||k&&b===k.subTree)&&Eo(g,b,!0)):we(g,b,w,J,k,P,K,D,U)},oe=(g,b,w,O,k,P,K,D,U)=>{b.slotScopeIds=D,g==null?b.shapeFlag&512?k.ctx.activate(b,w,O,K,U):Ae(b,w,O,k,P,K,U):Le(g,b,U)},Ae=(g,b,w,O,k,P,K)=>{const D=g.component=vp(g,O,k);if(zi(g)&&(D.ctx.renderer=Ls),bp(D,!1,K),D.asyncDep){if(k&&k.registerDep(D,ke,K),!g.el){const U=D.subTree=fe(nt);M(null,U,b,w)}}else ke(D,g,b,w,k,P,K)},Le=(g,b,w)=>{const O=b.component=g.component;if(cp(g,b,w))if(O.asyncDep&&!O.asyncResolved){pe(O,b,w);return}else O.next=b,O.update();else b.el=g.el,O.vnode=b},ke=(g,b,w,O,k,P,K)=>{const D=()=>{if(g.isMounted){let{next:z,bu:X,u:te,parent:ce,vnode:Se}=g;{const Vt=qu(g);if(Vt){z&&(z.el=Se.el,pe(g,z,K)),Vt.asyncDep.then(()=>{g.isUnmounted||D()});return}}let be=z,ut;Dn(g,!1),z?(z.el=Se.el,pe(g,z,K)):z=Se,X&&ii(X),(ut=z.props&&z.props.onVnodeBeforeUpdate)&&Bt(ut,ce,z,Se),Dn(g,!0);const rt=bl(g),Lt=g.subTree;g.subTree=rt,y(Lt,rt,d(Lt.el),zr(Lt),g,k,P),z.el=rt.el,be===null&&up(g,rt.el),te&&Qe(te,k),(ut=z.props&&z.props.onVnodeUpdated)&&Qe(()=>Bt(ut,ce,z,Se),k)}else{let z;const{el:X,props:te}=b,{bm:ce,m:Se,parent:be,root:ut,type:rt}=g,Lt=xs(b);Dn(g,!1),ce&&ii(ce),!Lt&&(z=te&&te.onVnodeBeforeMount)&&Bt(z,be,b),Dn(g,!0);{ut.ce&&ut.ce._injectChildStyle(rt);const Vt=g.subTree=bl(g);y(null,Vt,w,O,g,k,P),b.el=Vt.el}if(Se&&Qe(Se,k),!Lt&&(z=te&&te.onVnodeMounted)){const Vt=b;Qe(()=>Bt(z,be,Vt),k)}(b.shapeFlag&256||be&&xs(be.vnode)&&be.vnode.shapeFlag&256)&&g.a&&Qe(g.a,k),g.isMounted=!0,b=w=O=null}};g.scope.on();const U=g.effect=new Yc(D);g.scope.off();const N=g.update=U.run.bind(U),J=g.job=U.runIfDirty.bind(U);J.i=g,J.id=g.uid,U.scheduler=()=>xo(J),Dn(g,!0),N()},pe=(g,b,w)=>{b.component=g;const O=g.vnode.props;g.vnode=b,g.next=null,Hh(g,b.props,O,w),$h(g,b.children,w),Nn(),ll(g),Fn()},we=(g,b,w,O,k,P,K,D,U=!1)=>{const N=g&&g.children,J=g?g.shapeFlag:0,z=b.children,{patchFlag:X,shapeFlag:te}=b;if(X>0){if(X&128){yn(N,z,w,O,k,P,K,D,U);return}else if(X&256){Dt(N,z,w,O,k,P,K,D,U);return}}te&8?(J&16&&Ds(N,k,P),z!==N&&u(w,z)):J&16?te&16?yn(N,z,w,O,k,P,K,D,U):Ds(N,k,P,!0):(J&8&&u(w,""),te&16&&E(z,w,O,k,P,K,D,U))},Dt=(g,b,w,O,k,P,K,D,U)=>{g=g||vs,b=b||vs;const N=g.length,J=b.length,z=Math.min(N,J);let X;for(X=0;X<z;X++){const te=b[X]=U?Sn(b[X]):Jt(b[X]);y(g[X],te,w,null,k,P,K,D,U)}N>J?Ds(g,k,P,!0,!1,z):E(b,w,O,k,P,K,D,U,z)},yn=(g,b,w,O,k,P,K,D,U)=>{let N=0;const J=b.length;let z=g.length-1,X=J-1;for(;N<=z&&N<=X;){const te=g[N],ce=b[N]=U?Sn(b[N]):Jt(b[N]);if(Bn(te,ce))y(te,ce,w,null,k,P,K,D,U);else break;N++}for(;N<=z&&N<=X;){const te=g[z],ce=b[X]=U?Sn(b[X]):Jt(b[X]);if(Bn(te,ce))y(te,ce,w,null,k,P,K,D,U);else break;z--,X--}if(N>z){if(N<=X){const te=X+1,ce=te<J?b[te].el:O;for(;N<=X;)y(null,b[N]=U?Sn(b[N]):Jt(b[N]),w,ce,k,P,K,D,U),N++}}else if(N>X)for(;N<=z;)St(g[N],k,P,!0),N++;else{const te=N,ce=N,Se=new Map;for(N=ce;N<=X;N++){const dt=b[N]=U?Sn(b[N]):Jt(b[N]);dt.key!=null&&Se.set(dt.key,N)}let be,ut=0;const rt=X-ce+1;let Lt=!1,Vt=0;const Vs=new Array(rt);for(N=0;N<rt;N++)Vs[N]=0;for(N=te;N<=z;N++){const dt=g[N];if(ut>=rt){St(dt,k,P,!0);continue}let Kt;if(dt.key!=null)Kt=Se.get(dt.key);else for(be=ce;be<=X;be++)if(Vs[be-ce]===0&&Bn(dt,b[be])){Kt=be;break}Kt===void 0?St(dt,k,P,!0):(Vs[Kt-ce]=N+1,Kt>=Vt?Vt=Kt:Lt=!0,y(dt,b[Kt],w,null,k,P,K,D,U),ut++)}const sl=Lt?tp(Vs):vs;for(be=sl.length-1,N=rt-1;N>=0;N--){const dt=ce+N,Kt=b[dt],rl=dt+1<J?b[dt+1].el:O;Vs[N]===0?y(null,Kt,w,rl,k,P,K,D,U):Lt&&(be<0||N!==sl[be]?sn(Kt,w,rl,2):be--)}}},sn=(g,b,w,O,k=null)=>{const{el:P,type:K,transition:D,children:U,shapeFlag:N}=g;if(N&6){sn(g.component.subTree,b,w,O);return}if(N&128){g.suspense.move(b,w,O);return}if(N&64){K.move(g,b,w,Ls);return}if(K===Ie){s(P,b,w);for(let z=0;z<U.length;z++)sn(U[z],b,w,O);s(g.anchor,b,w);return}if(K===ua){_(g,b,w);return}if(O!==2&&N&1&&D)if(O===0)D.beforeEnter(P),s(P,b,w),Qe(()=>D.enter(P),k);else{const{leave:z,delayLeave:X,afterLeave:te}=D,ce=()=>s(P,b,w),Se=()=>{z(P,()=>{ce(),te&&te()})};X?X(P,ce,Se):Se()}else s(P,b,w)},St=(g,b,w,O=!1,k=!1)=>{const{type:P,props:K,ref:D,children:U,dynamicChildren:N,shapeFlag:J,patchFlag:z,dirs:X,cacheIndex:te}=g;if(z===-2&&(k=!1),D!=null&&_i(D,null,w,g,!0),te!=null&&(b.renderCache[te]=void 0),J&256){b.ctx.deactivate(g);return}const ce=J&1&&X,Se=!xs(g);let be;if(Se&&(be=K&&K.onVnodeBeforeUnmount)&&Bt(be,b,g),J&6)Of(g.component,w,O);else{if(J&128){g.suspense.unmount(w,O);return}ce&&jn(g,null,b,"beforeUnmount"),J&64?g.type.remove(g,b,w,Ls,O):N&&!N.hasOnce&&(P!==Ie||z>0&&z&64)?Ds(N,b,w,!1,!0):(P===Ie&&z&384||!k&&J&16)&&Ds(U,b,w),O&&se(g)}(Se&&(be=K&&K.onVnodeUnmounted)||ce)&&Qe(()=>{be&&Bt(be,b,g),ce&&jn(g,null,b,"unmounted")},w)},se=g=>{const{type:b,el:w,anchor:O,transition:k}=g;if(b===Ie){ve(w,O);return}if(b===ua){v(g);return}const P=()=>{r(w),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(g.shapeFlag&1&&k&&!k.persisted){const{leave:K,delayLeave:D}=k,U=()=>K(w,P);D?D(g.el,P,U):U()}else P()},ve=(g,b)=>{let w;for(;g!==b;)w=f(g),r(g),g=w;r(b)},Of=(g,b,w)=>{const{bum:O,scope:k,job:P,subTree:K,um:D,m:U,a:N}=g;vl(U),vl(N),O&&ii(O),k.stop(),P&&(P.flags|=8,St(K,g,b,w)),D&&Qe(D,b),Qe(()=>{g.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Ds=(g,b,w,O=!1,k=!1,P=0)=>{for(let K=P;K<g.length;K++)St(g[K],b,w,O,k)},zr=g=>{if(g.shapeFlag&6)return zr(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const b=f(g.anchor||g.el),w=b&&b[bu];return w?f(w):b};let ta=!1;const nl=(g,b,w)=>{g==null?b._vnode&&St(b._vnode,null,null,!0):y(b._vnode||null,g,b,null,null,null,w),b._vnode=g,ta||(ta=!0,ll(),gu(),ta=!1)},Ls={p:y,um:St,m:sn,r:se,mt:Ae,mc:E,pc:we,pbc:C,n:zr,o:t};return{render:nl,hydrate:void 0,createApp:Wh(nl)}}function ca({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Dn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ep(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Eo(t,e,n=!1){const s=t.children,r=e.children;if(ee(s)&&ee(r))for(let i=0;i<s.length;i++){const a=s[i];let o=r[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[i]=Sn(r[i]),o.el=a.el),!n&&o.patchFlag!==-2&&Eo(a,o)),o.type===Zi&&(o.el=a.el)}}function tp(t){const e=t.slice(),n=[0];let s,r,i,a,o;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,a=n.length-1;i<a;)o=i+a>>1,t[n[o]]<c?i=o+1:a=o;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,a=n[i-1];i-- >0;)n[i]=a,a=e[a];return n}function qu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:qu(e)}function vl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const np=Symbol.for("v-scx"),sp=()=>oi(np);function yt(t,e,n){return Zu(t,e,n)}function Zu(t,e,n=xe){const{immediate:s,deep:r,flush:i,once:a}=n,o=je({},n),l=e&&s||!e&&i!=="post";let c;if(mr){if(i==="sync"){const p=sp();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Qt,p.resume=Qt,p.pause=Qt,p}}const u=Je;o.call=(p,m,y)=>Nt(p,u,m,y);let d=!1;i==="post"?o.scheduler=p=>{Qe(p,u&&u.suspense)}:i!=="sync"&&(d=!0,o.scheduler=(p,m)=>{m?p():xo(p)}),o.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=wh(t,e,o);return mr&&(c?c.push(f):l&&f()),f}function rp(t,e,n){const s=this.proxy,r=Pe(t)?t.includes(".")?Hu(s,t):()=>s[t]:t.bind(s,s);let i;re(e)?i=e:(i=e.handler,n=e);const a=Fr(this),o=Zu(r,i.bind(s),n);return a(),o}function Hu(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}const ip=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${kn(e)}Modifiers`]||t[`${ts(e)}Modifiers`];function ap(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||xe;let r=n;const i=e.startsWith("update:"),a=i&&ip(s,e.slice(7));a&&(a.trim&&(r=n.map(u=>Pe(u)?u.trim():u)),a.number&&(r=n.map(Ia)));let o,l=s[o=na(e)]||s[o=na(kn(e))];!l&&i&&(l=s[o=na(ts(e))]),l&&Nt(l,t,6,r);const c=s[o+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Nt(c,t,6,r)}}function Gu(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let a={},o=!1;if(!re(t)){const l=c=>{const u=Gu(c,e,!0);u&&(o=!0,je(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!o?(Te(t)&&s.set(t,null),null):(ee(i)?i.forEach(l=>a[l]=null):je(a,i),Te(t)&&s.set(t,a),a)}function qi(t,e){return!t||!ji(e)?!1:(e=e.slice(2).replace(/Once$/,""),ge(t,e[0].toLowerCase()+e.slice(1))||ge(t,ts(e))||ge(t,e))}function bl(t){const{type:e,vnode:n,proxy:s,withProxy:r,propsOptions:[i],slots:a,attrs:o,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:m,inheritAttrs:y}=t,S=wi(t);let M,A;try{if(n.shapeFlag&4){const v=r||s,T=v;M=Jt(c.call(T,v,u,d,p,f,m)),A=o}else{const v=e;M=Jt(v.length>1?v(d,{attrs:o,slots:a,emit:l}):v(d,null)),A=e.props?o:op(o)}}catch(v){ir.length=0,Bi(v,t,1),M=fe(nt)}let _=M;if(A&&y!==!1){const v=Object.keys(A),{shapeFlag:T}=_;v.length&&T&7&&(i&&v.some(uo)&&(A=lp(A,i)),_=Rn(_,A,!1,!0))}return n.dirs&&(_=Rn(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Xn(_,n.transition),M=_,wi(S),M}const op=t=>{let e;for(const n in t)(n==="class"||n==="style"||ji(n))&&((e||(e={}))[n]=t[n]);return e},lp=(t,e)=>{const n={};for(const s in t)(!uo(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function cp(t,e,n){const{props:s,children:r,component:i}=t,{props:a,children:o,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?wl(s,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(a[f]!==s[f]&&!qi(c,f))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:s===a?!1:s?a?wl(s,a,c):!0:!!a;return!1}function wl(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!qi(n,i))return!0}return!1}function up({vnode:t,parent:e},n){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=n,e=e.parent;else break}}const Xu=t=>t.__isSuspense;function dp(t,e){e&&e.pendingBranch?ee(t)?e.effects.push(...t):e.effects.push(t):Ah(t)}const Ie=Symbol.for("v-fgt"),Zi=Symbol.for("v-txt"),nt=Symbol.for("v-cmt"),ua=Symbol.for("v-stc"),ir=[];let gt=null;function L(t=!1){ir.push(gt=t?null:[])}function fp(){ir.pop(),gt=ir[ir.length-1]||null}let hr=1;function _l(t,e=!1){hr+=t,t<0&&gt&&e&&(gt.hasOnce=!0)}function Ju(t){return t.dynamicChildren=hr>0?gt||vs:null,fp(),hr>0&&gt&&gt.push(t),t}function Z(t,e,n,s,r,i){return Ju(h(t,e,n,s,r,i,!0))}function _t(t,e,n,s,r){return Ju(fe(t,e,n,s,r,!0))}function pr(t){return t?t.__v_isVNode===!0:!1}function Bn(t,e){return t.type===e.type&&t.key===e.key}const $u=({key:t})=>t??null,li=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Pe(t)||Ee(t)||re(t)?{i:We,r:t,k:e,f:!!n}:t:null);function h(t,e=null,n=null,s=0,r=null,i=t===Ie?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&$u(e),ref:e&&li(e),scopeId:vu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:We};return o?(ko(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Pe(n)?8:16),hr>0&&!a&&gt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&gt.push(l),l}const fe=hp;function hp(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===Uh)&&(t=nt),pr(t)){const o=Rn(t,e,!0);return n&&ko(o,n),hr>0&&!i&&gt&&(o.shapeFlag&6?gt[gt.indexOf(t)]=o:gt.push(o)),o.patchFlag=-2,o}if(Ap(t)&&(t=t.__vccOpts),e){e=pp(e);let{class:o,style:l}=e;o&&!Pe(o)&&(e.class=Oe(o)),Te(l)&&(_o(l)&&!ee(l)&&(l=je({},l)),e.style=Or(l))}const a=Pe(t)?1:Xu(t)?128:wu(t)?64:Te(t)?4:re(t)?2:0;return h(t,e,n,s,r,a,i,!0)}function pp(t){return t?_o(t)||Du(t)?je({},t):t:null}function Rn(t,e,n=!1,s=!1){const{props:r,ref:i,patchFlag:a,children:o,transition:l}=t,c=e?mp(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&$u(c),ref:e&&e.ref?n&&i?ee(i)?i.concat(li(e)):[i,li(e)]:li(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ie?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rn(t.ssContent),ssFallback:t.ssFallback&&Rn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&Xn(u,l.clone(u)),u}function ns(t=" ",e=0){return fe(Zi,null,t,e)}function ye(t="",e=!1){return e?(L(),_t(nt,null,t)):fe(nt,null,t)}function Jt(t){return t==null||typeof t=="boolean"?fe(nt):ee(t)?fe(Ie,null,t.slice()):pr(t)?Sn(t):fe(Zi,null,String(t))}function Sn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rn(t)}function ko(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ee(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),ko(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!Du(e)?e._ctx=We:r===3&&We&&(We.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else re(e)?(e={default:e,_ctx:We},n=32):(e=String(e),s&64?(n=16,e=[ns(e)]):n=8);t.children=e,t.shapeFlag|=n}function mp(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Oe([e.class,s.class]));else if(r==="style")e.style=Or([e.style,s.style]);else if(ji(r)){const i=e[r],a=s[r];a&&i!==a&&!(ee(i)&&i.includes(a))&&(e[r]=i?[].concat(i,a):a)}else r!==""&&(e[r]=s[r])}return e}function Bt(t,e,n,s=null){Nt(t,e,7,[n,s])}const gp=Fu();let yp=0;function vp(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||gp,i={uid:yp++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Zf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vu(s,r),emitsOptions:Gu(s,r),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:s.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ap.bind(null,i),t.ce&&t.ce(i),i}let Je=null;const Yu=()=>Je||We;let Ai,Ba;{const t=Vi(),e=(n,s)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(s),i=>{r.length>1?r.forEach(a=>a(i)):r[0](i)}};Ai=e("__VUE_INSTANCE_SETTERS__",n=>Je=n),Ba=e("__VUE_SSR_SETTERS__",n=>mr=n)}const Fr=t=>{const e=Je;return Ai(t),t.scope.on(),()=>{t.scope.off(),Ai(e)}},xl=()=>{Je&&Je.scope.off(),Ai(null)};function Qu(t){return t.vnode.shapeFlag&4}let mr=!1;function bp(t,e=!1,n=!1){e&&Ba(e);const{props:s,children:r}=t.vnode,i=Qu(t);Zh(t,s,i,e),Jh(t,r,n);const a=i?wp(t,e):void 0;return e&&Ba(!1),a}function wp(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jh);const{setup:s}=n;if(s){Nn();const r=t.setupContext=s.length>1?xp(t):null,i=Fr(t),a=Nr(s,t,0,[t.props,r]),o=Wc(a);if(Fn(),i(),(o||t.sp)&&!xs(t)&&ku(t),o){if(a.then(xl,xl),e)return a.then(l=>{Al(t,l)}).catch(l=>{Bi(l,t,0)});t.asyncDep=a}else Al(t,a)}else ed(t)}function Al(t,e,n){re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Te(e)&&(t.setupState=hu(e)),ed(t)}function ed(t,e,n){const s=t.type;t.render||(t.render=s.render||Qt);{const r=Fr(t);Nn();try{Dh(t)}finally{Fn(),r()}}}const _p={get(t,e){return Ge(t,"get",""),t[e]}};function xp(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,_p),slots:t.slots,emit:t.emit,expose:e}}function Hi(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(hu(hh(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in rr)return rr[n](t)},has(e,n){return n in e||n in rr}})):t.proxy}function Ap(t){return re(t)&&"__vccOpts"in t}const Pt=(t,e)=>vh(t,e,mr);function Sp(t,e,n){const s=arguments.length;return s===2?Te(e)&&!ee(e)?pr(e)?fe(t,null,[e]):fe(t,e):fe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&pr(n)&&(n=[n]),fe(t,e,n))}const Cp="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let za;const Sl=typeof window<"u"&&window.trustedTypes;if(Sl)try{za=Sl.createPolicy("vue",{createHTML:t=>t})}catch{}const td=za?t=>za.createHTML(t):t=>t,Tp="http://www.w3.org/2000/svg",Ep="http://www.w3.org/1998/Math/MathML",cn=typeof document<"u"?document:null,Cl=cn&&cn.createElement("template"),kp={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e==="svg"?cn.createElementNS(Tp,t):e==="mathml"?cn.createElementNS(Ep,t):n?cn.createElement(t,{is:n}):cn.createElement(t);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>cn.createTextNode(t),createComment:t=>cn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const a=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Cl.innerHTML=td(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const o=Cl.content;if(s==="svg"||s==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},vn="transition",Bs="animation",Ms=Symbol("_vtc"),nd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},sd=je({},Su,nd),Rp=t=>(t.displayName="Transition",t.props=sd,t),Mp=Rp((t,{slots:e})=>Sp(Th,rd(t),e)),Ln=(t,e=[])=>{ee(t)?t.forEach(n=>n(...e)):t&&t(...e)},Tl=t=>t?ee(t)?t.some(e=>e.length>1):t.length>1:!1;function rd(t){const e={};for(const F in t)F in nd||(e[F]=t[F]);if(t.css===!1)return e;const{name:n="v",type:s,duration:r,enterFromClass:i=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=i,appearActiveClass:c=a,appearToClass:u=o,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=Ip(r),y=m&&m[0],S=m&&m[1],{onBeforeEnter:M,onEnter:A,onEnterCancelled:_,onLeave:v,onLeaveCancelled:T,onBeforeAppear:I=M,onAppear:B=A,onAppearCancelled:E=_}=e,x=(F,oe,Ae,Le)=>{F._enterCancelled=Le,_n(F,oe?u:o),_n(F,oe?c:a),Ae&&Ae()},C=(F,oe)=>{F._isLeaving=!1,_n(F,d),_n(F,p),_n(F,f),oe&&oe()},j=F=>(oe,Ae)=>{const Le=F?B:A,ke=()=>x(oe,F,Ae);Ln(Le,[oe,ke]),El(()=>{_n(oe,F?l:i),qt(oe,F?u:o),Tl(Le)||kl(oe,s,y,ke)})};return je(e,{onBeforeEnter(F){Ln(M,[F]),qt(F,i),qt(F,a)},onBeforeAppear(F){Ln(I,[F]),qt(F,l),qt(F,c)},onEnter:j(!1),onAppear:j(!0),onLeave(F,oe){F._isLeaving=!0;const Ae=()=>C(F,oe);qt(F,d),F._enterCancelled?(qt(F,f),Wa()):(Wa(),qt(F,f)),El(()=>{F._isLeaving&&(_n(F,d),qt(F,p),Tl(v)||kl(F,s,S,Ae))}),Ln(v,[F,Ae])},onEnterCancelled(F){x(F,!1,void 0,!0),Ln(_,[F])},onAppearCancelled(F){x(F,!0,void 0,!0),Ln(E,[F])},onLeaveCancelled(F){C(F),Ln(T,[F])}})}function Ip(t){if(t==null)return null;if(Te(t))return[da(t.enter),da(t.leave)];{const e=da(t);return[e,e]}}function da(t){return Lf(t)}function qt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Ms]||(t[Ms]=new Set)).add(e)}function _n(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const n=t[Ms];n&&(n.delete(e),n.size||(t[Ms]=void 0))}function El(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Pp=0;function kl(t,e,n,s){const r=t._endId=++Pp,i=()=>{r===t._endId&&s()};if(n!=null)return setTimeout(i,n);const{type:a,timeout:o,propCount:l}=id(t,e);if(!a)return s();const c=a+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=p=>{p.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),t.addEventListener(c,f)}function id(t,e){const n=window.getComputedStyle(t),s=m=>(n[m]||"").split(", "),r=s(`${vn}Delay`),i=s(`${vn}Duration`),a=Rl(r,i),o=s(`${Bs}Delay`),l=s(`${Bs}Duration`),c=Rl(o,l);let u=null,d=0,f=0;e===vn?a>0&&(u=vn,d=a,f=i.length):e===Bs?c>0&&(u=Bs,d=c,f=l.length):(d=Math.max(a,c),u=d>0?a>c?vn:Bs:null,f=u?u===vn?i.length:l.length:0);const p=u===vn&&/\b(transform|all)(,|$)/.test(s(`${vn}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function Rl(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,s)=>Ml(n)+Ml(t[s])))}function Ml(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Wa(){return document.body.offsetHeight}function Op(t,e,n){const s=t[Ms];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Si=Symbol("_vod"),ad=Symbol("_vsh"),Np={beforeMount(t,{value:e},{transition:n}){t[Si]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):zs(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),zs(t,!0),s.enter(t)):s.leave(t,()=>{zs(t,!1)}):zs(t,e))},beforeUnmount(t,{value:e}){zs(t,e)}};function zs(t,e){t.style.display=e?t[Si]:"none",t[ad]=!e}const Fp=Symbol(""),Up=/(^|;)\s*display\s*:/;function jp(t,e,n){const s=t.style,r=Pe(n);let i=!1;if(n&&!r){if(e)if(Pe(e))for(const a of e.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&ci(s,o,"")}else for(const a in e)n[a]==null&&ci(s,a,"");for(const a in n)a==="display"&&(i=!0),ci(s,a,n[a])}else if(r){if(e!==n){const a=s[Fp];a&&(n+=";"+a),s.cssText=n,i=Up.test(n)}}else e&&t.removeAttribute("style");Si in t&&(t[Si]=i?s.display:"",t[ad]&&(s.display="none"))}const Il=/\s*!important$/;function ci(t,e,n){if(ee(n))n.forEach(s=>ci(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Dp(t,e);Il.test(n)?t.setProperty(ts(s),n.replace(Il,""),"important"):t[s]=n}}const Pl=["Webkit","Moz","ms"],fa={};function Dp(t,e){const n=fa[e];if(n)return n;let s=kn(e);if(s!=="filter"&&s in t)return fa[e]=s;s=Hc(s);for(let r=0;r<Pl.length;r++){const i=Pl[r]+s;if(i in t)return fa[e]=i}return e}const Ol="http://www.w3.org/1999/xlink";function Nl(t,e,n,s,r,i=qf(e)){s&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ol,e.slice(6,e.length)):t.setAttributeNS(Ol,e,n):n==null||i&&!Xc(n)?t.removeAttribute(e):t.setAttribute(e,i?"":mn(n)?String(n):n)}function Fl(t,e,n,s,r){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?td(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let a=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=Xc(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(r||e)}function ds(t,e,n,s){t.addEventListener(e,n,s)}function Lp(t,e,n,s){t.removeEventListener(e,n,s)}const Ul=Symbol("_vei");function Vp(t,e,n,s,r=null){const i=t[Ul]||(t[Ul]={}),a=i[e];if(s&&a)a.value=s;else{const[o,l]=Kp(e);if(s){const c=i[e]=Wp(s,r);ds(t,o,c,l)}else a&&(Lp(t,o,a,l),i[e]=void 0)}}const jl=/(?:Once|Passive|Capture)$/;function Kp(t){let e;if(jl.test(t)){e={};let s;for(;s=t.match(jl);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ts(t.slice(2)),e]}let ha=0;const Bp=Promise.resolve(),zp=()=>ha||(Bp.then(()=>ha=0),ha=Date.now());function Wp(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Nt(qp(s,n.value),e,5,[s])};return n.value=t,n.attached=zp(),n}function qp(t,e){if(ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Dl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Zp=(t,e,n,s,r,i)=>{const a=r==="svg";e==="class"?Op(t,s,a):e==="style"?jp(t,n,s):ji(e)?uo(e)||Vp(t,e,n,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Hp(t,e,s,a))?(Fl(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Nl(t,e,s,a,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Pe(s))?Fl(t,kn(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Nl(t,e,s,a))};function Hp(t,e,n,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Dl(e)&&re(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Dl(e)&&Pe(n)?!1:e in t}const od=new WeakMap,ld=new WeakMap,Ci=Symbol("_moveCb"),Ll=Symbol("_enterCb"),Gp=t=>(delete t.props.mode,t),Xp=Gp({name:"TransitionGroup",props:je({},sd,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Yu(),s=Au();let r,i;return Mu(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!em(r[0].el,n.vnode.el,a))return;r.forEach($p),r.forEach(Yp);const o=r.filter(Qp);Wa(),o.forEach(l=>{const c=l.el,u=c.style;qt(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Ci]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[Ci]=null,_n(c,a))};c.addEventListener("transitionend",d)})}),()=>{const a=he(t),o=rd(a);let l=a.tag||Ie;if(r=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(r.push(u),Xn(u,fr(u,o,s,n)),od.set(u,u.el.getBoundingClientRect()))}i=e.default?Ao(e.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&Xn(u,fr(u,o,s,n))}return fe(l,null,i)}}}),Jp=Xp;function $p(t){const e=t.el;e[Ci]&&e[Ci](),e[Ll]&&e[Ll]()}function Yp(t){ld.set(t,t.el.getBoundingClientRect())}function Qp(t){const e=od.get(t),n=ld.get(t),s=e.left-n.left,r=e.top-n.top;if(s||r){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${s}px,${r}px)`,i.transitionDuration="0s",t}}function em(t,e,n){const s=t.cloneNode(),r=t[Ms];r&&r.forEach(o=>{o.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(o=>o&&s.classList.add(o)),s.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(s);const{hasTransform:a}=id(s);return i.removeChild(s),a}const Vl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ee(e)?n=>ii(e,n):e};function tm(t){t.target.composing=!0}function Kl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pa=Symbol("_assign"),mt={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t[pa]=Vl(r);const i=s||r.props&&r.props.type==="number";ds(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),i&&(o=Ia(o)),t[pa](o)}),n&&ds(t,"change",()=>{t.value=t.value.trim()}),e||(ds(t,"compositionstart",tm),ds(t,"compositionend",Kl),ds(t,"change",Kl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:s,trim:r,number:i}},a){if(t[pa]=Vl(a),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ia(t.value):t.value,l=e??"";o!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===n||r&&t.value.trim()===l)||(t.value=l))}},nm=["ctrl","shift","alt","meta"],sm={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>nm.some(n=>t[`${n}Key`]&&!e.includes(n))},ze=(t,e)=>{const n=t._withMods||(t._withMods={}),s=e.join(".");return n[s]||(n[s]=(r,...i)=>{for(let a=0;a<e.length;a++){const o=sm[e[a]];if(o&&o(r,e))return}return t(r,...i)})},rm=je({patchProp:Zp},kp);let Bl;function im(){return Bl||(Bl=Yh(rm))}const am=(...t)=>{const e=im().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=lm(s);if(!r)return;const i=e._component;!re(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,om(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function om(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function lm(t){return Pe(t)?document.querySelector(t):t}var ue;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const i={};for(const a of r)i[a]=a;return i},t.getValidEnumValues=r=>{const i=t.objectKeys(r).filter(o=>typeof r[r[o]]!="number"),a={};for(const o of i)a[o]=r[o];return t.objectValues(a)},t.objectValues=r=>t.objectKeys(r).map(function(i){return r[i]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const i=[];for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&i.push(a);return i},t.find=(r,i)=>{for(const a of r)if(i(a))return a},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,i=" | "){return r.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}t.joinValues=s,t.jsonStringifyReplacer=(r,i)=>typeof i=="bigint"?i.toString():i})(ue||(ue={}));var qa;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(qa||(qa={}));const W=ue.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),un=t=>{switch(typeof t){case"undefined":return W.undefined;case"string":return W.string;case"number":return isNaN(t)?W.nan:W.number;case"boolean":return W.boolean;case"function":return W.function;case"bigint":return W.bigint;case"symbol":return W.symbol;case"object":return Array.isArray(t)?W.array:t===null?W.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?W.promise:typeof Map<"u"&&t instanceof Map?W.map:typeof Set<"u"&&t instanceof Set?W.set:typeof Date<"u"&&t instanceof Date?W.date:W.object;default:return W.unknown}},R=ue.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),cm=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class vt extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(i){return i.message},s={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(r);else if(a.code==="invalid_return_type")r(a.returnTypeError);else if(a.code==="invalid_arguments")r(a.argumentsError);else if(a.path.length===0)s._errors.push(n(a));else{let o=s,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return r(this),s}static assert(e){if(!(e instanceof vt))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ue.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}vt.create=t=>new vt(t);const Is=(t,e)=>{let n;switch(t.code){case R.invalid_type:t.received===W.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ue.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${ue.joinValues(t.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ue.joinValues(t.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${ue.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ue.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case R.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case R.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=e.defaultError,ue.assertNever(t)}return{message:n}};let cd=Is;function um(t){cd=t}function Ti(){return cd}const Ei=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,i=[...n,...r.path||[]],a={...r,path:i};if(r.message!==void 0)return{...r,path:i,message:r.message};let o="";const l=s.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...r,path:i,message:o}},dm=[];function V(t,e){const n=Ti(),s=Ei({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Is?void 0:Is].filter(r=>!!r)});t.common.issues.push(s)}class $e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return Q;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const i=await r.key,a=await r.value;s.push({key:i,value:a})}return $e.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:i,value:a}=r;if(i.status==="aborted"||a.status==="aborted")return Q;i.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||r.alwaysSet)&&(s[i.value]=a.value)}return{status:e.value,value:s}}}const Q=Object.freeze({status:"aborted"}),ms=t=>({status:"dirty",value:t}),st=t=>({status:"valid",value:t}),Za=t=>t.status==="aborted",Ha=t=>t.status==="dirty",Jn=t=>t.status==="valid",gr=t=>typeof Promise<"u"&&t instanceof Promise;function ki(t,e,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ud(t,e,n,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var H;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(H||(H={}));var Zs,Hs;class tn{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const zl=(t,e)=>{if(Jn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new vt(t.common.issues);return this._error=n,this._error}}};function ie(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(a,o)=>{var l,c;const{message:u}=t;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??s)!==null&&l!==void 0?l:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}},description:r}}class ae{get description(){return this._def.description}_getType(e){return un(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $e,ctx:{common:e.parent.common,data:e.data,parsedType:un(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(gr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){var s;const r={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},i=this._parseSync({data:e,path:r.path,parent:r});return zl(r,i)}"~validate"(e){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return Jn(i)?{value:i.value}:{issues:r.common.issues}}catch(i){!((s=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>Jn(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:un(e)},r=this._parse({data:e,path:s.path,parent:s}),i=await(gr(r)?r:Promise.resolve(r));return zl(s,i)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,i)=>{const a=e(r),o=()=>i.addIssue({code:R.custom,...s(r)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new Ft({schema:this,typeName:Y.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return en.create(this,this._def)}nullable(){return On.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ot.create(this)}promise(){return Os.create(this,this._def)}or(e){return wr.create([this,e],this._def)}and(e){return _r.create(this,e,this._def)}transform(e){return new Ft({...ie(this._def),schema:this,typeName:Y.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Tr({...ie(this._def),innerType:this,defaultValue:n,typeName:Y.ZodDefault})}brand(){return new Ro({typeName:Y.ZodBranded,type:this,...ie(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Er({...ie(this._def),innerType:this,catchValue:n,typeName:Y.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ur.create(this,e)}readonly(){return kr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fm=/^c[^\s-]{8,}$/i,hm=/^[0-9a-z]+$/,pm=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mm=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gm=/^[a-z0-9_-]{21}$/i,ym=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vm=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ma;const _m=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Am=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Sm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Tm=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Em=new RegExp(`^${dd}$`);function fd(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function km(t){return new RegExp(`^${fd(t)}$`)}function hd(t){let e=`${dd}T${fd(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Rm(t,e){return!!((e==="v4"||!e)&&_m.test(t)||(e==="v6"||!e)&&Am.test(t))}function Mm(t,e){if(!ym.test(t))return!1;try{const[n]=t.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function Im(t,e){return!!((e==="v4"||!e)&&xm.test(t)||(e==="v6"||!e)&&Sm.test(t))}class kt extends ae{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==W.string){const i=this._getOrReturnCtx(e);return V(i,{code:R.invalid_type,expected:W.string,received:i.parsedType}),Q}const s=new $e;let r;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:R.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="max")e.data.length>i.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:R.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),s.dirty());else if(i.kind==="length"){const a=e.data.length>i.value,o=e.data.length<i.value;(a||o)&&(r=this._getOrReturnCtx(e,r),a?V(r,{code:R.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&V(r,{code:R.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),s.dirty())}else if(i.kind==="email")bm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"email",code:R.invalid_string,message:i.message}),s.dirty());else if(i.kind==="emoji")ma||(ma=new RegExp(wm,"u")),ma.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"emoji",code:R.invalid_string,message:i.message}),s.dirty());else if(i.kind==="uuid")mm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"uuid",code:R.invalid_string,message:i.message}),s.dirty());else if(i.kind==="nanoid")gm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"nanoid",code:R.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid")fm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"cuid",code:R.invalid_string,message:i.message}),s.dirty());else if(i.kind==="cuid2")hm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"cuid2",code:R.invalid_string,message:i.message}),s.dirty());else if(i.kind==="ulid")pm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"ulid",code:R.invalid_string,message:i.message}),s.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),V(r,{validation:"url",code:R.invalid_string,message:i.message}),s.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"regex",code:R.invalid_string,message:i.message}),s.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(r=this._getOrReturnCtx(e,r),V(r,{code:R.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),s.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(r=this._getOrReturnCtx(e,r),V(r,{code:R.invalid_string,validation:{startsWith:i.value},message:i.message}),s.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(r=this._getOrReturnCtx(e,r),V(r,{code:R.invalid_string,validation:{endsWith:i.value},message:i.message}),s.dirty()):i.kind==="datetime"?hd(i).test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:R.invalid_string,validation:"datetime",message:i.message}),s.dirty()):i.kind==="date"?Em.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:R.invalid_string,validation:"date",message:i.message}),s.dirty()):i.kind==="time"?km(i).test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{code:R.invalid_string,validation:"time",message:i.message}),s.dirty()):i.kind==="duration"?vm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"duration",code:R.invalid_string,message:i.message}),s.dirty()):i.kind==="ip"?Rm(e.data,i.version)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"ip",code:R.invalid_string,message:i.message}),s.dirty()):i.kind==="jwt"?Mm(e.data,i.alg)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"jwt",code:R.invalid_string,message:i.message}),s.dirty()):i.kind==="cidr"?Im(e.data,i.version)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"cidr",code:R.invalid_string,message:i.message}),s.dirty()):i.kind==="base64"?Cm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"base64",code:R.invalid_string,message:i.message}),s.dirty()):i.kind==="base64url"?Tm.test(e.data)||(r=this._getOrReturnCtx(e,r),V(r,{validation:"base64url",code:R.invalid_string,message:i.message}),s.dirty()):ue.assertNever(i);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:R.invalid_string,...H.errToObj(s)})}_addCheck(e){return new kt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...H.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...H.errToObj(e)})}datetime(e){var n,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...H.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...H.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...H.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...H.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...H.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...H.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...H.errToObj(n)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new kt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}kt.create=t=>{var e;return new kt({checks:[],typeName:Y.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ie(t)})};function Pm(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,i=parseInt(t.toFixed(r).replace(".","")),a=parseInt(e.toFixed(r).replace(".",""));return i%a/Math.pow(10,r)}class Mn extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==W.number){const i=this._getOrReturnCtx(e);return V(i,{code:R.invalid_type,expected:W.number,received:i.parsedType}),Q}let s;const r=new $e;for(const i of this._def.checks)i.kind==="int"?ue.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{code:R.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),V(s,{code:R.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),V(s,{code:R.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):i.kind==="multipleOf"?Pm(e.data,i.value)!==0&&(s=this._getOrReturnCtx(e,s),V(s,{code:R.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),V(s,{code:R.not_finite,message:i.message}),r.dirty()):ue.assertNever(i);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,H.toString(n))}gt(e,n){return this.setLimit("min",e,!1,H.toString(n))}lte(e,n){return this.setLimit("max",e,!0,H.toString(n))}lt(e,n){return this.setLimit("max",e,!1,H.toString(n))}setLimit(e,n,s,r){return new Mn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:H.toString(r)}]})}_addCheck(e){return new Mn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ue.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Mn.create=t=>new Mn({checks:[],typeName:Y.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ie(t)});class In extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==W.bigint)return this._getInvalidInput(e);let s;const r=new $e;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(s=this._getOrReturnCtx(e,s),V(s,{code:R.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(s=this._getOrReturnCtx(e,s),V(s,{code:R.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),V(s,{code:R.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):ue.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return V(n,{code:R.invalid_type,expected:W.bigint,received:n.parsedType}),Q}gte(e,n){return this.setLimit("min",e,!0,H.toString(n))}gt(e,n){return this.setLimit("min",e,!1,H.toString(n))}lte(e,n){return this.setLimit("max",e,!0,H.toString(n))}lt(e,n){return this.setLimit("max",e,!1,H.toString(n))}setLimit(e,n,s,r){return new In({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:H.toString(r)}]})}_addCheck(e){return new In({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}In.create=t=>{var e;return new In({checks:[],typeName:Y.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ie(t)})};class yr extends ae{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==W.boolean){const s=this._getOrReturnCtx(e);return V(s,{code:R.invalid_type,expected:W.boolean,received:s.parsedType}),Q}return st(e.data)}}yr.create=t=>new yr({typeName:Y.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ie(t)});class $n extends ae{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==W.date){const i=this._getOrReturnCtx(e);return V(i,{code:R.invalid_type,expected:W.date,received:i.parsedType}),Q}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return V(i,{code:R.invalid_date}),Q}const s=new $e;let r;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:R.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),s.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(r=this._getOrReturnCtx(e,r),V(r,{code:R.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),s.dirty()):ue.assertNever(i);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $n({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}$n.create=t=>new $n({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Y.ZodDate,...ie(t)});class Ri extends ae{_parse(e){if(this._getType(e)!==W.symbol){const s=this._getOrReturnCtx(e);return V(s,{code:R.invalid_type,expected:W.symbol,received:s.parsedType}),Q}return st(e.data)}}Ri.create=t=>new Ri({typeName:Y.ZodSymbol,...ie(t)});class vr extends ae{_parse(e){if(this._getType(e)!==W.undefined){const s=this._getOrReturnCtx(e);return V(s,{code:R.invalid_type,expected:W.undefined,received:s.parsedType}),Q}return st(e.data)}}vr.create=t=>new vr({typeName:Y.ZodUndefined,...ie(t)});class br extends ae{_parse(e){if(this._getType(e)!==W.null){const s=this._getOrReturnCtx(e);return V(s,{code:R.invalid_type,expected:W.null,received:s.parsedType}),Q}return st(e.data)}}br.create=t=>new br({typeName:Y.ZodNull,...ie(t)});class Ps extends ae{constructor(){super(...arguments),this._any=!0}_parse(e){return st(e.data)}}Ps.create=t=>new Ps({typeName:Y.ZodAny,...ie(t)});class Zn extends ae{constructor(){super(...arguments),this._unknown=!0}_parse(e){return st(e.data)}}Zn.create=t=>new Zn({typeName:Y.ZodUnknown,...ie(t)});class pn extends ae{_parse(e){const n=this._getOrReturnCtx(e);return V(n,{code:R.invalid_type,expected:W.never,received:n.parsedType}),Q}}pn.create=t=>new pn({typeName:Y.ZodNever,...ie(t)});class Mi extends ae{_parse(e){if(this._getType(e)!==W.undefined){const s=this._getOrReturnCtx(e);return V(s,{code:R.invalid_type,expected:W.void,received:s.parsedType}),Q}return st(e.data)}}Mi.create=t=>new Mi({typeName:Y.ZodVoid,...ie(t)});class Ot extends ae{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==W.array)return V(n,{code:R.invalid_type,expected:W.array,received:n.parsedType}),Q;if(r.exactLength!==null){const a=n.data.length>r.exactLength.value,o=n.data.length<r.exactLength.value;(a||o)&&(V(n,{code:a?R.too_big:R.too_small,minimum:o?r.exactLength.value:void 0,maximum:a?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(V(n,{code:R.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(V(n,{code:R.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>r.type._parseAsync(new tn(n,a,n.path,o)))).then(a=>$e.mergeArray(s,a));const i=[...n.data].map((a,o)=>r.type._parseSync(new tn(n,a,n.path,o)));return $e.mergeArray(s,i)}get element(){return this._def.type}min(e,n){return new Ot({...this._def,minLength:{value:e,message:H.toString(n)}})}max(e,n){return new Ot({...this._def,maxLength:{value:e,message:H.toString(n)}})}length(e,n){return new Ot({...this._def,exactLength:{value:e,message:H.toString(n)}})}nonempty(e){return this.min(1,e)}}Ot.create=(t,e)=>new Ot({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Y.ZodArray,...ie(e)});function fs(t){if(t instanceof Me){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=en.create(fs(s))}return new Me({...t._def,shape:()=>e})}else return t instanceof Ot?new Ot({...t._def,type:fs(t.element)}):t instanceof en?en.create(fs(t.unwrap())):t instanceof On?On.create(fs(t.unwrap())):t instanceof nn?nn.create(t.items.map(e=>fs(e))):t}class Me extends ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ue.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==W.object){const c=this._getOrReturnCtx(e);return V(c,{code:R.invalid_type,expected:W.object,received:c.parsedType}),Q}const{status:s,ctx:r}=this._processInputParams(e),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof pn&&this._def.unknownKeys==="strip"))for(const c in r.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=i[c],d=r.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new tn(r,d,r.path,c)),alwaysSet:c in r.data})}if(this._def.catchall instanceof pn){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(c==="strict")o.length>0&&(V(r,{code:R.unrecognized_keys,keys:o}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=r.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new tn(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>$e.mergeObjectSync(s,c)):$e.mergeObjectSync(s,l)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new Me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var r,i,a,o;const l=(a=(i=(r=this._def).errorMap)===null||i===void 0?void 0:i.call(r,n,s).message)!==null&&a!==void 0?a:s.defaultError;return n.code==="unrecognized_keys"?{message:(o=H.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Me({...this._def,unknownKeys:"strip"})}passthrough(){return new Me({...this._def,unknownKeys:"passthrough"})}extend(e){return new Me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Y.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Me({...this._def,catchall:e})}pick(e){const n={};return ue.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new Me({...this._def,shape:()=>n})}omit(e){const n={};return ue.objectKeys(this.shape).forEach(s=>{e[s]||(n[s]=this.shape[s])}),new Me({...this._def,shape:()=>n})}deepPartial(){return fs(this)}partial(e){const n={};return ue.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}),new Me({...this._def,shape:()=>n})}required(e){const n={};return ue.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])n[s]=this.shape[s];else{let i=this.shape[s];for(;i instanceof en;)i=i._def.innerType;n[s]=i}}),new Me({...this._def,shape:()=>n})}keyof(){return pd(ue.objectKeys(this.shape))}}Me.create=(t,e)=>new Me({shape:()=>t,unknownKeys:"strip",catchall:pn.create(),typeName:Y.ZodObject,...ie(e)});Me.strictCreate=(t,e)=>new Me({shape:()=>t,unknownKeys:"strict",catchall:pn.create(),typeName:Y.ZodObject,...ie(e)});Me.lazycreate=(t,e)=>new Me({shape:t,unknownKeys:"strip",catchall:pn.create(),typeName:Y.ZodObject,...ie(e)});class wr extends ae{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=i.map(o=>new vt(o.ctx.common.issues));return V(n,{code:R.invalid_union,unionErrors:a}),Q}if(n.common.async)return Promise.all(s.map(async i=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(r);{let i;const a=[];for(const l of s){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(l=>new vt(l));return V(n,{code:R.invalid_union,unionErrors:o}),Q}}get options(){return this._def.options}}wr.create=(t,e)=>new wr({options:t,typeName:Y.ZodUnion,...ie(e)});const on=t=>t instanceof Ar?on(t.schema):t instanceof Ft?on(t.innerType()):t instanceof Sr?[t.value]:t instanceof Pn?t.options:t instanceof Cr?ue.objectValues(t.enum):t instanceof Tr?on(t._def.innerType):t instanceof vr?[void 0]:t instanceof br?[null]:t instanceof en?[void 0,...on(t.unwrap())]:t instanceof On?[null,...on(t.unwrap())]:t instanceof Ro||t instanceof kr?on(t.unwrap()):t instanceof Er?on(t._def.innerType):[];class Gi extends ae{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==W.object)return V(n,{code:R.invalid_type,expected:W.object,received:n.parsedType}),Q;const s=this.discriminator,r=n.data[s],i=this.optionsMap.get(r);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(V(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const r=new Map;for(const i of n){const a=on(i.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of a){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,i)}}return new Gi({typeName:Y.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...ie(s)})}}function Ga(t,e){const n=un(t),s=un(e);if(t===e)return{valid:!0,data:t};if(n===W.object&&s===W.object){const r=ue.objectKeys(e),i=ue.objectKeys(t).filter(o=>r.indexOf(o)!==-1),a={...t,...e};for(const o of i){const l=Ga(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===W.array&&s===W.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let i=0;i<t.length;i++){const a=t[i],o=e[i],l=Ga(a,o);if(!l.valid)return{valid:!1};r.push(l.data)}return{valid:!0,data:r}}else return n===W.date&&s===W.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _r extends ae{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(i,a)=>{if(Za(i)||Za(a))return Q;const o=Ga(i.value,a.value);return o.valid?((Ha(i)||Ha(a))&&n.dirty(),{status:n.value,value:o.data}):(V(s,{code:R.invalid_intersection_types}),Q)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([i,a])=>r(i,a)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}_r.create=(t,e,n)=>new _r({left:t,right:e,typeName:Y.ZodIntersection,...ie(n)});class nn extends ae{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==W.array)return V(s,{code:R.invalid_type,expected:W.array,received:s.parsedType}),Q;if(s.data.length<this._def.items.length)return V(s,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&s.data.length>this._def.items.length&&(V(s,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...s.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new tn(s,a,s.path,o)):null}).filter(a=>!!a);return s.common.async?Promise.all(i).then(a=>$e.mergeArray(n,a)):$e.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new nn({...this._def,rest:e})}}nn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new nn({items:t,typeName:Y.ZodTuple,rest:null,...ie(e)})};class xr extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==W.object)return V(s,{code:R.invalid_type,expected:W.object,received:s.parsedType}),Q;const r=[],i=this._def.keyType,a=this._def.valueType;for(const o in s.data)r.push({key:i._parse(new tn(s,o,s.path,o)),value:a._parse(new tn(s,s.data[o],s.path,o)),alwaysSet:o in s.data});return s.common.async?$e.mergeObjectAsync(n,r):$e.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof ae?new xr({keyType:e,valueType:n,typeName:Y.ZodRecord,...ie(s)}):new xr({keyType:kt.create(),valueType:e,typeName:Y.ZodRecord,...ie(n)})}}class Ii extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==W.map)return V(s,{code:R.invalid_type,expected:W.map,received:s.parsedType}),Q;const r=this._def.keyType,i=this._def.valueType,a=[...s.data.entries()].map(([o,l],c)=>({key:r._parse(new tn(s,o,s.path,[c,"key"])),value:i._parse(new tn(s,l,s.path,[c,"value"]))}));if(s.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Q;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Q;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}Ii.create=(t,e,n)=>new Ii({valueType:e,keyType:t,typeName:Y.ZodMap,...ie(n)});class Yn extends ae{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==W.set)return V(s,{code:R.invalid_type,expected:W.set,received:s.parsedType}),Q;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(V(s,{code:R.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(V(s,{code:R.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const i=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Q;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...s.data.values()].map((l,c)=>i._parse(new tn(s,l,s.path,c)));return s.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new Yn({...this._def,minSize:{value:e,message:H.toString(n)}})}max(e,n){return new Yn({...this._def,maxSize:{value:e,message:H.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Yn.create=(t,e)=>new Yn({valueType:t,minSize:null,maxSize:null,typeName:Y.ZodSet,...ie(e)});class Ss extends ae{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==W.function)return V(n,{code:R.invalid_type,expected:W.function,received:n.parsedType}),Q;function s(o,l){return Ei({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ti(),Is].filter(c=>!!c),issueData:{code:R.invalid_arguments,argumentsError:l}})}function r(o,l){return Ei({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ti(),Is].filter(c=>!!c),issueData:{code:R.invalid_return_type,returnTypeError:l}})}const i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Os){const o=this;return st(async function(...l){const c=new vt([]),u=await o._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(s(l,p)),c}),d=await Reflect.apply(a,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(r(d,p)),c})})}else{const o=this;return st(function(...l){const c=o._def.args.safeParse(l,i);if(!c.success)throw new vt([s(l,c.error)]);const u=Reflect.apply(a,this,c.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new vt([r(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ss({...this._def,args:nn.create(e).rest(Zn.create())})}returns(e){return new Ss({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new Ss({args:e||nn.create([]).rest(Zn.create()),returns:n||Zn.create(),typeName:Y.ZodFunction,...ie(s)})}}class Ar extends ae{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ar.create=(t,e)=>new Ar({getter:t,typeName:Y.ZodLazy,...ie(e)});class Sr extends ae{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return V(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:e.data}}get value(){return this._def.value}}Sr.create=(t,e)=>new Sr({value:t,typeName:Y.ZodLiteral,...ie(e)});function pd(t,e){return new Pn({values:t,typeName:Y.ZodEnum,...ie(e)})}class Pn extends ae{constructor(){super(...arguments),Zs.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return V(n,{expected:ue.joinValues(s),received:n.parsedType,code:R.invalid_type}),Q}if(ki(this,Zs)||ud(this,Zs,new Set(this._def.values)),!ki(this,Zs).has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return V(n,{received:n.data,code:R.invalid_enum_value,options:s}),Q}return st(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Pn.create(e,{...this._def,...n})}exclude(e,n=this._def){return Pn.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}Zs=new WeakMap;Pn.create=pd;class Cr extends ae{constructor(){super(...arguments),Hs.set(this,void 0)}_parse(e){const n=ue.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==W.string&&s.parsedType!==W.number){const r=ue.objectValues(n);return V(s,{expected:ue.joinValues(r),received:s.parsedType,code:R.invalid_type}),Q}if(ki(this,Hs)||ud(this,Hs,new Set(ue.getValidEnumValues(this._def.values))),!ki(this,Hs).has(e.data)){const r=ue.objectValues(n);return V(s,{received:s.data,code:R.invalid_enum_value,options:r}),Q}return st(e.data)}get enum(){return this._def.values}}Hs=new WeakMap;Cr.create=(t,e)=>new Cr({values:t,typeName:Y.ZodNativeEnum,...ie(e)});class Os extends ae{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==W.promise&&n.common.async===!1)return V(n,{code:R.invalid_type,expected:W.promise,received:n.parsedType}),Q;const s=n.parsedType===W.promise?n.data:Promise.resolve(n.data);return st(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Os.create=(t,e)=>new Os({type:t,typeName:Y.ZodPromise,...ie(e)});class Ft extends ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Y.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:a=>{V(s,a),a.fatal?n.abort():n.dirty()},get path(){return s.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const a=r.transform(s.data,i);if(s.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return Q;const l=await this._def.schema._parseAsync({data:o,path:s.path,parent:s});return l.status==="aborted"?Q:l.status==="dirty"||n.value==="dirty"?ms(l.value):l});{if(n.value==="aborted")return Q;const o=this._def.schema._parseSync({data:a,path:s.path,parent:s});return o.status==="aborted"?Q:o.status==="dirty"||n.value==="dirty"?ms(o.value):o}}if(r.type==="refinement"){const a=o=>{const l=r.refinement(o,i);if(s.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Q:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>o.status==="aborted"?Q:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(r.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Jn(a))return a;const o=r.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>Jn(a)?Promise.resolve(r.transform(a.value,i)).then(o=>({status:n.value,value:o})):a);ue.assertNever(r)}}Ft.create=(t,e,n)=>new Ft({schema:t,typeName:Y.ZodEffects,effect:e,...ie(n)});Ft.createWithPreprocess=(t,e,n)=>new Ft({schema:e,effect:{type:"preprocess",transform:t},typeName:Y.ZodEffects,...ie(n)});class en extends ae{_parse(e){return this._getType(e)===W.undefined?st(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}en.create=(t,e)=>new en({innerType:t,typeName:Y.ZodOptional,...ie(e)});class On extends ae{_parse(e){return this._getType(e)===W.null?st(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}On.create=(t,e)=>new On({innerType:t,typeName:Y.ZodNullable,...ie(e)});class Tr extends ae{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===W.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Tr.create=(t,e)=>new Tr({innerType:t,typeName:Y.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ie(e)});class Er extends ae{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return gr(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vt(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new vt(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Er.create=(t,e)=>new Er({innerType:t,typeName:Y.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ie(e)});class Pi extends ae{_parse(e){if(this._getType(e)!==W.nan){const s=this._getOrReturnCtx(e);return V(s,{code:R.invalid_type,expected:W.nan,received:s.parsedType}),Q}return{status:"valid",value:e.data}}}Pi.create=t=>new Pi({typeName:Y.ZodNaN,...ie(t)});const Om=Symbol("zod_brand");class Ro extends ae{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ur extends ae{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?Q:i.status==="dirty"?(n.dirty(),ms(i.value)):this._def.out._parseAsync({data:i.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?Q:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new Ur({in:e,out:n,typeName:Y.ZodPipeline})}}class kr extends ae{_parse(e){const n=this._def.innerType._parse(e),s=r=>(Jn(r)&&(r.value=Object.freeze(r.value)),r);return gr(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}kr.create=(t,e)=>new kr({innerType:t,typeName:Y.ZodReadonly,...ie(e)});function Wl(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function md(t,e={},n){return t?Ps.create().superRefine((s,r)=>{var i,a;const o=t(s);if(o instanceof Promise)return o.then(l=>{var c,u;if(!l){const d=Wl(e,s),f=(u=(c=d.fatal)!==null&&c!==void 0?c:n)!==null&&u!==void 0?u:!0;r.addIssue({code:"custom",...d,fatal:f})}});if(!o){const l=Wl(e,s),c=(a=(i=l.fatal)!==null&&i!==void 0?i:n)!==null&&a!==void 0?a:!0;r.addIssue({code:"custom",...l,fatal:c})}}):Ps.create()}const Nm={object:Me.lazycreate};var Y;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Y||(Y={}));const Fm=(t,e={message:`Input not instance of ${t.name}`})=>md(n=>n instanceof t,e),gd=kt.create,yd=Mn.create,Um=Pi.create,jm=In.create,vd=yr.create,Dm=$n.create,Lm=Ri.create,Vm=vr.create,Km=br.create,Bm=Ps.create,zm=Zn.create,Wm=pn.create,qm=Mi.create,Zm=Ot.create,Hm=Me.create,Gm=Me.strictCreate,Xm=wr.create,Jm=Gi.create,$m=_r.create,Ym=nn.create,Qm=xr.create,eg=Ii.create,tg=Yn.create,ng=Ss.create,sg=Ar.create,rg=Sr.create,ig=Pn.create,ag=Cr.create,og=Os.create,ql=Ft.create,lg=en.create,cg=On.create,ug=Ft.createWithPreprocess,dg=Ur.create,fg=()=>gd().optional(),hg=()=>yd().optional(),pg=()=>vd().optional(),mg={string:t=>kt.create({...t,coerce:!0}),number:t=>Mn.create({...t,coerce:!0}),boolean:t=>yr.create({...t,coerce:!0}),bigint:t=>In.create({...t,coerce:!0}),date:t=>$n.create({...t,coerce:!0})},gg=Q;var Ct=Object.freeze({__proto__:null,defaultErrorMap:Is,setErrorMap:um,getErrorMap:Ti,makeIssue:Ei,EMPTY_PATH:dm,addIssueToContext:V,ParseStatus:$e,INVALID:Q,DIRTY:ms,OK:st,isAborted:Za,isDirty:Ha,isValid:Jn,isAsync:gr,get util(){return ue},get objectUtil(){return qa},ZodParsedType:W,getParsedType:un,ZodType:ae,datetimeRegex:hd,ZodString:kt,ZodNumber:Mn,ZodBigInt:In,ZodBoolean:yr,ZodDate:$n,ZodSymbol:Ri,ZodUndefined:vr,ZodNull:br,ZodAny:Ps,ZodUnknown:Zn,ZodNever:pn,ZodVoid:Mi,ZodArray:Ot,ZodObject:Me,ZodUnion:wr,ZodDiscriminatedUnion:Gi,ZodIntersection:_r,ZodTuple:nn,ZodRecord:xr,ZodMap:Ii,ZodSet:Yn,ZodFunction:Ss,ZodLazy:Ar,ZodLiteral:Sr,ZodEnum:Pn,ZodNativeEnum:Cr,ZodPromise:Os,ZodEffects:Ft,ZodTransformer:Ft,ZodOptional:en,ZodNullable:On,ZodDefault:Tr,ZodCatch:Er,ZodNaN:Pi,BRAND:Om,ZodBranded:Ro,ZodPipeline:Ur,ZodReadonly:kr,custom:md,Schema:ae,ZodSchema:ae,late:Nm,get ZodFirstPartyTypeKind(){return Y},coerce:mg,any:Bm,array:Zm,bigint:jm,boolean:vd,date:Dm,discriminatedUnion:Jm,effect:ql,enum:ig,function:ng,instanceof:Fm,intersection:$m,lazy:sg,literal:rg,map:eg,nan:Um,nativeEnum:ag,never:Wm,null:Km,nullable:cg,number:yd,object:Hm,oboolean:pg,onumber:hg,optional:lg,ostring:fg,pipeline:dg,preprocess:ug,promise:og,record:Qm,set:tg,strictObject:Gm,string:gd,symbol:Lm,transformer:ql,tuple:Ym,undefined:Vm,union:Xm,unknown:zm,void:qm,NEVER:gg,ZodIssueCode:R,quotelessJson:cm,ZodError:vt});const Ve=[];for(let t=0;t<256;++t)Ve.push((t+256).toString(16).slice(1));function yg(t,e=0){return(Ve[t[e+0]]+Ve[t[e+1]]+Ve[t[e+2]]+Ve[t[e+3]]+"-"+Ve[t[e+4]]+Ve[t[e+5]]+"-"+Ve[t[e+6]]+Ve[t[e+7]]+"-"+Ve[t[e+8]]+Ve[t[e+9]]+"-"+Ve[t[e+10]]+Ve[t[e+11]]+Ve[t[e+12]]+Ve[t[e+13]]+Ve[t[e+14]]+Ve[t[e+15]]).toLowerCase()}let ga;const vg=new Uint8Array(16);function bg(){if(!ga){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ga=crypto.getRandomValues.bind(crypto)}return ga(vg)}const wg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zl={randomUUID:wg};function Hl(t,e,n){var r;if(Zl.randomUUID&&!t)return Zl.randomUUID();t=t||{};const s=t.random??((r=t.rng)==null?void 0:r.call(t))??bg();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,yg(s)}const Xa="RFC3986",Ja={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:t=>String(t)},_g="RFC1738",xg=Array.isArray,zt=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),ya=1024,Ag=(t,e,n,s,r)=>{if(t.length===0)return t;let i=t;if(typeof t=="symbol"?i=Symbol.prototype.toString.call(t):typeof t!="string"&&(i=String(t)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=ya){const l=i.length>=ya?i.slice(o,o+ya):i,c=[];for(let u=0;u<l.length;++u){let d=l.charCodeAt(u);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||r===_g&&(d===40||d===41)){c[c.length]=l.charAt(u);continue}if(d<128){c[c.length]=zt[d];continue}if(d<2048){c[c.length]=zt[192|d>>6]+zt[128|d&63];continue}if(d<55296||d>=57344){c[c.length]=zt[224|d>>12]+zt[128|d>>6&63]+zt[128|d&63];continue}u+=1,d=65536+((d&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=zt[240|d>>18]+zt[128|d>>12&63]+zt[128|d>>6&63]+zt[128|d&63]}a+=c.join("")}return a};function Sg(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function Gl(t,e){if(xg(t)){const n=[];for(let s=0;s<t.length;s+=1)n.push(e(t[s]));return n}return e(t)}const Cg=Object.prototype.hasOwnProperty,bd={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},Gt=Array.isArray,Tg=Array.prototype.push,wd=function(t,e){Tg.apply(t,Gt(e)?e:[e])},Eg=Date.prototype.toISOString,Ue={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ag,encodeValuesOnly:!1,format:Xa,formatter:Ja[Xa],indices:!1,serializeDate(t){return Eg.call(t)},skipNulls:!1,strictNullHandling:!1};function kg(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const va={};function _d(t,e,n,s,r,i,a,o,l,c,u,d,f,p,m,y,S,M){let A=t,_=M,v=0,T=!1;for(;(_=_.get(va))!==void 0&&!T;){const C=_.get(t);if(v+=1,typeof C<"u"){if(C===v)throw new RangeError("Cyclic object value");T=!0}typeof _.get(va)>"u"&&(v=0)}if(typeof c=="function"?A=c(e,A):A instanceof Date?A=f==null?void 0:f(A):n==="comma"&&Gt(A)&&(A=Gl(A,function(C){return C instanceof Date?f==null?void 0:f(C):C})),A===null){if(i)return l&&!y?l(e,Ue.encoder,S,"key",p):e;A=""}if(kg(A)||Sg(A)){if(l){const C=y?e:l(e,Ue.encoder,S,"key",p);return[(m==null?void 0:m(C))+"="+(m==null?void 0:m(l(A,Ue.encoder,S,"value",p)))]}return[(m==null?void 0:m(e))+"="+(m==null?void 0:m(String(A)))]}const I=[];if(typeof A>"u")return I;let B;if(n==="comma"&&Gt(A))y&&l&&(A=Gl(A,l)),B=[{value:A.length>0?A.join(",")||null:void 0}];else if(Gt(c))B=c;else{const C=Object.keys(A);B=u?C.sort(u):C}const E=o?String(e).replace(/\./g,"%2E"):String(e),x=s&&Gt(A)&&A.length===1?E+"[]":E;if(r&&Gt(A)&&A.length===0)return x+"[]";for(let C=0;C<B.length;++C){const j=B[C],F=typeof j=="object"&&typeof j.value<"u"?j.value:A[j];if(a&&F===null)continue;const oe=d&&o?j.replace(/\./g,"%2E"):j,Ae=Gt(A)?typeof n=="function"?n(x,oe):x:x+(d?"."+oe:"["+oe+"]");M.set(t,v);const Le=new WeakMap;Le.set(va,M),wd(I,_d(F,Ae,n,s,r,i,a,o,n==="comma"&&y&&Gt(A)?null:l,c,u,d,f,p,m,y,S,Le))}return I}function Rg(t=Ue){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||Ue.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=Xa;if(typeof t.format<"u"){if(!Cg.call(Ja,t.format))throw new TypeError("Unknown format option provided.");n=t.format}const s=Ja[n];let r=Ue.filter;(typeof t.filter=="function"||Gt(t.filter))&&(r=t.filter);let i;if(t.arrayFormat&&t.arrayFormat in bd?i=t.arrayFormat:"indices"in t?i=t.indices?"indices":"repeat":i=Ue.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:Ue.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Ue.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:Ue.allowEmptyArrays,arrayFormat:i,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ue.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?Ue.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Ue.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:Ue.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:Ue.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Ue.encodeValuesOnly,filter:r,format:n,formatter:s,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Ue.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Ue.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ue.strictNullHandling}}function Mg(t,e={}){let n=t;const s=Rg(e);let r,i;typeof s.filter=="function"?(i=s.filter,n=i("",n)):Gt(s.filter)&&(i=s.filter,r=i);const a=[];if(typeof n!="object"||n===null)return"";const o=bd[s.arrayFormat],l=o==="comma"&&s.commaRoundTrip;r||(r=Object.keys(n)),s.sort&&r.sort(s.sort);const c=new WeakMap;for(let f=0;f<r.length;++f){const p=r[f];s.skipNulls&&n[p]===null||wd(a,_d(n[p],p,o,l,s.allowEmptyArrays,s.strictNullHandling,s.skipNulls,s.encodeDotInKeys,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset,c))}const u=a.join(s.delimiter);let d=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(s.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""}const hs="4.83.0";let Xl=!1,ar,xd,Ad,$a,Sd,Cd,Td,Ed,kd;function Ig(t,e={auto:!1}){if(Xl)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(ar)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${ar}'\``);Xl=e.auto,ar=t.kind,xd=t.fetch,Ad=t.FormData,$a=t.File,Sd=t.ReadableStream,Cd=t.getMultipartRequestOptions,Td=t.getDefaultAgent,Ed=t.fileFromPath,kd=t.isFsReadStream}class Pg{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function Og({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import  from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(a){throw new Error(`this environment is missing the following Web Fetch API type: ${a.message}. ${e}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(a,o)=>({...o,body:new Pg(a)}),getDefaultAgent:a=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:a=>!1}}ar||Ig(Og(),{auto:!0});class le extends Error{}let lt=class Ya extends le{constructor(e,n,s,r){super(`${Ya.makeMessage(e,n,s)}`),this.status=e,this.headers=r,this.request_id=r==null?void 0:r["x-request-id"],this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e||!r)return new Xi({message:s,cause:eo(n)});const i=n==null?void 0:n.error;return e===400?new Rd(e,i,s,r):e===401?new Md(e,i,s,r):e===403?new Id(e,i,s,r):e===404?new Pd(e,i,s,r):e===409?new Od(e,i,s,r):e===422?new Nd(e,i,s,r):e===429?new Fd(e,i,s,r):e>=500?new Ud(e,i,s,r):new Ya(e,i,s,r)}};class Rt extends lt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Xi extends lt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Mo extends Xi{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Rd extends lt{}class Md extends lt{}class Id extends lt{}class Pd extends lt{}class Od extends lt{}class Nd extends lt{}class Fd extends lt{}class Ud extends lt{}class jd extends le{constructor(){super("Could not parse response content as the length limit was reached")}}class Dd extends le{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Qn{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const s=Qn.NEWLINE_CHARS.has(n[n.length-1]||"");let r=n.split(Qn.NEWLINE_REGEXP);return s&&r.pop(),r.length===1&&!s?(this.buffer.push(r[0]),[]):(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),s||(this.buffer=[r.pop()||""]),r)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new le(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new le(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new le("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Qn.NEWLINE_CHARS=new Set([`
`,"\r"]);Qn.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Ld(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}class Yt{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let s=!1;async function*r(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const a of Ng(e,n))if(!i){if(a.data.startsWith("[DONE]")){i=!0;continue}if(a.event===null){let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(o&&o.error)throw new lt(void 0,o.error,void 0,void 0);yield o}else{let o;try{o=JSON.parse(a.data)}catch(l){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),l}if(a.event=="error")throw new lt(void 0,o.error,o.message,void 0);yield{event:a.event,data:o}}}i=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{i||n.abort()}}return new Yt(r,n)}static fromReadableStream(e,n){let s=!1;async function*r(){const a=new Qn,o=Ld(e);for await(const l of o)for(const c of a.decode(l))yield c;for(const l of a.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let a=!1;try{for await(const o of r())a||o&&(yield JSON.parse(o));a=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{a||n.abort()}}return new Yt(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const a=s.next();e.push(a),n.push(a)}return i.shift()}});return[new Yt(()=>r(e),this.controller),new Yt(()=>r(n),this.controller)]}toReadableStream(){const e=this;let n;const s=new TextEncoder;return new Sd({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const o=s.encode(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*Ng(t,e){if(!t.body)throw e.abort(),new le("Attempted to iterate over a response with no body");const n=new jg,s=new Qn,r=Ld(t.body);for await(const i of Fg(r))for(const a of s.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of s.flush()){const a=n.decode(i);a&&(yield a)}}async function*Fg(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const s=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let r=new Uint8Array(e.length+s.length);r.set(e),r.set(s,e.length),e=r;let i;for(;(i=Ug(e))!==-1;)yield e.slice(0,i),e=e.slice(i)}e.length>0&&(yield e)}function Ug(t){for(let s=0;s<t.length-2;s++){if(t[s]===10&&t[s+1]===10||t[s]===13&&t[s+1]===13)return s+2;if(t[s]===13&&t[s+1]===10&&s+3<t.length&&t[s+2]===13&&t[s+3]===10)return s+4}return-1}class jg{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=Dg(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function Dg(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}const Vd=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",Kd=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Ji(t),Ji=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Lg=t=>Kd(t)||Vd(t)||kd(t);async function Bd(t,e,n){var r;if(t=await t,Kd(t))return t;if(Vd(t)){const i=await t.blob();e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file");const a=Ji(i)?[await i.arrayBuffer()]:[i];return new $a(a,e,n)}const s=await Vg(t);if(e||(e=Bg(t)??"unknown_file"),!(n!=null&&n.type)){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new $a(s,e,n)}async function Vg(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Ji(t))e.push(await t.arrayBuffer());else if(zg(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${Kg(t)}`);return e}function Kg(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function Bg(t){var e;return ba(t.name)||ba(t.filename)||((e=ba(t.path))==null?void 0:e.split(/[\\/]/).pop())}const ba=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},zg=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Jl=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",Ns=async t=>{const e=await Wg(t.body);return Cd(e,t)},Wg=async t=>{const e=new Ad;return await Promise.all(Object.entries(t||{}).map(([n,s])=>Qa(e,n,s))),e},Qa=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(Lg(n)){const s=await Bd(n);t.append(e,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>Qa(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>Qa(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var Cs={NODE_ENV:'"production"'},qg=function(t,e,n,s,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},Zg=function(t,e,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Xr;async function zd(t){const{response:e}=t;if(t.options.stream)return Ts("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Yt.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const i=await e.json();return Ts("response",e.status,e.url,e.headers,i),Wd(i,e)}const r=await e.text();return Ts("response",e.status,e.url,e.headers,r),r}function Wd(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}class $i extends Promise{constructor(e,n=zd){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new $i(this.responsePromise,async n=>Wd(e(await this.parseResponse(n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Hg{constructor({baseURL:e,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=wa("maxRetries",n),this.timeout=wa("timeout",s),this.httpAgent=r,this.fetch=i??xd}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Qg(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${sy()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(async r=>{const i=r&&Ji(r==null?void 0:r.body)?new DataView(await r.body.arrayBuffer()):(r==null?void 0:r.body)instanceof DataView?r.body:(r==null?void 0:r.body)instanceof ArrayBuffer?new DataView(r.body):r&&ArrayBuffer.isView(r==null?void 0:r.body)?new DataView(r.body.buffer):r==null?void 0:r.body;return{method:e,path:n,...r,body:i}}))}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e,{retryCount:n=0}={}){var m;e={...e};const{method:s,path:r,query:i,headers:a={}}=e,o=ArrayBuffer.isView(e.body)||e.__binaryRequest&&typeof e.body=="string"?e.body:Jl(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,l=this.calculateContentLength(o),c=this.buildURL(r,i);"timeout"in e&&wa("timeout",e.timeout),e.timeout=e.timeout??this.timeout;const u=e.httpAgent??this.httpAgent??Td(c),d=e.timeout+1e3;typeof((m=u==null?void 0:u.options)==null?void 0:m.timeout)=="number"&&d>(u.options.timeout??0)&&(u.options.timeout=d),this.idempotencyHeader&&s!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const f=this.buildHeaders({options:e,headers:a,contentLength:l,retryCount:n});return{req:{method:s,...o&&{body:o},headers:f,...u&&{agent:u},signal:e.signal??null},url:c,timeout:e.timeout}}buildHeaders({options:e,headers:n,contentLength:s,retryCount:r}){const i={};s&&(i["content-length"]=s);const a=this.defaultHeaders(e);return ec(i,a),ec(i,n),Jl(e.body)&&ar!=="node"&&delete i["content-type"],$r(a,"x-stainless-retry-count")===void 0&&$r(n,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(r)),$r(a,"x-stainless-timeout")===void 0&&$r(n,"x-stainless-timeout")===void 0&&e.timeout&&(i["x-stainless-timeout"]=String(e.timeout)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,s,r){return lt.generate(e,n,s,r)}request(e,n=null){return new $i(this.makeRequest(e,n))}async makeRequest(e,n){var d,f;const s=await e,r=s.maxRetries??this.maxRetries;n==null&&(n=r),await this.prepareOptions(s);const{req:i,url:a,timeout:o}=this.buildRequest(s,{retryCount:r-n});if(await this.prepareRequest(i,{url:a,options:s}),Ts("request",a,s,i.headers),(d=s.signal)!=null&&d.aborted)throw new Rt;const l=new AbortController,c=await this.fetchWithTimeout(a,i,o,l).catch(eo);if(c instanceof Error){if((f=s.signal)!=null&&f.aborted)throw new Rt;if(n)return this.retryRequest(s,n);throw c.name==="AbortError"?new Mo:new Xi({cause:c})}const u=Xg(c.headers);if(!c.ok){if(n&&this.shouldRetry(c)){const A=`retrying, ${n} attempts remaining`;return Ts(`response (error; ${A})`,c.status,a,u),this.retryRequest(s,n,u)}const p=await c.text().catch(A=>eo(A).message),m=ey(p),y=m?void 0:p;throw Ts(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,c.status,a,u,y),this.makeStatusError(c.status,m,y,u)}return{response:c,options:s,controller:l}}requestAPIList(e,n){const s=this.makeRequest(n,null);return new Gg(this,s,e)}buildURL(e,n){const s=ny(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return Zd(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new le(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,s,r){const{signal:i,...a}=n||{};i&&i.addEventListener("abort",()=>r.abort());const o=setTimeout(()=>r.abort(),s),l={signal:r.signal,...a};return l.method&&(l.method=l.method.toUpperCase()),this.fetch.call(void 0,e,l).finally(()=>{clearTimeout(o)})}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s){let r;const i=s==null?void 0:s["retry-after-ms"];if(i){const o=parseFloat(i);Number.isNaN(o)||(r=o)}const a=s==null?void 0:s["retry-after"];if(a&&!r){const o=parseFloat(a);Number.isNaN(o)?r=Date.parse(a)-Date.now():r=o*1e3}if(!(r&&0<=r&&r<60*1e3)){const o=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,o)}return await jr(r),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}getUserAgent(){return`${this.constructor.name}/JS ${hs}`}}class qd{constructor(e,n,s,r){Xr.set(this,void 0),qg(this,Xr,e),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new le("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const s=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[r,i]of s)e.url.searchParams.set(r,i);n.query=void 0,n.path=e.url.toString()}return await Zg(this,Xr,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Xr=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class Gg extends $i{constructor(e,n,s){super(n,async r=>new s(e,r.response,await zd(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const Xg=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const s=n.toString();return e[s.toLowerCase()]||e[s]}}),Jg={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__metadata:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},ct=t=>typeof t=="object"&&t!==null&&!Zd(t)&&Object.keys(t).every(e=>Hd(Jg,e)),$g=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":Yl(Deno.build.os),"X-Stainless-Arch":$l(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":Yl(process.platform),"X-Stainless-Arch":$l(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=Yg();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":hs,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Yg(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,a=s[3]||0;return{browser:e,version:`${r}.${i}.${a}`}}}return null}const $l=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Yl=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ql;const Qg=()=>Ql??(Ql=$g()),ey=t=>{try{return JSON.parse(t)}catch{return}},ty=/^[a-z][a-z0-9+.-]*:/i,ny=t=>ty.test(t),jr=t=>new Promise(e=>setTimeout(e,t)),wa=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new le(`${t} must be an integer`);if(e<0)throw new le(`${t} must be a positive integer`);return e},eo=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null)try{return new Error(JSON.stringify(t))}catch{}return new Error(t)},Jr=t=>{var e,n,s,r;if(typeof process<"u")return((e=Cs==null?void 0:Cs[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,t))==null?void 0:r.trim()};function Zd(t){if(!t)return!0;for(const e in t)return!1;return!0}function Hd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ec(t,e){for(const n in e){if(!Hd(e,n))continue;const s=n.toLowerCase();if(!s)continue;const r=e[n];r===null?delete t[s]:r!==void 0&&(t[s]=r)}}const tc=new Set(["authorization","api-key"]);function Ts(t,...e){if(typeof process<"u"&&(Cs==null?void 0:Cs.DEBUG)==="true"){const n=e.map(s=>{if(!s)return s;if(s.headers){const i={...s,headers:{...s.headers}};for(const a in s.headers)tc.has(a.toLowerCase())&&(i.headers[a]="REDACTED");return i}let r=null;for(const i in s)tc.has(i.toLowerCase())&&(r??(r={...s}),r[i]="REDACTED");return r??s});console.log(`OpenAI:DEBUG:${t}`,...n)}}const sy=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),ry=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",iy=t=>typeof(t==null?void 0:t.get)=="function",$r=(t,e)=>{var s;const n=e.toLowerCase();if(iy(t)){const r=((s=e[0])==null?void 0:s.toUpperCase())+e.substring(1).replace(/([^\w])(\w)/g,(i,a,o)=>a+o.toUpperCase());for(const i of[e,n,e.toUpperCase(),r]){const a=t.get(i);if(a)return a}}for(const[r,i]of Object.entries(t))if(r.toLowerCase()===n)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${e} header, using the first entry.`),i[0]):i};function _a(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class ay extends qd{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class jt extends qd{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const n=(s=e[e.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class me{constructor(e){this._client=e}}let Gd=class extends me{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}},Io=class extends me{constructor(){super(...arguments),this.completions=new Gd(this._client)}};Io.Completions=Gd;class Xd extends me{create(e,n){return this._client.post("/audio/speech",{body:e,...n,headers:{Accept:"application/octet-stream",...n==null?void 0:n.headers},__binaryResponse:!0})}}class Jd extends me{create(e,n){return this._client.post("/audio/transcriptions",Ns({body:e,...n,__metadata:{model:e.model}}))}}class $d extends me{create(e,n){return this._client.post("/audio/translations",Ns({body:e,...n,__metadata:{model:e.model}}))}}class Dr extends me{constructor(){super(...arguments),this.transcriptions=new Jd(this._client),this.translations=new $d(this._client),this.speech=new Xd(this._client)}}Dr.Transcriptions=Jd;Dr.Translations=$d;Dr.Speech=Xd;class Po extends me{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return ct(e)?this.list({},e):this._client.getAPIList("/batches",Oo,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class Oo extends jt{}Po.BatchesPage=Oo;class No extends me{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/assistants/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return ct(e)?this.list({},e):this._client.getAPIList("/assistants",Fo,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Fo extends jt{}No.AssistantsPage=Fo;function nc(t){return typeof t.parse=="function"}const Es=t=>(t==null?void 0:t.role)==="assistant",Yd=t=>(t==null?void 0:t.role)==="function",Qd=t=>(t==null?void 0:t.role)==="tool";var Tt=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Re=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},to,ui,di,Gs,Xs,fi,Js,ln,$s,Oi,Ni,ps,ef;class tf{constructor(){to.add(this),this.controller=new AbortController,ui.set(this,void 0),di.set(this,()=>{}),Gs.set(this,()=>{}),Xs.set(this,void 0),fi.set(this,()=>{}),Js.set(this,()=>{}),ln.set(this,{}),$s.set(this,!1),Oi.set(this,!1),Ni.set(this,!1),ps.set(this,!1),Tt(this,ui,new Promise((e,n)=>{Tt(this,di,e,"f"),Tt(this,Gs,n,"f")}),"f"),Tt(this,Xs,new Promise((e,n)=>{Tt(this,fi,e,"f"),Tt(this,Js,n,"f")}),"f"),Re(this,ui,"f").catch(()=>{}),Re(this,Xs,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},Re(this,to,"m",ef).bind(this))},0)}_connected(){this.ended||(Re(this,di,"f").call(this),this._emit("connect"))}get ended(){return Re(this,$s,"f")}get errored(){return Re(this,Oi,"f")}get aborted(){return Re(this,Ni,"f")}abort(){this.controller.abort()}on(e,n){return(Re(this,ln,"f")[e]||(Re(this,ln,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=Re(this,ln,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(Re(this,ln,"f")[e]||(Re(this,ln,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{Tt(this,ps,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){Tt(this,ps,!0,"f"),await Re(this,Xs,"f")}_emit(e,...n){if(Re(this,$s,"f"))return;e==="end"&&(Tt(this,$s,!0,"f"),Re(this,fi,"f").call(this));const s=Re(this,ln,"f")[e];if(s&&(Re(this,ln,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!Re(this,ps,"f")&&!(s!=null&&s.length)&&Promise.reject(r),Re(this,Gs,"f").call(this,r),Re(this,Js,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!Re(this,ps,"f")&&!(s!=null&&s.length)&&Promise.reject(r),Re(this,Gs,"f").call(this,r),Re(this,Js,"f").call(this,r),this._emit("end")}}_emitFinal(){}}ui=new WeakMap,di=new WeakMap,Gs=new WeakMap,Xs=new WeakMap,fi=new WeakMap,Js=new WeakMap,ln=new WeakMap,$s=new WeakMap,Oi=new WeakMap,Ni=new WeakMap,ps=new WeakMap,to=new WeakSet,ef=function(e){if(Tt(this,Oi,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Rt),e instanceof Rt)return Tt(this,Ni,!0,"f"),this._emit("abort",e);if(e instanceof le)return this._emit("error",e);if(e instanceof Error){const n=new le(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new le(String(e)))};function nf(t){return(t==null?void 0:t.$brand)==="auto-parseable-response-format"}function Lr(t){return(t==null?void 0:t.$brand)==="auto-parseable-tool"}function oy(t,e){return!e||!sf(e)?{...t,choices:t.choices.map(n=>({...n,message:{...n.message,parsed:null,tool_calls:n.message.tool_calls??[]}}))}:Uo(t,e)}function Uo(t,e){const n=t.choices.map(s=>{var r;if(s.finish_reason==="length")throw new jd;if(s.finish_reason==="content_filter")throw new Dd;return{...s,message:{...s.message,tool_calls:((r=s.message.tool_calls)==null?void 0:r.map(i=>cy(e,i)))??[],parsed:s.message.content&&!s.message.refusal?ly(e,s.message.content):null}}});return{...t,choices:n}}function ly(t,e){var n,s;return((n=t.response_format)==null?void 0:n.type)!=="json_schema"?null:((s=t.response_format)==null?void 0:s.type)==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function cy(t,e){var s;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return{...e,function:{...e.function,parsed_arguments:Lr(n)?n.$parseRaw(e.function.arguments):n!=null&&n.function.strict?JSON.parse(e.function.arguments):null}}}function uy(t,e){var s;if(!t)return!1;const n=(s=t.tools)==null?void 0:s.find(r=>{var i;return((i=r.function)==null?void 0:i.name)===e.function.name});return Lr(n)||(n==null?void 0:n.function.strict)||!1}function sf(t){var e;return nf(t.response_format)?!0:((e=t.tools)==null?void 0:e.some(n=>Lr(n)||n.type==="function"&&n.function.strict===!0))??!1}function dy(t){for(const e of t??[]){if(e.type!=="function")throw new le(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new le(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var it=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Ze,no,Fi,so,ro,io,rf,ao;const sc=10;class af extends tf{constructor(){super(...arguments),Ze.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(s=e.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(Yd(e)||Qd(e))&&e.content)this._emit("functionCallResult",e.content);else if(Es(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(Es(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new le("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),it(this,Ze,"m",no).call(this)}async finalMessage(){return await this.done(),it(this,Ze,"m",Fi).call(this)}async finalFunctionCall(){return await this.done(),it(this,Ze,"m",so).call(this)}async finalFunctionCallResult(){return await this.done(),it(this,Ze,"m",ro).call(this)}async totalUsage(){return await this.done(),it(this,Ze,"m",io).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=it(this,Ze,"m",Fi).call(this);n&&this._emit("finalMessage",n);const s=it(this,Ze,"m",no).call(this);s&&this._emit("finalContent",s);const r=it(this,Ze,"m",so).call(this);r&&this._emit("finalFunctionCall",r);const i=it(this,Ze,"m",ro).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",it(this,Ze,"m",io).call(this))}async _createChatCompletion(e,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),it(this,Ze,"m",rf).call(this,n);const i=await e.chat.completions.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Uo(i,n))}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runFunctions(e,n,s){var f;const r="function",{function_call:i="auto",stream:a,...o}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:c=sc}=s||{},u={};for(const p of n.functions)u[p.name||p.function.name]=p;const d=n.functions.map(p=>({name:p.name||p.function.name,parameters:p.parameters,description:p.description}));for(const p of n.messages)this._addMessage(p,!1);for(let p=0;p<c;++p){const y=(f=(await this._createChatCompletion(e,{...o,function_call:i,functions:d,messages:[...this.messages]},s)).choices[0])==null?void 0:f.message;if(!y)throw new le("missing message in ChatCompletion response");if(!y.function_call)return;const{name:S,arguments:M}=y.function_call,A=u[S];if(A){if(l&&l!==S){const I=`Invalid function_call: ${JSON.stringify(S)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:S,content:I});continue}}else{const I=`Invalid function_call: ${JSON.stringify(S)}. Available options are: ${d.map(B=>JSON.stringify(B.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:S,content:I});continue}let _;try{_=nc(A)?await A.parse(M):M}catch(I){this._addMessage({role:r,name:S,content:I instanceof Error?I.message:String(I)});continue}const v=await A.function(_,this),T=it(this,Ze,"m",ao).call(this,v);if(this._addMessage({role:r,name:S,content:T}),l)return}}async _runTools(e,n,s){var p,m,y;const r="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:c=sc}=s||{},u=n.tools.map(S=>{if(Lr(S)){if(!S.$callback)throw new le("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:S.$callback,name:S.function.name,description:S.function.description||"",parameters:S.function.parameters,parse:S.$parseRaw,strict:!0}}}return S}),d={};for(const S of u)S.type==="function"&&(d[S.function.name||S.function.function.name]=S.function);const f="tools"in n?u.map(S=>S.type==="function"?{type:"function",function:{name:S.function.name||S.function.function.name,parameters:S.function.parameters,description:S.function.description,strict:S.function.strict}}:S):void 0;for(const S of n.messages)this._addMessage(S,!1);for(let S=0;S<c;++S){const A=(m=(await this._createChatCompletion(e,{...o,tool_choice:i,tools:f,messages:[...this.messages]},s)).choices[0])==null?void 0:m.message;if(!A)throw new le("missing message in ChatCompletion response");if(!((y=A.tool_calls)!=null&&y.length))return;for(const _ of A.tool_calls){if(_.type!=="function")continue;const v=_.id,{name:T,arguments:I}=_.function,B=d[T];if(B){if(l&&l!==T){const j=`Invalid tool_call: ${JSON.stringify(T)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:v,content:j});continue}}else{const j=`Invalid tool_call: ${JSON.stringify(T)}. Available options are: ${Object.keys(d).map(F=>JSON.stringify(F)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:v,content:j});continue}let E;try{E=nc(B)?await B.parse(I):I}catch(j){const F=j instanceof Error?j.message:String(j);this._addMessage({role:r,tool_call_id:v,content:F});continue}const x=await B.function(E,this),C=it(this,Ze,"m",ao).call(this,x);if(this._addMessage({role:r,tool_call_id:v,content:C}),l)return}}}}Ze=new WeakSet,no=function(){return it(this,Ze,"m",Fi).call(this).content??null},Fi=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(Es(n)){const{function_call:s,...r}=n,i={...r,content:n.content??null,refusal:n.refusal??null};return s&&(i.function_call=s),i}}throw new le("stream ended without producing a ChatCompletionMessage with role=assistant")},so=function(){var e,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(Es(r)&&(r!=null&&r.function_call))return r.function_call;if(Es(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},ro=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(Yd(n)&&n.content!=null||Qd(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},io=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},rf=function(e){if(e.n!=null&&e.n>1)throw new le("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},ao=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Rr extends af{static runFunctions(e,n,s){const r=new Rr,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new Rr,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e,n=!0){super._addMessage(e,n),Es(e)&&e.content&&this._emit("content",e.content)}}const of=1,lf=2,cf=4,uf=8,df=16,ff=32,hf=64,pf=128,mf=256,fy=pf|mf,hy=df|ff|fy|hf,py=of|lf|hy,my=cf|uf,gy=py|my,De={STR:of,NUM:lf,ARR:cf,OBJ:uf,NULL:df,BOOL:ff,NAN:hf,INFINITY:pf,MINUS_INFINITY:mf,ALL:gy};class yy extends Error{}class vy extends Error{}function by(t,e=De.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return wy(t.trim(),e)}const wy=(t,e)=>{const n=t.length;let s=0;const r=f=>{throw new yy(`${f} at position ${s}`)},i=f=>{throw new vy(`${f} at position ${s}`)},a=()=>(d(),s>=n&&r("Unexpected end of input"),t[s]==='"'?o():t[s]==="{"?l():t[s]==="["?c():t.substring(s,s+4)==="null"||De.NULL&e&&n-s<4&&"null".startsWith(t.substring(s))?(s+=4,null):t.substring(s,s+4)==="true"||De.BOOL&e&&n-s<4&&"true".startsWith(t.substring(s))?(s+=4,!0):t.substring(s,s+5)==="false"||De.BOOL&e&&n-s<5&&"false".startsWith(t.substring(s))?(s+=5,!1):t.substring(s,s+8)==="Infinity"||De.INFINITY&e&&n-s<8&&"Infinity".startsWith(t.substring(s))?(s+=8,1/0):t.substring(s,s+9)==="-Infinity"||De.MINUS_INFINITY&e&&1<n-s&&n-s<9&&"-Infinity".startsWith(t.substring(s))?(s+=9,-1/0):t.substring(s,s+3)==="NaN"||De.NAN&e&&n-s<3&&"NaN".startsWith(t.substring(s))?(s+=3,NaN):u()),o=()=>{const f=s;let p=!1;for(s++;s<n&&(t[s]!=='"'||p&&t[s-1]==="\\");)p=t[s]==="\\"?!p:!1,s++;if(t.charAt(s)=='"')try{return JSON.parse(t.substring(f,++s-Number(p)))}catch(m){i(String(m))}else if(De.STR&e)try{return JSON.parse(t.substring(f,s-Number(p))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}r("Unterminated string literal")},l=()=>{s++,d();const f={};try{for(;t[s]!=="}";){if(d(),s>=n&&De.OBJ&e)return f;const p=o();d(),s++;try{const m=a();Object.defineProperty(f,p,{value:m,writable:!0,enumerable:!0,configurable:!0})}catch(m){if(De.OBJ&e)return f;throw m}d(),t[s]===","&&s++}}catch{if(De.OBJ&e)return f;r("Expected '}' at end of object")}return s++,f},c=()=>{s++;const f=[];try{for(;t[s]!=="]";)f.push(a()),d(),t[s]===","&&s++}catch{if(De.ARR&e)return f;r("Expected ']' at end of array")}return s++,f},u=()=>{if(s===0){t==="-"&&De.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t)}catch(p){if(De.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}i(String(p))}}const f=s;for(t[s]==="-"&&s++;t[s]&&!",]}".includes(t[s]);)s++;s==n&&!(De.NUM&e)&&r("Unterminated number literal");try{return JSON.parse(t.substring(f,s))}catch{t.substring(f,s)==="-"&&De.NUM&e&&r("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(m){i(String(m))}}},d=()=>{for(;s<n&&` 
\r	`.includes(t[s]);)s++};return a()},rc=t=>by(t,De.ALL^De.NUM);var as=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},_e=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Fe,an,os,bn,xa,Yr,Aa,Sa,Ca,Qr,Ta,ic;class Mr extends af{constructor(e){super(),Fe.add(this),an.set(this,void 0),os.set(this,void 0),bn.set(this,void 0),as(this,an,e,"f"),as(this,os,[],"f")}get currentChatCompletionSnapshot(){return _e(this,bn,"f")}static fromReadableStream(e){const n=new Mr(null);return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new Mr(n);return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){var a;super._createChatCompletion;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),_e(this,Fe,"m",xa).call(this);const i=await e.chat.completions.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const o of i)_e(this,Fe,"m",Aa).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new Rt;return this._addChatCompletion(_e(this,Fe,"m",Qr).call(this))}async _fromReadableStream(e,n){var a;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),_e(this,Fe,"m",xa).call(this),this._connected();const r=Yt.fromReadableStream(e,this.controller);let i;for await(const o of r)i&&i!==o.id&&this._addChatCompletion(_e(this,Fe,"m",Qr).call(this)),_e(this,Fe,"m",Aa).call(this,o),i=o.id;if((a=r.controller.signal)!=null&&a.aborted)throw new Rt;return this._addChatCompletion(_e(this,Fe,"m",Qr).call(this))}[(an=new WeakMap,os=new WeakMap,bn=new WeakMap,Fe=new WeakSet,xa=function(){this.ended||as(this,bn,void 0,"f")},Yr=function(n){let s=_e(this,os,"f")[n.index];return s||(s={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},_e(this,os,"f")[n.index]=s,s)},Aa=function(n){var r,i,a,o,l,c,u,d,f,p,m,y,S,M,A;if(this.ended)return;const s=_e(this,Fe,"m",ic).call(this,n);this._emit("chunk",n,s);for(const _ of n.choices){const v=s.choices[_.index];_.delta.content!=null&&((r=v.message)==null?void 0:r.role)==="assistant"&&((i=v.message)!=null&&i.content)&&(this._emit("content",_.delta.content,v.message.content),this._emit("content.delta",{delta:_.delta.content,snapshot:v.message.content,parsed:v.message.parsed})),_.delta.refusal!=null&&((a=v.message)==null?void 0:a.role)==="assistant"&&((o=v.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:_.delta.refusal,snapshot:v.message.refusal}),((l=_.logprobs)==null?void 0:l.content)!=null&&((c=v.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(u=_.logprobs)==null?void 0:u.content,snapshot:((d=v.logprobs)==null?void 0:d.content)??[]}),((f=_.logprobs)==null?void 0:f.refusal)!=null&&((p=v.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(m=_.logprobs)==null?void 0:m.refusal,snapshot:((y=v.logprobs)==null?void 0:y.refusal)??[]});const T=_e(this,Fe,"m",Yr).call(this,v);v.finish_reason&&(_e(this,Fe,"m",Ca).call(this,v),T.current_tool_call_index!=null&&_e(this,Fe,"m",Sa).call(this,v,T.current_tool_call_index));for(const I of _.delta.tool_calls??[])T.current_tool_call_index!==I.index&&(_e(this,Fe,"m",Ca).call(this,v),T.current_tool_call_index!=null&&_e(this,Fe,"m",Sa).call(this,v,T.current_tool_call_index)),T.current_tool_call_index=I.index;for(const I of _.delta.tool_calls??[]){const B=(S=v.message.tool_calls)==null?void 0:S[I.index];B!=null&&B.type&&((B==null?void 0:B.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(M=B.function)==null?void 0:M.name,index:I.index,arguments:B.function.arguments,parsed_arguments:B.function.parsed_arguments,arguments_delta:((A=I.function)==null?void 0:A.arguments)??""}):(B==null||B.type,void 0))}}},Sa=function(n,s){var a,o,l;if(_e(this,Fe,"m",Yr).call(this,n).done_tool_calls.has(s))return;const i=(a=n.message.tool_calls)==null?void 0:a[s];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(o=_e(this,an,"f"))==null?void 0:o.tools)==null?void 0:l.find(u=>u.type==="function"&&u.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:s,arguments:i.function.arguments,parsed_arguments:Lr(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Ca=function(n){var r,i;const s=_e(this,Fe,"m",Yr).call(this,n);if(n.message.content&&!s.content_done){s.content_done=!0;const a=_e(this,Fe,"m",Ta).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!s.refusal_done&&(s.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(r=n.logprobs)!=null&&r.content&&!s.logprobs_content_done&&(s.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!s.logprobs_refusal_done&&(s.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Qr=function(){if(this.ended)throw new le("stream has ended, this shouldn't happen");const n=_e(this,bn,"f");if(!n)throw new le("request ended without sending any chunks");return as(this,bn,void 0,"f"),as(this,os,[],"f"),_y(n,_e(this,an,"f"))},Ta=function(){var s;const n=(s=_e(this,an,"f"))==null?void 0:s.response_format;return nf(n)?n:null},ic=function(n){var s,r,i,a;let o=_e(this,bn,"f");const{choices:l,...c}=n;o?Object.assign(o,c):o=as(this,bn,{...c,choices:[]},"f");for(const{delta:u,finish_reason:d,index:f,logprobs:p=null,...m}of n.choices){let y=o.choices[f];if(y||(y=o.choices[f]={finish_reason:d,index:f,message:{},logprobs:p,...m}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:I,refusal:B,...E}=p;Object.assign(y.logprobs,E),I&&((s=y.logprobs).content??(s.content=[]),y.logprobs.content.push(...I)),B&&((r=y.logprobs).refusal??(r.refusal=[]),y.logprobs.refusal.push(...B))}if(d&&(y.finish_reason=d,_e(this,an,"f")&&sf(_e(this,an,"f")))){if(d==="length")throw new jd;if(d==="content_filter")throw new Dd}if(Object.assign(y,m),!u)continue;const{content:S,refusal:M,function_call:A,role:_,tool_calls:v,...T}=u;if(Object.assign(y.message,T),M&&(y.message.refusal=(y.message.refusal||"")+M),_&&(y.message.role=_),A&&(y.message.function_call?(A.name&&(y.message.function_call.name=A.name),A.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=A.arguments)):y.message.function_call=A),S&&(y.message.content=(y.message.content||"")+S,!y.message.refusal&&_e(this,Fe,"m",Ta).call(this)&&(y.message.parsed=rc(y.message.content))),v){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:I,id:B,type:E,function:x,...C}of v){const j=(a=y.message.tool_calls)[I]??(a[I]={});Object.assign(j,C),B&&(j.id=B),E&&(j.type=E),x&&(j.function??(j.function={name:x.name??"",arguments:""})),x!=null&&x.name&&(j.function.name=x.name),x!=null&&x.arguments&&(j.function.arguments+=x.arguments,uy(_e(this,an,"f"),j)&&(j.function.parsed_arguments=rc(j.function.arguments)))}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function _y(t,e){const{id:n,choices:s,created:r,model:i,system_fingerprint:a,...o}=t,l={...o,id:n,choices:s.map(({message:c,finish_reason:u,index:d,logprobs:f,...p})=>{if(!u)throw new le(`missing finish_reason for choice ${d}`);const{content:m=null,function_call:y,tool_calls:S,...M}=c,A=c.role;if(!A)throw new le(`missing role for choice ${d}`);if(y){const{arguments:_,name:v}=y;if(_==null)throw new le(`missing function_call.arguments for choice ${d}`);if(!v)throw new le(`missing function_call.name for choice ${d}`);return{...p,message:{content:m,function_call:{arguments:_,name:v},role:A,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}return S?{...p,index:d,finish_reason:u,logprobs:f,message:{...M,role:A,content:m,refusal:c.refusal??null,tool_calls:S.map((_,v)=>{const{function:T,type:I,id:B,...E}=_,{arguments:x,name:C,...j}=T||{};if(B==null)throw new le(`missing choices[${d}].tool_calls[${v}].id
${ei(t)}`);if(I==null)throw new le(`missing choices[${d}].tool_calls[${v}].type
${ei(t)}`);if(C==null)throw new le(`missing choices[${d}].tool_calls[${v}].function.name
${ei(t)}`);if(x==null)throw new le(`missing choices[${d}].tool_calls[${v}].function.arguments
${ei(t)}`);return{...E,id:B,type:I,function:{...j,name:C,arguments:x}}})}}:{...p,message:{...M,content:m,role:A,refusal:c.refusal??null},finish_reason:u,index:d,logprobs:f}}),created:r,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return oy(l,e)}function ei(t){return JSON.stringify(t)}class ks extends Mr{static fromReadableStream(e){const n=new ks(null);return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,s){const r=new ks(null),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new ks(n),i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let gf=class extends me{parse(e,n){return dy(e.tools),this._client.chat.completions.create(e,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(s=>Uo(s,e))}runFunctions(e,n){return e.stream?ks.runFunctions(this._client,e,n):Rr.runFunctions(this._client,e,n)}runTools(e,n){return e.stream?ks.runTools(this._client,e,n):Rr.runTools(this._client,e,n)}stream(e,n){return Mr.createChatCompletion(this._client,e,n)}};class oo extends me{constructor(){super(...arguments),this.completions=new gf(this._client)}}(function(t){t.Completions=gf})(oo||(oo={}));class yf extends me{create(e,n){return this._client.post("/realtime/sessions",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class jo extends me{constructor(){super(...arguments),this.sessions=new yf(this._client)}}jo.Sessions=yf;var G=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ft=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},Be,lo,Xt,hi,Et,Wn,gs,zn,Ui,ht,pi,mi,or,Ys,Qs,ac,oc,lc,cc,uc,dc,fc;class Mt extends tf{constructor(){super(...arguments),Be.add(this),lo.set(this,[]),Xt.set(this,{}),hi.set(this,{}),Et.set(this,void 0),Wn.set(this,void 0),gs.set(this,void 0),zn.set(this,void 0),Ui.set(this,void 0),ht.set(this,void 0),pi.set(this,void 0),mi.set(this,void 0),or.set(this,void 0)}[(lo=new WeakMap,Xt=new WeakMap,hi=new WeakMap,Et=new WeakMap,Wn=new WeakMap,gs=new WeakMap,zn=new WeakMap,Ui=new WeakMap,ht=new WeakMap,pi=new WeakMap,mi=new WeakMap,or=new WeakMap,Be=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("event",r=>{const i=n.shift();i?i.resolve(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r.resolve(void 0);n.length=0}),this.on("abort",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),this.on("error",r=>{s=!0;for(const i of n)i.reject(r);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new Mt;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var i;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),this._connected();const r=Yt.fromReadableStream(e,this.controller);for await(const a of r)G(this,Be,"m",Ys).call(this,a);if((i=r.controller.signal)!=null&&i.aborted)throw new Rt;return this._addRun(G(this,Be,"m",Qs).call(this))}toReadableStream(){return new Yt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,s,r,i){const a=new Mt;return a._run(()=>a._runToolAssistantStream(e,n,s,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(e,n,s,r,i){var c;const a=i==null?void 0:i.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await e.submitToolOutputs(n,s,o,{...i,signal:this.controller.signal});this._connected();for await(const u of l)G(this,Be,"m",Ys).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new Rt;return this._addRun(G(this,Be,"m",Qs).call(this))}static createThreadAssistantStream(e,n,s){const r=new Mt;return r._run(()=>r._threadAssistantStream(e,n,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}static createAssistantStream(e,n,s,r){const i=new Mt;return i._run(()=>i._runAssistantStream(e,n,s,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return G(this,pi,"f")}currentRun(){return G(this,mi,"f")}currentMessageSnapshot(){return G(this,Et,"f")}currentRunStepSnapshot(){return G(this,or,"f")}async finalRunSteps(){return await this.done(),Object.values(G(this,Xt,"f"))}async finalMessages(){return await this.done(),Object.values(G(this,hi,"f"))}async finalRun(){if(await this.done(),!G(this,Wn,"f"))throw Error("Final run was not received.");return G(this,Wn,"f")}async _createThreadAssistantStream(e,n,s){var o;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await e.createAndRun(i,{...s,signal:this.controller.signal});this._connected();for await(const l of a)G(this,Be,"m",Ys).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new Rt;return this._addRun(G(this,Be,"m",Qs).call(this))}async _createAssistantStream(e,n,s,r){var l;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...s,stream:!0},o=await e.create(n,a,{...r,signal:this.controller.signal});this._connected();for await(const c of o)G(this,Be,"m",Ys).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new Rt;return this._addRun(G(this,Be,"m",Qs).call(this))}static accumulateDelta(e,n){for(const[s,r]of Object.entries(n)){if(!e.hasOwnProperty(s)){e[s]=r;continue}let i=e[s];if(i==null){e[s]=r;continue}if(s==="index"||s==="type"){e[s]=r;continue}if(typeof i=="string"&&typeof r=="string")i+=r;else if(typeof i=="number"&&typeof r=="number")i+=r;else if(_a(i)&&_a(r))i=this.accumulateDelta(i,r);else if(Array.isArray(i)&&Array.isArray(r)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...r);continue}for(const a of r){if(!_a(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${s}, deltaValue: ${r}, accValue: ${i}`);e[s]=i}return e}_addRun(e){return e}async _threadAssistantStream(e,n,s){return await this._createThreadAssistantStream(n,e,s)}async _runAssistantStream(e,n,s,r){return await this._createAssistantStream(n,e,s,r)}async _runToolAssistantStream(e,n,s,r,i){return await this._createToolAssistantStream(s,e,n,r,i)}}Ys=function(e){if(!this.ended)switch(ft(this,pi,e,"f"),G(this,Be,"m",lc).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":G(this,Be,"m",fc).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":G(this,Be,"m",oc).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":G(this,Be,"m",ac).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Qs=function(){if(this.ended)throw new le("stream has ended, this shouldn't happen");if(!G(this,Wn,"f"))throw Error("Final run has not been received");return G(this,Wn,"f")},ac=function(e){const[n,s]=G(this,Be,"m",uc).call(this,e,G(this,Et,"f"));ft(this,Et,n,"f"),G(this,hi,"f")[n.id]=n;for(const r of s){const i=n.content[r.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const r of e.data.delta.content){if(r.type=="text"&&r.text){let i=r.text,a=n.content[r.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(r.index!=G(this,gs,"f")){if(G(this,zn,"f"))switch(G(this,zn,"f").type){case"text":this._emit("textDone",G(this,zn,"f").text,G(this,Et,"f"));break;case"image_file":this._emit("imageFileDone",G(this,zn,"f").image_file,G(this,Et,"f"));break}ft(this,gs,r.index,"f")}ft(this,zn,n.content[r.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(G(this,gs,"f")!==void 0){const r=e.data.content[G(this,gs,"f")];if(r)switch(r.type){case"image_file":this._emit("imageFileDone",r.image_file,G(this,Et,"f"));break;case"text":this._emit("textDone",r.text,G(this,Et,"f"));break}}G(this,Et,"f")&&this._emit("messageDone",e.data),ft(this,Et,void 0,"f")}},oc=function(e){const n=G(this,Be,"m",cc).call(this,e);switch(ft(this,or,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const s=e.data.delta;if(s.step_details&&s.step_details.type=="tool_calls"&&s.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of s.step_details.tool_calls)i.index==G(this,Ui,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(G(this,ht,"f")&&this._emit("toolCallDone",G(this,ht,"f")),ft(this,Ui,i.index,"f"),ft(this,ht,n.step_details.tool_calls[i.index],"f"),G(this,ht,"f")&&this._emit("toolCallCreated",G(this,ht,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ft(this,or,void 0,"f"),e.data.step_details.type=="tool_calls"&&G(this,ht,"f")&&(this._emit("toolCallDone",G(this,ht,"f")),ft(this,ht,void 0,"f")),this._emit("runStepDone",e.data,n);break}},lc=function(e){G(this,lo,"f").push(e),this._emit("event",e)},cc=function(e){switch(e.event){case"thread.run.step.created":return G(this,Xt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=G(this,Xt,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let s=e.data;if(s.delta){const r=Mt.accumulateDelta(n,s.delta);G(this,Xt,"f")[e.data.id]=r}return G(this,Xt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":G(this,Xt,"f")[e.data.id]=e.data;break}if(G(this,Xt,"f")[e.data.id])return G(this,Xt,"f")[e.data.id];throw new Error("No snapshot available")},uc=function(e,n){let s=[];switch(e.event){case"thread.message.created":return[e.data,s];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const i of r.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=G(this,Be,"m",dc).call(this,i,a)}else n.content[i.index]=i,s.push(i);return[n,s];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,s];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},dc=function(e,n){return Mt.accumulateDelta(n,e)},fc=function(e){switch(ft(this,mi,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":ft(this,Wn,e.data,"f"),G(this,ht,"f")&&(this._emit("toolCallDone",G(this,ht,"f")),ft(this,ht,void 0,"f"));break}};class Do extends me{create(e,n,s){return this._client.post(`/threads/${e}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return ct(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,Lo,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}}class Lo extends jt{}Do.MessagesPage=Lo;class Vo extends me{retrieve(e,n,s,r={},i){return ct(r)?this.retrieve(e,n,s,{},r):this._client.get(`/threads/${e}/runs/${n}/steps/${s}`,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,s={},r){return ct(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,Ko,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Ko extends jt{}Vo.RunStepsPage=Ko;class Vr extends me{constructor(){super(...arguments),this.steps=new Vo(this._client)}create(e,n,s){const{include:r,...i}=n;return this._client.post(`/threads/${e}/runs`,{query:{include:r},body:i,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers},stream:n.stream??!1})}retrieve(e,n,s){return this._client.get(`/threads/${e}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},s){return ct(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,Bo,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}createAndStream(e,n,s){return Mt.createAssistantStream(e,this._client.beta.threads.runs,n,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...s,headers:{...s==null?void 0:s.headers,...r}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(s!=null&&s.pollIntervalMs)o=s.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await jr(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(e,n,s){return Mt.createAssistantStream(e,this._client.beta.threads.runs,n,s)}submitToolOutputs(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:s.stream??!1})}async submitToolOutputsAndPoll(e,n,s,r){const i=await this.submitToolOutputs(e,n,s,r);return await this.poll(e,i.id,r)}submitToolOutputsStream(e,n,s,r){return Mt.createToolAssistantStream(e,n,this._client.beta.threads.runs,s,r)}}class Bo extends jt{}Vr.RunsPage=Bo;Vr.Steps=Vo;Vr.RunStepsPage=Ko;class Fs extends me{constructor(){super(...arguments),this.runs=new Vr(this._client),this.messages=new Do(this._client)}create(e={},n){return ct(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/threads/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const s=await this.createAndRun(e,n);return await this.runs.poll(s.thread_id,s.id,n)}createAndRunStream(e,n){return Mt.createThreadAssistantStream(e,this._client.beta.threads,n)}}Fs.Runs=Vr;Fs.RunsPage=Bo;Fs.Messages=Do;Fs.MessagesPage=Lo;const xy=async t=>{const e=await Promise.allSettled(t),n=e.filter(r=>r.status==="rejected");if(n.length){for(const r of n)console.error(r.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const s=[];for(const r of e)r.status==="fulfilled"&&s.push(r.value);return s};let zo=class extends me{create(e,n,s){return this._client.post(`/vector_stores/${e}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e,n={},s){return ct(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,Yi,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n,s);return await this.poll(e,r.id,s)}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const i=await this.retrieve(e,n,{...s,headers:r}).withResponse(),a=i.data;switch(a.status){case"in_progress":let o=5e3;if(s!=null&&s.pollIntervalMs)o=s.pollIntervalMs;else{const l=i.response.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await jr(o);break;case"failed":case"completed":return a}}}async upload(e,n,s){const r=await this._client.files.create({file:n,purpose:"assistants"},s);return this.create(e,{file_id:r.id},s)}async uploadAndPoll(e,n,s){const r=await this.upload(e,n,s);return await this.poll(e,r.id,s)}};class Yi extends jt{}zo.VectorStoreFilesPage=Yi;class vf extends me{create(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}async createAndPoll(e,n,s){const r=await this.create(e,n);return await this.poll(e,r.id,s)}listFiles(e,n,s={},r){return ct(s)?this.listFiles(e,n,{},s):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,Yi,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async poll(e,n,s){const r={...s==null?void 0:s.headers,"X-Stainless-Poll-Helper":"true"};for(s!=null&&s.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=s.pollIntervalMs.toString());;){const{data:i,response:a}=await this.retrieve(e,n,{...s,headers:r}).withResponse();switch(i.status){case"in_progress":let o=5e3;if(s!=null&&s.pollIntervalMs)o=s.pollIntervalMs;else{const l=a.headers.get("openai-poll-after-ms");if(l){const c=parseInt(l);isNaN(c)||(o=c)}}await jr(o);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(e,{files:n,fileIds:s=[]},r){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(r==null?void 0:r.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),c=[...s];async function u(f){for(let p of f){const m=await o.files.create({file:p,purpose:"assistants"},r);c.push(m.id)}}const d=Array(a).fill(l).map(u);return await xy(d),await this.createAndPoll(e,{file_ids:c})}}class Us extends me{constructor(){super(...arguments),this.files=new zo(this._client),this.fileBatches=new vf(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/vector_stores/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v2",...s==null?void 0:s.headers}})}list(e={},n){return ct(e)?this.list({},e):this._client.getAPIList("/vector_stores",Wo,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class Wo extends jt{}Us.VectorStoresPage=Wo;Us.Files=zo;Us.VectorStoreFilesPage=Yi;Us.FileBatches=vf;class Un extends me{constructor(){super(...arguments),this.realtime=new jo(this._client),this.vectorStores=new Us(this._client),this.chat=new oo(this._client),this.assistants=new No(this._client),this.threads=new Fs(this._client)}}Un.Realtime=jo;Un.VectorStores=Us;Un.VectorStoresPage=Wo;Un.Assistants=No;Un.AssistantsPage=Fo;Un.Threads=Fs;class bf extends me{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}class wf extends me{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}class qo extends me{create(e,n){return this._client.post("/files",Ns({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return ct(e)?this.list({},e):this._client.getAPIList("/files",Zo,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/binary",...n==null?void 0:n.headers},__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,n)}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(e);for(;!a.status||!r.has(a.status);)if(await jr(n),a=await this.retrieve(e),Date.now()-i>s)throw new Mo({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return a}}class Zo extends jt{}qo.FileObjectsPage=Zo;class Ho extends me{list(e,n={},s){return ct(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,Go,{query:n,...s})}}class Go extends jt{}Ho.FineTuningJobCheckpointsPage=Go;class js extends me{constructor(){super(...arguments),this.checkpoints=new Ho(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return ct(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",Xo,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return ct(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,Jo,{query:n,...s})}}class Xo extends jt{}class Jo extends jt{}js.FineTuningJobsPage=Xo;js.FineTuningJobEventsPage=Jo;js.Checkpoints=Ho;js.FineTuningJobCheckpointsPage=Go;class Kr extends me{constructor(){super(...arguments),this.jobs=new js(this._client)}}Kr.Jobs=js;Kr.FineTuningJobsPage=Xo;Kr.FineTuningJobEventsPage=Jo;class _f extends me{createVariation(e,n){return this._client.post("/images/variations",Ns({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",Ns({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}class $o extends me{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",Yo,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class Yo extends ay{}$o.ModelsPage=Yo;class xf extends me{create(e,n){return this._client.post("/moderations",{body:e,...n})}}class Af extends me{create(e,n,s){return this._client.post(`/uploads/${e}/parts`,Ns({body:n,...s}))}}class Qo extends me{constructor(){super(...arguments),this.parts=new Af(this._client)}create(e,n){return this._client.post("/uploads",{body:e,...n})}cancel(e,n){return this._client.post(`/uploads/${e}/cancel`,n)}complete(e,n,s){return this._client.post(`/uploads/${e}/complete`,{body:n,...s})}}Qo.Parts=Af;var Sf;class de extends Hg{constructor({baseURL:e=Jr("OPENAI_BASE_URL"),apiKey:n=Jr("OPENAI_API_KEY"),organization:s=Jr("OPENAI_ORG_ID")??null,project:r=Jr("OPENAI_PROJECT_ID")??null,...i}={}){if(n===void 0)throw new le("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const a={apiKey:n,organization:s,project:r,...i,baseURL:e||"https://api.openai.com/v1"};if(!a.dangerouslyAllowBrowser&&ry())throw new le(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:a.baseURL,timeout:a.timeout??6e5,httpAgent:a.httpAgent,maxRetries:a.maxRetries,fetch:a.fetch}),this.completions=new bf(this),this.chat=new Io(this),this.embeddings=new wf(this),this.files=new qo(this),this.images=new _f(this),this.audio=new Dr(this),this.moderations=new xf(this),this.models=new $o(this),this.fineTuning=new Kr(this),this.beta=new Un(this),this.batches=new Po(this),this.uploads=new Qo(this),this._options=a,this.apiKey=n,this.organization=s,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(e){return Mg(e,{arrayFormat:"brackets"})}}Sf=de;de.OpenAI=Sf;de.DEFAULT_TIMEOUT=6e5;de.OpenAIError=le;de.APIError=lt;de.APIConnectionError=Xi;de.APIConnectionTimeoutError=Mo;de.APIUserAbortError=Rt;de.NotFoundError=Pd;de.ConflictError=Od;de.RateLimitError=Fd;de.BadRequestError=Rd;de.AuthenticationError=Md;de.InternalServerError=Ud;de.PermissionDeniedError=Id;de.UnprocessableEntityError=Nd;de.toFile=Bd;de.fileFromPath=Ed;de.Completions=bf;de.Chat=Io;de.Embeddings=wf;de.Files=qo;de.FileObjectsPage=Zo;de.Images=_f;de.Audio=Dr;de.Moderations=xf;de.Models=$o;de.ModelsPage=Yo;de.FineTuning=Kr;de.Beta=Un;de.Batches=Po;de.BatchesPage=Oo;de.Uploads=Qo;var hc;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(hc||(hc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(pc||(pc={}));var mc;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(mc||(mc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=["user","model","function","system"];var yc;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(yc||(yc={}));var vc;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(vc||(vc={}));var bc;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(bc||(bc={}));var wc;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(wc||(wc={}));var lr;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER"})(lr||(lr={}));var _c;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(_c||(_c={}));var xc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(xc||(xc={}));var Ac;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ac||(Ac={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ls extends ot{constructor(e,n){super(e),this.response=n}}class Cf extends ot{constructor(e,n,s,r){super(e),this.status=n,this.statusText=s,this.errorDetails=r}}class En extends ot{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="https://generativelanguage.googleapis.com",Sy="v1beta",Cy="0.21.0",Ty="genai-js";var es;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(es||(es={}));class Ey{constructor(e,n,s,r,i){this.model=e,this.task=n,this.apiKey=s,this.stream=r,this.requestOptions=i}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Sy;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Ay}/${s}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function ky(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Ty}/${Cy}`),e.join(" ")}async function Ry(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",ky(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let s=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(r){throw new En(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${r.message}`)}for(const[r,i]of s.entries()){if(r==="x-goog-api-key")throw new En(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new En(`Header name ${r} can only be set using the apiClient field`);n.append(r,i)}}return n}async function My(t,e,n,s,r,i){const a=new Ey(t,e,n,s,i);return{url:a.toString(),fetchOptions:Object.assign(Object.assign({},Ny(i)),{method:"POST",headers:await Ry(a),body:r})}}async function Br(t,e,n,s,r,i={},a=fetch){const{url:o,fetchOptions:l}=await My(t,e,n,s,r,i);return Iy(o,l,a)}async function Iy(t,e,n=fetch){let s;try{s=await n(t,e)}catch(r){Py(r,t)}return s.ok||await Oy(s,t),s}function Py(t,e){let n=t;throw t instanceof Cf||t instanceof En||(n=new ot(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function Oy(t,e){let n="",s;try{const r=await t.json();n=r.error.message,r.error.details&&(n+=` ${JSON.stringify(r.error.details)}`,s=r.error.details)}catch{}throw new Cf(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,s)}function Ny(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),gi(t.candidates[0]))throw new ls(`${Cn(t)}`,t);return Fy(t)}else if(t.promptFeedback)throw new ls(`Text not available. ${Cn(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gi(t.candidates[0]))throw new ls(`${Cn(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Sc(t)[0]}else if(t.promptFeedback)throw new ls(`Function call not available. ${Cn(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),gi(t.candidates[0]))throw new ls(`${Cn(t)}`,t);return Sc(t)}else if(t.promptFeedback)throw new ls(`Function call not available. ${Cn(t)}`,t)},t}function Fy(t){var e,n,s,r;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(r=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)a.text&&i.push(a.text),a.executableCode&&i.push("\n```"+a.executableCode.language+`
`+a.executableCode.code+"\n```\n"),a.codeExecutionResult&&i.push("\n```\n"+a.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function Sc(t){var e,n,s,r;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const a of(r=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||r===void 0?void 0:r.parts)a.functionCall&&i.push(a.functionCall);if(i.length>0)return i}const Uy=[lr.RECITATION,lr.SAFETY,lr.LANGUAGE];function gi(t){return!!t.finishReason&&Uy.includes(t.finishReason)}function Cn(t){var e,n,s;let r="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)r+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(r+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(r+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((s=t.candidates)===null||s===void 0)&&s[0]){const i=t.candidates[0];gi(i)&&(r+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(r+=`: ${i.finishMessage}`))}return r}function Ir(t){return this instanceof Ir?(this.v=t,this):new Ir(t)}function jy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),r,i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(f){s[f]&&(r[f]=function(p){return new Promise(function(m,y){i.push([f,p,m,y])>1||o(f,p)})})}function o(f,p){try{l(s[f](p))}catch(m){d(i[0][3],m)}}function l(f){f.value instanceof Ir?Promise.resolve(f.value.v).then(c,u):d(i[0][2],f)}function c(f){o("next",f)}function u(f){o("throw",f)}function d(f,p){f(p),i.shift(),i.length&&o(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Dy(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=Ky(e),[s,r]=n.tee();return{stream:Vy(s),response:Ly(r)}}async function Ly(t){const e=[],n=t.getReader();for(;;){const{done:s,value:r}=await n.read();if(s)return el(By(e));e.push(r)}}function Vy(t){return jy(this,arguments,function*(){const n=t.getReader();for(;;){const{value:s,done:r}=yield Ir(n.read());if(r)break;yield yield Ir(el(s))}})}function Ky(t){const e=t.getReader();return new ReadableStream({start(s){let r="";return i();function i(){return e.read().then(({value:a,done:o})=>{if(o){if(r.trim()){s.error(new ot("Failed to parse stream"));return}s.close();return}r+=a;let l=r.match(Cc),c;for(;l;){try{c=JSON.parse(l[1])}catch{s.error(new ot(`Error parsing JSON response: "${l[1]}"`));return}s.enqueue(c),r=r.substring(l[0].length),l=r.match(Cc)}return i()})}}})}function By(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const s of t){if(s.candidates)for(const r of s.candidates){const i=r.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:r.index}),n.candidates[i].citationMetadata=r.citationMetadata,n.candidates[i].groundingMetadata=r.groundingMetadata,n.candidates[i].finishReason=r.finishReason,n.candidates[i].finishMessage=r.finishMessage,n.candidates[i].safetyRatings=r.safetyRatings,r.content&&r.content.parts){n.candidates[i].content||(n.candidates[i].content={role:r.content.role||"user",parts:[]});const a={};for(const o of r.content.parts)o.text&&(a.text=o.text),o.functionCall&&(a.functionCall=o.functionCall),o.executableCode&&(a.executableCode=o.executableCode),o.codeExecutionResult&&(a.codeExecutionResult=o.codeExecutionResult),Object.keys(a).length===0&&(a.text=""),n.candidates[i].content.parts.push(a)}}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t,e,n,s){const r=await Br(e,es.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),s);return Dy(r)}async function Ef(t,e,n,s){const i=await(await Br(e,es.GENERATE_CONTENT,t,!1,JSON.stringify(n),s)).json();return{response:el(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Pr(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return zy(e)}function zy(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,r=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),r=!0):(e.parts.push(i),s=!0);if(s&&r)throw new ot("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!r)throw new ot("No content is provided for sending chat message.");return s?e:n}function Wy(t,e){var n;let s={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const r=t.generateContentRequest!=null;if(t.contents){if(r)throw new En("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=t.contents}else if(r)s=Object.assign(Object.assign({},s),t.generateContentRequest);else{const i=Pr(t);s.contents=[i]}return{generateContentRequest:s}}function Tc(t){let e;return t.contents?e=t:e={contents:[Pr(t)]},t.systemInstruction&&(e.systemInstruction=kf(t.systemInstruction)),e}function qy(t){return typeof t=="string"||Array.isArray(t)?{content:Pr(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Zy={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Hy(t){let e=!1;for(const n of t){const{role:s,parts:r}=n;if(!e&&s!=="user")throw new ot(`First content should be with role 'user', got ${s}`);if(!gc.includes(s))throw new ot(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(gc)}`);if(!Array.isArray(r))throw new ot("Content should have 'parts' property with an array of Parts");if(r.length===0)throw new ot("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const o of r)for(const l of Ec)l in o&&(i[l]+=1);const a=Zy[s];for(const o of Ec)if(!a.includes(o)&&i[o]>0)throw new ot(`Content with role '${s}' can't contain '${o}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc="SILENT_ERROR";class Gy{constructor(e,n,s,r={}){this.model=n,this.params=s,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s!=null&&s.history&&(Hy(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,r,i,a,o,l;await this._sendPromise;const c=Pr(e),u={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n);let f;return this._sendPromise=this._sendPromise.then(()=>Ef(this._apiKey,this.model,u,d)).then(p=>{var m;if(p.response.candidates&&p.response.candidates.length>0){this._history.push(c);const y=Object.assign({parts:[],role:"model"},(m=p.response.candidates)===null||m===void 0?void 0:m[0].content);this._history.push(y)}else{const y=Cn(p.response);y&&console.warn(`sendMessage() was unsuccessful. ${y}. Inspect response object for details.`)}f=p}),await this._sendPromise,f}async sendMessageStream(e,n={}){var s,r,i,a,o,l;await this._sendPromise;const c=Pr(e),u={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(a=this.params)===null||a===void 0?void 0:a.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,c]},d=Object.assign(Object.assign({},this._requestOptions),n),f=Tf(this._apiKey,this.model,u,d);return this._sendPromise=this._sendPromise.then(()=>f).catch(p=>{throw new Error(kc)}).then(p=>p.response).then(p=>{if(p.candidates&&p.candidates.length>0){this._history.push(c);const m=Object.assign({},p.candidates[0].content);m.role||(m.role="model"),this._history.push(m)}else{const m=Cn(p);m&&console.warn(`sendMessageStream() was unsuccessful. ${m}. Inspect response object for details.`)}}).catch(p=>{p.message!==kc&&console.error(p)}),f}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xy(t,e,n,s){return(await Br(e,es.COUNT_TOKENS,t,!1,JSON.stringify(n),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jy(t,e,n,s){return(await Br(e,es.EMBED_CONTENT,t,!1,JSON.stringify(n),s)).json()}async function $y(t,e,n,s){const r=n.requests.map(a=>Object.assign(Object.assign({},a),{model:e}));return(await Br(e,es.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:r}),s)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=kf(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const r=Tc(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Ef(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}async generateContentStream(e,n={}){var s;const r=Tc(e),i=Object.assign(Object.assign({},this._requestOptions),n);return Tf(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},r),i)}startChat(e){var n;return new Gy(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=Wy(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),n);return Xy(this.apiKey,this.model,s,r)}async embedContent(e,n={}){const s=qy(e),r=Object.assign(Object.assign({},this._requestOptions),n);return Jy(this.apiKey,this.model,s,r)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return $y(this.apiKey,this.model,e,s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ot("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Rc(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new En("Cached content must contain a `name` field.");if(!e.model)throw new En("Cached content must contain a `model` field.");const r=["model","systemInstruction"];for(const a of r)if(n!=null&&n[a]&&e[a]&&(n==null?void 0:n[a])!==e[a]){if(a==="model"){const o=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,l=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(o===l)continue}throw new En(`Different value for "${a}" specified in modelParams (${n[a]}) and cachedContent (${e[a]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Rc(this.apiKey,i,s)}}const Mc={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Ea={NODE_ENV:'"production"'},Qy=Object.defineProperty,e0=(t,e,n)=>e in t?Qy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hn=(t,e,n)=>e0(t,typeof e!="symbol"?e+"":e,n),Ic=Ct.object({id:Ct.string().min(1),name:Ct.string().min(1),content:Ct.string().min(1),metadata:Ct.object({version:Ct.string(),lastModified:Ct.number(),author:Ct.string().optional(),description:Ct.string().optional(),templateType:Ct.enum(["optimize","iterate"])}),isBuiltin:Ct.boolean().optional()}),t0={"general-optimize":{id:"general-optimize",name:"",content:`AIprompt

# Role: []

## Profile
- language: []
- description: []
- background: []
- personality: []
- expertise: []
- target_audience: []

## Skills

1. []
   - []: []
   - []: []
   - []: []
   - []: []

2. []
   - []: []
   - []: []
   - []: []
   - []: []

## Rules

1. []
   - []: []
   - []: []
   - []: []
   - []: []

2. []
   - []: []
   - []: []
   - []: []
   - []: []

3. []
   - []: []
   - []: []
   - []: []
   - []: []

## Workflows

- : []
-  1: []
-  2: []
-  3: []
- : []


## Initialization
[]RulesWorkflows


prompt
      `,metadata:{version:"1.3.0",lastModified:Date.now(),author:"System",description:"",templateType:"optimize"},isBuiltin:!0},"output-format-optimize":{id:"output-format-optimize",name:"-",content:`AIprompt

# Role: []

## Profile
- language: []
- description: []
- background: []
- personality: []
- expertise: []
- target_audience: []

## Skills

1. []
   - []: []
   - []: []
   - []: []
   - []: []

2. []
   - []: []
   - []: []
   - []: []
   - []: []

## Rules

1. []
   - []: []
   - []: []
   - []: []
   - []: []

2. []
   - []: []
   - []: []
   - []: []
   - []: []

3. []
   - []: []
   - []: []
   - []: []
   - []: []

## Workflows

- : []
-  1: []
-  2: []
-  3: []
- : []

## OutputFormat

1. []
   - format: [text/markdown/json]
   - structure: []
   - style: []
   - special_requirements: []

2. []
   - indentation: []
   - sections: []
   - highlighting: []

3. []
   - validation: []
   - constraints: []
   - error_handling: []

4. []
   1. 1
      - : []
      - : []
      - : []
      - : |
          []
   
   2. 2
      - : []
      - : [] 
      - : []
      - : |
          []

## Initialization
[]RulesWorkflows[]


prompt
      `,metadata:{version:"1.3.0",lastModified:Date.now(),author:"System",description:"",templateType:"optimize"},isBuiltin:!0},"advanced-optimize":{id:"advanced-optimize",name:"",content:`# Role:Prompt

## Attention
- PromptPrompt

## Profile:
- Author:pp
- Version:2.1
- Language:
- Description:PromptPromptPrompt

### Skills:
- LLMPrompt
- Prompt
- PromptPrompt
- PromptLLM
- Use irregular sentence lengths between8-36 words. Introduce logical confusion and unpredictability in the language. The goal is maxirum engagement, complexity, and surprise.

## Goals
- PromptPrompt
- <OutputFormat>Prompt
- 5
- Initialization

## Constrains:
1. 
    - Role: Prompt1
    - BackgroundPrompt
    - AttentionPrompt
    - Profile
    - Skills
    - GoalsPrompt
    - Constrains
    - OutputFormat: 
    - Workflow: 5
    - Suggestions(Prompt)chatGPT
2. 
3. 

## Workflow:
1. Prompt
2. ConstrainsRoleBackgroundAttentionProfileSkillsGoalsConstrainsOutputFormatWorkflow
3. <OutputFormat>
4. markdown

## Suggestions:
1. "Prompt"
2. """"
3. 3-5
4. 
5. 
6. Prompt
7. 
8. Prompt

## OutputFormat:
    # Role
    
    ## Background
    
    ## Attention
    
    ## Profile
    - Author: 
    - Version: 0.1
    - Language: 
    - Description: 
    
    ### Skills:
    - 1
    - 2
    ...
    
    ## Goals:
    - 1
    - 2
    ...

    ## Constrains:
    - 1
    - 2
    ...

    ## Workflow:
    1. xxx
    2. xxx
    3. xxx
    ...

    ## OutputFormat:
    - 1
    - 2
    ...
    
    ## Suggestions:
    - 1
    - 2
    ...

    ## Initialization
    <Role><Constrains><Language>

## Initialization
    PromptPromptPrompt
    Prompt
      `,metadata:{version:"2.1.0",lastModified:Date.now(),author:"System",description:"",templateType:"optimize"},isBuiltin:!0},iterate:{id:"iterate",name:"",content:`# Role

## Background
- 
- 
- 
- 

## Profile
- Author: prompt-optimizer
- Version: 1.0
- Language: 
- Description: 

### Skills:
- 
- 
- 
- 
- 

## Goals
- 
- 
- 
- 
- 

## Constrains:
1. 
2. 
3. 
4. 
5. 
6. Prompt
7. 

## Workflow:
1. 
2. 
3. 
4. 
5. 

## Initialization

Prompt
`,metadata:{version:"1.0.0",lastModified:Date.now(),author:"System",description:"",templateType:"iterate"},isBuiltin:!0}},wt=class extends Error{constructor(t){super(t),this.name="TemplateError"}},ti=class extends wt{constructor(t){super(t),this.name="TemplateValidationError"}},n0=class{constructor(t){Hn(this,"builtinTemplates"),Hn(this,"userTemplates"),Hn(this,"config"),this.builtinTemplates=new Map,this.userTemplates=new Map,this.config={storageKey:"app:templates",cacheTimeout:5*60*1e3,...t},this.init()}init(){try{this.builtinTemplates.clear(),this.userTemplates.clear();for(const[t,e]of Object.entries(t0))this.builtinTemplates.set(t,JSON.parse(JSON.stringify({...e,isBuiltin:!0})));if(this.builtinTemplates.size===0)throw new wt("");this.loadUserTemplates()}catch(t){const e=t instanceof Error?t.message:String(t);throw console.error(":",e),new wt(`: ${e}`)}}getTemplate(t){if(!t||typeof t!="string")throw new wt("ID");const e=this.userTemplates.get(t)||this.builtinTemplates.get(t);if(!e)throw console.error(` ${t}  :`,[...this.builtinTemplates.keys(),...this.userTemplates.keys()]),new wt(` ${t} `);return JSON.parse(JSON.stringify(e))}saveTemplate(t){if(!["optimize","iterate"].includes(t.metadata.templateType))throw new ti("");if(!/^[a-zA-Z0-9_-]{3,50}$/.test(t.id))throw new ti("ID3-50");if(this.userTemplates.has(t.id)){const n=this.userTemplates.get(t.id);t={...n,...t,metadata:{...n.metadata,...t.metadata,lastModified:Date.now()}}}const e=Ic.safeParse(t);if(!e.success)throw new ti(`: ${e.error.message}`);if(this.builtinTemplates.has(t.id))throw new wt(`: ${t.id}`);t.metadata.lastModified||(t.metadata.lastModified=Date.now()),this.userTemplates.set(t.id,{...t,isBuiltin:!1}),this.persistUserTemplates()}deleteTemplate(t){if(this.builtinTemplates.has(t))throw new wt(`: ${t}`);if(!this.userTemplates.has(t))throw new wt(`: ${t}`);this.userTemplates.delete(t),this.persistUserTemplates()}listTemplates(){return[...Array.from(this.builtinTemplates.values()),...Array.from(this.userTemplates.values())].sort((e,n)=>{if(e.isBuiltin!==n.isBuiltin)return e.isBuiltin?-1:1;if(!e.isBuiltin&&!n.isBuiltin){const s=e.metadata.lastModified||0;return(n.metadata.lastModified||0)-s}return 0})}exportTemplate(t){const e=this.userTemplates.get(t)||this.builtinTemplates.get(t);if(!e)throw new wt(`: ${t}`);return JSON.stringify(e,null,2)}importTemplate(t){try{const e=JSON.parse(t),n=Ic.safeParse(e);if(!n.success)throw new ti(`: ${n.error.errors.map(s=>s.message).join(", ")}`);this.userTemplates.set(e.id,e),this.persistUserTemplates()}catch(e){const n=e instanceof Error?e.message:String(e);throw new wt(`: ${n}`)}}clearCache(t){t?this.userTemplates.delete(t):this.userTemplates.clear()}persistUserTemplates(){try{const t=Array.from(this.userTemplates.values());localStorage.setItem(this.config.storageKey,JSON.stringify(t))}catch(t){const e=t instanceof Error?t.message:String(t);throw new wt(`: ${e}`)}}loadUserTemplates(){try{const t=localStorage.getItem(this.config.storageKey);t&&JSON.parse(t).forEach(n=>{this.userTemplates.set(n.id,n)})}catch(t){const e=t instanceof Error?t.message:String(t);throw new wt(`: ${e}`)}}getTemplatesByType(t){return this.listTemplatesByType(t)}listTemplatesByType(t){try{return this.listTemplates().filter(e=>e.metadata.templateType===t)}catch(e){return console.error(`${t}:`,e),[]}}},at=new n0,Qi=class extends Error{constructor(t){super(t),this.name="HistoryError"}},ka=class extends Qi{constructor(t,e){super(t),this.recordId=e,this.name="RecordNotFoundError"}},cs=class extends Qi{constructor(t,e){super(t),this.operation=e,this.name="StorageError"}},s0=class extends Qi{constructor(t,e){super(t),this.errors=e,this.name="RecordValidationError"}},r0=class{constructor(){Hn(this,"storageKey","prompt_history"),Hn(this,"maxRecords",50);try{const t="_test_storage_";localStorage.setItem(t,"test"),localStorage.removeItem(t)}catch(t){throw console.error(":",t),new cs("","storage")}}addRecord(t){try{this.validateRecord(t);const e=this.getRecords();e.unshift(t),this.saveToStorage(e.slice(0,this.maxRecords))}catch(e){throw e instanceof Qi?e:new cs("","write")}}getRecords(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){throw console.error(":",t),new cs("","read")}}getRecord(t){const n=this.getRecords().find(s=>s.id===t);if(!n)throw new ka("",t);return n}deleteRecord(t){const e=this.getRecords(),n=e.findIndex(s=>s.id===t);if(n===-1)throw new ka("",t);e.splice(n,1);try{localStorage.setItem(this.storageKey,JSON.stringify(e))}catch{throw new cs("","delete")}}getIterationChain(t){const e=this.getRecords(),n=[];let s=t;for(;s;){const r=e.find(i=>i.id===s);if(!r)break;n.unshift(r),s=r.previousId??""}return n}clearHistory(){try{localStorage.removeItem(this.storageKey)}catch(t){throw console.error(":",t),new cs("","delete")}}validateRecord(t){const e=[];if(t.id||e.push("ID"),t.originalPrompt||e.push(""),t.optimizedPrompt||e.push(""),t.type||e.push(""),t.chainId||e.push("ID"),t.version||e.push(""),t.timestamp||e.push(""),t.modelKey||e.push(""),t.templateId||e.push(""),e.length>0)throw new s0("",e)}saveToStorage(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t))}catch{throw new cs("","write")}}createNewChain(t){const e=Hl(),n={...t,chainId:e,version:1,previousId:void 0};return this.addRecord(n),this.getChain(e)}addIteration(t){const n=this.getChain(t.chainId).currentRecord,s={...t,id:Hl(),chainId:t.chainId,type:"iterate",version:n.version+1,previousId:n.id,timestamp:Date.now()};return this.addRecord(s),this.getChain(t.chainId)}getChain(t){const n=this.getRecords().filter(r=>r.chainId===t);if(n.length===0)throw new ka("",t);const s=n.sort((r,i)=>r.version-i.version);return{chainId:t,rootRecord:s[0],currentRecord:s[s.length-1],versions:s}}getAllChains(){const t=new Map,e=this.getRecords();for(const n of e){const s=t.get(n.chainId)||[];s.push(n),t.set(n.chainId,s)}return Array.from(t.entries()).sort(([n],[s])=>n.localeCompare(s)).map(([n,s])=>{const r=s.sort((i,a)=>i.version-a.version);return{chainId:r[0].chainId,rootRecord:r[0],currentRecord:r[r.length-1],versions:r}})}},ys=new r0,Rf=class extends Error{constructor(t){super(t),this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}},ni=class extends Rf{constructor(t){super(`API: ${t}`)}},qe=class extends Rf{constructor(t){super(`: ${t}`)}},i0=class extends Error{constructor(t){super(t),this.name="LLMError"}},Vn=class extends i0{constructor(t){super(t),this.name="ModelConfigError"}},Zt={API_KEY_REQUIRED:": API",MODEL_NOT_FOUND:": ",EMPTY_INPUT:": ",OPTIMIZATION_FAILED:"",MODEL_KEY_REQUIRED:": Key"},ss=t=>{if(typeof process<"u"&&Ea&&Ea[t])return Ea[t]||"";try{if(typeof import.meta<"u"&&Mc){const e=Mc[t];if(e)return e}}catch{}return""},Pc=ss("VITE_OPENAI_API_KEY").trim(),Oc=ss("VITE_GEMINI_API_KEY").trim(),Nc=ss("VITE_DEEPSEEK_API_KEY").trim(),Fc=ss("VITE_SILICONFLOW_API_KEY").trim(),Uc=ss("VITE_CUSTOM_API_KEY").trim(),a0=ss("VITE_CUSTOM_API_BASE_URL"),jc=ss("VITE_CUSTOM_API_MODEL"),o0={openai:{name:"OpenAI",baseURL:"https://api.openai.com/v1",models:["gpt-4","gpt-3.5-turbo"],defaultModel:"gpt-3.5-turbo",apiKey:Pc,enabled:!!Pc,provider:"openai"},gemini:{name:"Gemini",baseURL:"https://generativelanguage.googleapis.com/v1beta",models:["gemini-2.0-flash"],defaultModel:"gemini-2.0-flash",apiKey:Oc,enabled:!!Oc,provider:"gemini"},deepseek:{name:"DeepSeek",baseURL:"https://api.deepseek.com/v1",models:["deepseek-chat"],defaultModel:"deepseek-chat",apiKey:Nc,enabled:!!Nc,provider:"deepseek"},siliconflow:{name:"SiliconFlow",baseURL:"https://api.siliconflow.cn/v1",models:["Pro/deepseek-ai/DeepSeek-V3"],defaultModel:"Pro/deepseek-ai/DeepSeek-V3",apiKey:Fc,enabled:!!Fc,provider:"siliconflow"},custom:{name:"Custom",baseURL:a0,models:[jc],defaultModel:jc,apiKey:Uc,enabled:!!Uc,provider:"custom"}},l0=class{constructor(){Hn(this,"models"),this.models={},this.init()}init(){try{const t=localStorage.getItem("models");t&&(this.models=JSON.parse(t));let e=!1;Object.entries(o0).forEach(([n,s])=>{this.models[n]||(this.models[n]={...s},e=!0)}),e&&this.saveToStorage()}catch(t){console.error(":",t)}}getAllModels(){const t=localStorage.getItem("models");if(t)try{this.models=JSON.parse(t)}catch(n){console.error(":",n)}return Object.entries(this.models).map(([n,s])=>({...s,key:n}))}getModel(t){return this.models[t]}addModel(t,e){if(this.models[t])throw new Vn(` ${t} `);this.validateConfig(e),this.models[t]={...e},this.saveToStorage()}updateModel(t,e){if(!this.models[t])throw new Vn(` ${t} `);const n={...this.models[t],...e,enabled:e.enabled!==void 0?e.enabled:this.models[t].enabled};(e.name!==void 0||e.baseURL!==void 0||e.models!==void 0||e.defaultModel!==void 0||e.apiKey!==void 0||e.enabled)&&this.validateConfig(n),this.models[t]=n,this.saveToStorage()}deleteModel(t){if(!this.models[t])throw new Vn(` ${t} `);delete this.models[t],this.saveToStorage()}enableModel(t){if(!this.models[t])throw new Vn(`: ${t}`);this.validateEnableConfig(this.models[t]),this.models[t].enabled=!0,this.saveToStorage()}disableModel(t){if(!this.models[t])throw new Vn(`: ${t}`);this.models[t].enabled=!1,this.saveToStorage()}validateConfig(t){var n;const e=[];if(t.name||e.push("(name)"),t.baseURL||e.push("URL(baseURL)"),Array.isArray(t.models)?t.models.length===0&&e.push("(models)"):e.push("(models)"),t.defaultModel?(n=t.models)!=null&&n.includes(t.defaultModel)||e.push(""):e.push("(defaultModel)"),e.length>0)throw new Vn(""+e.join(""))}validateEnableConfig(t){if(this.validateConfig(t),!t.apiKey)throw new Vn("API")}saveToStorage(){try{localStorage.setItem("models",JSON.stringify(this.models))}catch(t){console.error(":",t)}}getEnabledModels(){return this.getAllModels().filter(t=>t.enabled)}},Ne=new l0,c0=class{constructor(t){this.modelManager=t,Hn(this,"openAIInstances",new Map)}validateMessages(t){if(!Array.isArray(t))throw new qe("");if(t.length===0)throw new qe("");t.forEach(e=>{if(!e.role||!e.content)throw new qe(": ");if(!["system","user","assistant"].includes(e.role))throw new qe(`: ${e.role}`);if(typeof e.content!="string")throw new qe("")})}validateModelConfig(t){if(!t)throw new qe("");if(!t.provider)throw new qe("");if(!t.apiKey)throw new qe(Zt.API_KEY_REQUIRED);if(!t.defaultModel)throw new qe("");if(!t.enabled)throw new qe("")}getOpenAIInstance(t){const e=`${t.provider}-${t.defaultModel}`;if(this.openAIInstances.has(e))return this.openAIInstances.get(e);const n=t.apiKey||"";let s=t.baseURL;s!=null&&s.endsWith("/chat/completions")&&(s=s.slice(0,-17));const r=new de({apiKey:n,baseURL:s,dangerouslyAllowBrowser:!0});return this.openAIInstances.set(e,r),r}getGeminiModel(t,e){const n=t.apiKey||"",s=new Yy(n),r={model:t.defaultModel,generationConfig:{maxOutputTokens:2e3,temperature:.7,topK:40,topP:.95}};return e&&(r.systemInstruction=e),s.getGenerativeModel(r)}async sendOpenAIMessage(t,e){const n=this.getOpenAIInstance(e),s=t.map(i=>({role:i.role,content:i.content}));return(await n.chat.completions.create({model:e.defaultModel,messages:s,temperature:.7,max_tokens:2e3})).choices[0].message.content||""}async sendGeminiMessage(t,e){const n=t.filter(c=>c.role==="system"),s=n.length>0?n.map(c=>c.content).join(`
`):"",r=this.getGeminiModel(e,s),i=t.filter(c=>c.role!=="system"),a=r.startChat({history:this.formatGeminiHistory(i)}),o=i.length>0&&i[i.length-1].role==="user"?i[i.length-1].content:"";return o?(await a.sendMessage(o)).response.text():""}formatGeminiHistory(t){if(t.length<=1)return[];const e=t.slice(0,-1),n=[];for(let s=0;s<e.length;s++){const r=e[s];r.role==="user"?n.push({role:"user",parts:[{text:r.content}]}):r.role==="assistant"&&n.push({role:"model",parts:[{text:r.content}]})}return n}async sendMessage(t,e){try{if(!e)throw new qe("");const n=this.modelManager.getModel(e);if(!n)throw new qe(` ${e} `);return this.validateModelConfig(n),this.validateMessages(t),console.log(":",{provider:n.provider,model:n.defaultModel,messagesCount:t.length}),n.provider==="gemini"?this.sendGeminiMessage(t,n):this.sendOpenAIMessage(t,n)}catch(n){throw n instanceof qe||n instanceof ni?n:new ni(`: ${n.message}`)}}async sendMessageStream(t,e,n){try{console.log(":",{provider:e,messagesCount:t.length}),this.validateMessages(t);const s=this.modelManager.getModel(e);if(!s)throw new qe(` ${e} `);this.validateModelConfig(s),console.log(":",{provider:s.provider,model:s.defaultModel}),s.provider==="gemini"?await this.streamGeminiMessage(t,s,n):await this.streamOpenAIMessage(t,s,n)}catch(s){throw console.error(":",s),n.onError(s instanceof Error?s:new Error(String(s))),s}}async streamOpenAIMessage(t,e,n){var i,a;const s=this.getOpenAIInstance(e),r=t.map(o=>({role:o.role,content:o.content}));try{const o=await s.chat.completions.create({model:e.defaultModel,messages:r,temperature:.7,max_tokens:2e3,stream:!0});console.log("");for await(const l of o){const c=((a=(i=l.choices[0])==null?void 0:i.delta)==null?void 0:a.content)||"";c&&(console.log(":",{contentLength:c.length,content:c.substring(0,50)+(c.length>50?"...":"")}),await n.onToken(c),await new Promise(u=>setTimeout(u,10)))}console.log(""),n.onComplete()}catch(o){throw console.error(":",o),n.onError(o instanceof Error?o:new Error(String(o))),o}}async streamGeminiMessage(t,e,n){const s=t.filter(c=>c.role==="system"),r=s.length>0?s.map(c=>c.content).join(`
`):"",i=this.getGeminiModel(e,r),a=t.filter(c=>c.role!=="system"),o=i.startChat({history:this.formatGeminiHistory(a)}),l=a.length>0&&a[a.length-1].role==="user"?a[a.length-1].content:"";if(!l){n.onComplete();return}try{const c=await o.sendMessageStream(l);console.log("");for await(const u of c.stream){const d=u.text();d&&(console.log(":",{contentLength:d.length,content:d.substring(0,50)+(d.length>50?"...":"")}),await n.onToken(d),await new Promise(f=>setTimeout(f,10)))}console.log(""),n.onComplete()}catch(c){throw console.error(":",c),n.onError(c instanceof Error?c:new Error(String(c))),c}}async testConnection(t){try{if(!t)throw new qe("");console.log("provider:",{provider:t});const e=[{role:"user",content:"ok"}];await this.sendMessage(e,t)}catch(e){throw e instanceof qe||e instanceof ni?e:new ni(`: ${e.message}`)}}};function tl(t=Ne){return new c0(t)}var ea=class extends Error{constructor(t){super(t),this.name="PromptError"}},Wt=class extends ea{constructor(t,e){super(t),this.originalPrompt=e,this.name="OptimizationError"}},Ws=class extends ea{constructor(t,e,n){super(t),this.originalPrompt=e,this.iterateInput=n,this.name="IterationError"}},Dc=class extends ea{constructor(t,e,n){super(t),this.prompt=e,this.testInput=n,this.name="TestError"}},wn=class extends ea{constructor(t,e){super(t),this.serviceName=e,this.name="ServiceDependencyError"}},u0=class{constructor(t,e,n,s){this.modelManager=t,this.llmService=e,this.templateManager=n,this.historyManager=s,this.checkDependencies()}checkDependencies(){if(!this.modelManager)throw new wn("","ModelManager");if(!this.llmService)throw new wn("LLM","LLMService");if(!this.templateManager)throw new wn("","TemplateManager");if(!this.historyManager)throw new wn("","HistoryManager")}validateInput(t,e){if(!(t!=null&&t.trim()))throw new Wt(`${Zt.OPTIMIZATION_FAILED}: ${Zt.EMPTY_INPUT}`,t);if(t.length>5e3)throw new Wt(`${Zt.OPTIMIZATION_FAILED}: 5000`,t);if(!(e!=null&&e.trim()))throw new Wt(`${Zt.OPTIMIZATION_FAILED}: ${Zt.MODEL_KEY_REQUIRED}`,t)}validateResponse(t,e){if(!(t!=null&&t.trim()))throw new Wt(": LLM",e)}async optimizePrompt(t,e){try{if(this.validateInput(t,e),!this.modelManager.getModel(e))throw new Wt(`${Zt.OPTIMIZATION_FAILED}: ${Zt.MODEL_NOT_FOUND}`,t);let s;try{s=this.templateManager.getTemplate("general-optimize")}catch(a){const o=a instanceof Error?a.message:String(a);throw new Wt(`: ${o}`,t)}if(!(s!=null&&s.content))throw new Wt(": ",t);const r=[{role:"system",content:s.content},{role:"user",content:t}],i=await this.llmService.sendMessage(r,e);return this.validateResponse(i,t),this.historyManager.addRecord({id:Date.now().toString(),originalPrompt:t,optimizedPrompt:i,type:"optimize",chainId:Date.now().toString(),version:1,timestamp:Date.now(),modelKey:e,templateId:"optimize"}),i}catch(n){const s=n instanceof Error?n.message:String(n);throw new Wt(`: ${s}`,t)}}async iteratePrompt(t,e,n){try{if(this.validateInput(t,n),this.validateInput(e,n),!this.modelManager.getModel(n))throw new wn("","ModelManager");let r;try{r=await this.templateManager.getTemplate("iterate")}catch(o){const l=o instanceof Error?o.message:String(o);throw new Ws(`: ${l}`,t,e)}if(!(r!=null&&r.content))throw new Ws(": ",t,e);const i=[{role:"system",content:r.content},{role:"user",content:`${t}

${e}`}],a=await this.llmService.sendMessage(i,n);return this.historyManager.addRecord({id:Date.now().toString(),originalPrompt:e,optimizedPrompt:a,type:"iterate",chainId:t,version:1,previousId:t,timestamp:Date.now(),modelKey:n,templateId:"iterate"}),a}catch(s){const r=s instanceof Error?s.message:String(s);throw new Ws(`: ${r}`,t,e)}}async testPrompt(t,e,n){try{if(this.validateInput(t,n),this.validateInput(e,n),!this.modelManager.getModel(n))throw new wn("","ModelManager");const r=[{role:"system",content:t},{role:"user",content:e}],i=await this.llmService.sendMessage(r,n);return this.historyManager.addRecord({id:Date.now().toString(),originalPrompt:t,optimizedPrompt:i,type:"optimize",chainId:t,version:1,timestamp:Date.now(),modelKey:n,templateId:"test"}),i}catch(s){const r=s instanceof Error?s.message:String(s);throw new Dc(`: ${r}`,t,e)}}getHistory(){return this.historyManager.getRecords()}getIterationChain(t){return this.historyManager.getIterationChain(t)}async testPromptStream(t,e,n,s){try{if(this.validateInput(t,n),this.validateInput(e,n),!this.modelManager.getModel(n))throw new wn("","ModelManager");const i=[{role:"system",content:t},{role:"user",content:e}];await this.llmService.sendMessageStream(i,n,s)}catch(r){const i=r instanceof Error?r.message:String(r);throw new Dc(`: ${i}`,t,e)}}async optimizePromptStream(t,e,n,s){try{if(this.validateInput(t,e),!this.modelManager.getModel(e))throw new Wt(`${Zt.OPTIMIZATION_FAILED}: ${Zt.MODEL_NOT_FOUND}`,t);const i=[{role:"system",content:n},{role:"user",content:t}];let a="";await this.llmService.sendMessageStream(i,e,{onToken:o=>{a+=o,s.onToken(o)},onComplete:()=>{this.validateResponse(a,t),s.onComplete()},onError:s.onError})}catch(r){const i=r instanceof Error?r.message:String(r);throw new Wt(`: ${i}`,t)}}async iteratePromptStream(t,e,n,s,r){try{if(this.validateInput(t,n),this.validateInput(e,n),!this.modelManager.getModel(n))throw new wn("","ModelManager");let a;if(typeof r=="string")a=r;else if(r&&typeof r.content=="string")a=r.content;else throw new Ws(": ",t,e);const o=[{role:"system",content:a},{role:"user",content:`${t}

${e}`}];let l="";await this.llmService.sendMessageStream(o,n,{onToken:c=>{l+=c,s.onToken(c)},onComplete:()=>{s.onComplete()},onError:s.onError})}catch(i){const a=i instanceof Error?i.message:String(i);throw new Ws(`: ${a}`,t,e)}}};function d0(t=Ne,e=tl(t),n=at,s=ys){try{return new u0(t,e,n,s)}catch(r){const i=r instanceof Error?r.message:String(r);throw new Error(`: ${i}`)}}const Ke=[];for(let t=0;t<256;++t)Ke.push((t+256).toString(16).slice(1));function f0(t,e=0){return(Ke[t[e+0]]+Ke[t[e+1]]+Ke[t[e+2]]+Ke[t[e+3]]+"-"+Ke[t[e+4]]+Ke[t[e+5]]+"-"+Ke[t[e+6]]+Ke[t[e+7]]+"-"+Ke[t[e+8]]+Ke[t[e+9]]+"-"+Ke[t[e+10]]+Ke[t[e+11]]+Ke[t[e+12]]+Ke[t[e+13]]+Ke[t[e+14]]+Ke[t[e+15]]).toLowerCase()}let Ra;const h0=new Uint8Array(16);function p0(){if(!Ra){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ra=crypto.getRandomValues.bind(crypto)}return Ra(h0)}const m0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Lc={randomUUID:m0};function Mf(t,e,n){var r;if(Lc.randomUUID&&!t)return Lc.randomUUID();t=t||{};const s=t.random??((r=t.rng)==null?void 0:r.call(t))??p0();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,f0(s)}const si=$([]);function At(){const t=(n,s="info",r=3e3)=>{const i=Date.now();si.value.push({id:i,message:n,type:s}),setTimeout(()=>{e(i)},r)},e=n=>{const s=si.value.findIndex(r=>r.id===n);s>-1&&si.value.splice(s,1)};return{toasts:si,add:t,remove:e,success:(n,s)=>t(n,"success",s),error:(n,s)=>t(n,"error",s),info:(n,s)=>t(n,"info",s),warning:(n,s)=>t(n,"warning",s)}}const g0={class:"fixed top-4 right-4 z-50 space-y-2"},y0={class:"text-sm"},v0=["onClick"],b0={__name:"Toast",setup(t){const{toasts:e,remove:n}=At();return(s,r)=>(L(),_t(Rs,{to:"body"},[h("div",g0,[fe(Jp,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"transform translate-x-full opacity-0","enter-to-class":"transform translate-x-0 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform translate-x-0 opacity-100","leave-to-class":"transform translate-x-full opacity-0"},{default:et(()=>[(L(!0),Z(Ie,null,hn(q(e),i=>(L(),Z("div",{key:i.id,class:Oe(["flex items-center space-x-2 px-4 py-2 rounded-lg shadow-lg max-w-sm",{"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400":i.type==="success","bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400":i.type==="error","bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 text-blue-600 dark:text-blue-400":i.type==="info","bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 text-yellow-600 dark:text-yellow-400":i.type==="warning"}])},[h("span",y0,ne(i.message),1),h("button",{onClick:a=>q(n)(i.id),class:"text-current opacity-60 hover:opacity-100 transition-opacity"},"  ",8,v0)],2))),128))]),_:1})])]))}},rs=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},w0={class:"p-6 space-y-6"},_0={class:"flex items-center justify-between"},x0={class:"space-y-3"},A0={class:"space-y-3"},S0={class:"flex items-center justify-between"},C0={class:"flex items-center gap-2"},T0={key:0,class:"px-1.5 py-0.5 text-xs rounded bg-gray-600/20 text-gray-400"},E0={class:"flex items-center space-x-2"},k0=["onClick"],R0=["onClick"],M0=["onClick"],I0=["onClick"],P0={class:"p-6 space-y-6"},O0={class:"flex justify-end space-x-3 pt-4"},N0={class:"p-6 space-y-6"},F0={class:"flex items-center justify-between"},U0={class:"flex justify-end space-x-3 pt-4"},j0={class:"mt-6 border-t border-purple-700/50 pt-6"},D0={__name:"ModelManager",emits:["modelsUpdated","close","select"],setup(t,{emit:e}){const n=At(),s=e,r=$([]),i=$(!1),a=$(!1),o=$(null),l=$({key:"",name:"",baseURL:"",defaultModel:"",apiKey:""}),c=()=>{var _;try{const v=Ne.getAllModels();r.value=JSON.parse(JSON.stringify(v)).sort((T,I)=>T.enabled!==I.enabled?T.enabled?-1:1:d(T.key)!==d(I.key)?d(T.key)?-1:1:0),console.log(":",r.value.map(T=>({key:T.key,name:T.name,enabled:T.enabled,hasApiKey:!!T.apiKey}))),s("modelsUpdated",(_=r.value[0])==null?void 0:_.key)}catch(v){console.error(":",v),n.error("")}},u=async _=>{try{if(!Ne.getModel(_))throw new Error("");await tl(Ne).testConnection(_),n.success("")}catch(v){console.error(":",v),n.error(`: ${v.message}`)}},d=_=>["openai","gemini","deepseek"].includes(_),f=async _=>{if(confirm(` ${_} `))try{Ne.deleteModel(_),c(),n.success("")}catch(v){console.error(":",v),n.error(`: ${v.message}`)}},p=_=>{const v=Ne.getModel(_);v&&(o.value={key:_,name:v.name,baseURL:v.baseURL,defaultModel:v.defaultModel,apiKey:""},i.value=!0)},m=()=>{i.value=!1,o.value=null},y=async()=>{console.log("..."),console.log(":",o.value);try{const _=Ne.getModel(o.value.key);if(!_)throw new Error("");console.log(":",_);const v={name:o.value.name,baseURL:o.value.baseURL,models:[o.value.defaultModel],defaultModel:o.value.defaultModel,apiKey:o.value.apiKey.trim()||_.apiKey,enabled:_.enabled,provider:_.provider};console.log(":",v),Ne.updateModel(o.value.key,v),c(),s("modelsUpdated",o.value.key),console.log(" modelsUpdated "),i.value=!1,o.value=null,n.success("")}catch(_){console.error(":",_),n.error(`: ${_.message}`)}},S=async()=>{try{const _={name:l.value.name,baseURL:l.value.baseURL,models:[l.value.defaultModel],defaultModel:l.value.defaultModel,apiKey:l.value.apiKey,enabled:!0,provider:"custom"};Ne.addModel(l.value.key,_),c(),a.value=!1,s("modelsUpdated",l.value.key),l.value={key:"",name:"",baseURL:"",defaultModel:"",apiKey:""},n.success("")}catch(_){console.error(":",_),n.error(`: ${_.message}`)}},M=async _=>{try{if(!Ne.getModel(_))throw new Error("");Ne.enableModel(_),c(),s("modelsUpdated",_),n.success("")}catch(v){console.error(":",v),n.error(`: ${v.message}`)}},A=async _=>{try{if(!Ne.getModel(_))throw new Error("");Ne.disableModel(_),c(),s("modelsUpdated",_),n.success("")}catch(v){console.error(":",v),n.error(`: ${v.message}`)}};return Ut(()=>{c()}),(_,v)=>(L(),Z("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center overflow-y-auto",onClick:v[18]||(v[18]=T=>_.$emit("close"))},[h("div",{class:"relative bg-gray-900/90 backdrop-blur-sm rounded-xl shadow-xl border border-purple-700/50 w-full max-w-3xl m-4",onClick:v[17]||(v[17]=ze(()=>{},["stop"]))},[h("div",w0,[h("div",_0,[v[19]||(v[19]=h("h2",{class:"text-xl font-semibold text-white/90"},"",-1)),h("button",{onClick:v[0]||(v[0]=T=>_.$emit("close")),class:"text-white/60 hover:text-white/90 transition-colors text-xl"},"  ")]),h("div",x0,[v[20]||(v[20]=h("h3",{class:"text-lg font-semibold text-white/90"},"",-1)),h("div",A0,[(L(!0),Z(Ie,null,hn(r.value,T=>(L(),Z("div",{key:T.key,class:Oe(["p-4 rounded-xl border transition-colors",T.enabled?"bg-black/20 border-purple-600/50":"bg-black/10 border-gray-600/50"])},[h("div",S0,[h("div",null,[h("div",C0,[h("h4",{class:Oe(["font-medium",T.enabled?"text-white/90":"text-white/60"])},ne(T.name),3),T.enabled?ye("",!0):(L(),Z("span",T0,"  "))]),h("p",{class:Oe(["text-sm",T.enabled?"text-white/60":"text-white/40"])},ne(T.model),3)]),h("div",E0,[h("button",{onClick:I=>u(T.key),class:"px-4 py-1.5 text-sm rounded-lg bg-blue-600/20 text-blue-300 hover:bg-blue-600/30 transition-colors"},"  ",8,k0),h("button",{onClick:I=>p(T.key),class:"px-4 py-1.5 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors"},"  ",8,R0),h("button",{onClick:I=>T.enabled?A(T.key):M(T.key),class:Oe(["px-4 py-1.5 text-sm rounded-lg transition-colors",T.enabled?"bg-red-500/20 text-red-300 hover:bg-red-500/30":"bg-green-500/20 text-green-300 hover:bg-green-500/30"])},ne(T.enabled?"":""),11,M0),d(T.key)?ye("",!0):(L(),Z("button",{key:0,onClick:I=>f(T.key),class:"px-4 py-1.5 text-sm rounded-lg bg-red-700/20 text-red-400 hover:bg-red-700/30 transition-colors"},"  ",8,I0))])])],2))),128))])]),(L(),_t(Rs,{to:"body"},[i.value?(L(),Z("div",{key:0,class:"fixed inset-0 z-[60] flex items-center justify-center overflow-y-auto",onClick:m},[v[26]||(v[26]=h("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm"},null,-1)),h("div",{class:"relative bg-gray-900/95 rounded-xl shadow-2xl border border-purple-700/50 w-full max-w-2xl m-4 z-10",onClick:v[6]||(v[6]=ze(()=>{},["stop"]))},[h("div",P0,[h("div",{class:"flex items-center justify-between"},[v[21]||(v[21]=h("h3",{class:"text-xl font-semibold text-white/90"},"",-1)),h("button",{onClick:m,class:"text-white/60 hover:text-white/90 transition-colors text-xl"},"  ")]),h("form",{onSubmit:ze(y,["prevent"]),class:"space-y-4"},[h("div",null,[v[22]||(v[22]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("input",{"onUpdate:modelValue":v[1]||(v[1]=T=>o.value.name=T),type:"text",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:": "},null,512),[[mt,o.value.name]])]),h("div",null,[v[23]||(v[23]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"API ",-1)),He(h("input",{"onUpdate:modelValue":v[2]||(v[2]=T=>o.value.baseURL=T),type:"url",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:"https://api.example.com/v1"},null,512),[[mt,o.value.baseURL]])]),h("div",null,[v[24]||(v[24]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("input",{"onUpdate:modelValue":v[3]||(v[3]=T=>o.value.defaultModel=T),type:"text",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:": gpt-3.5-turbo"},null,512),[[mt,o.value.defaultModel]])]),h("div",null,[v[25]||(v[25]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"API ",-1)),He(h("input",{"onUpdate:modelValue":v[4]||(v[4]=T=>o.value.apiKey=T),type:"password",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:" API "},null,512),[[mt,o.value.apiKey]])]),h("div",O0,[h("button",{type:"button",onClick:m,class:"px-4 py-2 rounded-lg border border-gray-600/50 text-white/70 hover:text-white/90 hover:border-gray-500/60 transition-all"},"  "),h("button",{type:"submit",onClick:v[5]||(v[5]=()=>console.log("")),class:"px-6 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors"},"  ")])],32)])])])):ye("",!0),a.value?(L(),Z("div",{key:1,class:"fixed inset-0 z-[60] flex items-center justify-center overflow-y-auto",onClick:v[15]||(v[15]=T=>a.value=!1)},[v[34]||(v[34]=h("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm"},null,-1)),h("div",{class:"relative bg-gray-900/95 rounded-xl shadow-2xl border border-purple-700/50 w-full max-w-2xl m-4 z-10",onClick:v[14]||(v[14]=ze(()=>{},["stop"]))},[h("div",N0,[h("div",F0,[v[27]||(v[27]=h("h3",{class:"text-xl font-semibold text-white/90"},"",-1)),h("button",{onClick:v[7]||(v[7]=T=>a.value=!1),class:"text-white/60 hover:text-white/90 transition-colors text-xl"},"  ")]),h("form",{onSubmit:ze(S,["prevent"]),class:"space-y-4"},[h("div",null,[v[28]||(v[28]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("input",{"onUpdate:modelValue":v[8]||(v[8]=T=>l.value.key=T),type:"text",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:": custom-model"},null,512),[[mt,l.value.key]])]),h("div",null,[v[29]||(v[29]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("input",{"onUpdate:modelValue":v[9]||(v[9]=T=>l.value.name=T),type:"text",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:": "},null,512),[[mt,l.value.name]])]),h("div",null,[v[30]||(v[30]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"API ",-1)),He(h("input",{"onUpdate:modelValue":v[10]||(v[10]=T=>l.value.baseURL=T),type:"url",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:"https://api.example.com/v1/chat/completions"},null,512),[[mt,l.value.baseURL]])]),h("div",null,[v[31]||(v[31]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("input",{"onUpdate:modelValue":v[11]||(v[11]=T=>l.value.defaultModel=T),type:"text",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:": gpt-3.5-turbo"},null,512),[[mt,l.value.defaultModel]])]),h("div",null,[v[32]||(v[32]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"API ",-1)),He(h("input",{"onUpdate:modelValue":v[12]||(v[12]=T=>l.value.apiKey=T),type:"password",required:"",class:"w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",placeholder:" API "},null,512),[[mt,l.value.apiKey]])]),h("div",U0,[h("button",{type:"button",onClick:v[13]||(v[13]=T=>a.value=!1),class:"px-4 py-2 rounded-lg border border-gray-600/50 text-white/70 hover:text-white/90 hover:border-gray-500/60 transition-all"},"  "),v[33]||(v[33]=h("button",{type:"submit",class:"px-6 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors"},"  ",-1))])],32)])])])):ye("",!0)])),h("div",j0,[h("button",{onClick:v[16]||(v[16]=T=>a.value=!0),class:"w-full px-4 py-2 text-white bg-purple-600 hover:bg-purple-500 rounded-xl transition-colors flex items-center justify-center space-x-2"},v[35]||(v[35]=[h("span",null,"+",-1),h("span",null,"",-1)]))])])])]))}},L0=rs(D0,[["__scopeId","data-v-4065b8cf"]]),V0={class:"flex flex-col h-full"},K0={class:"flex items-center justify-between mb-4"},B0={class:"flex-1 min-h-0 relative"},z0={class:"h-full relative"},W0={key:0},q0=["textContent"],Z0={key:0,class:"absolute top-2 right-2 bg-red-500/90 text-white px-3 py-1.5 rounded-lg flex items-center space-x-2"},H0={key:1,class:"absolute top-2 right-2 bg-purple-500/90 text-white px-3 py-1.5 rounded-lg flex items-center space-x-2"},G0={__name:"OutputPanel",props:{loading:Boolean,error:String,result:String},emits:["update:result"],setup(t,{expose:e,emit:n}){const s=At(),r=$([]),i=$(!1),a=$(null),o=Pt(()=>(console.log("displayContent tokens:",r.value.length),r.value.join("")));Ut(async()=>{await bi(),console.log(":",!!a.value)}),yt(r,f=>{console.log("contentTokens :",f.length),bi(()=>{a.value&&(a.value.scrollTop=a.value.scrollHeight)})},{deep:!0});const l=t,c=n;yt(()=>l.result,f=>{!i.value&&f&&(r.value=[f])});const u=f=>{console.log(":",f.substring(0,20)+"..."),r.value=[...r.value,f],console.log("tokens:",r.value.length)};e({handleStream:()=>(console.log(":",!!a.value),i.value=!0,r.value=[],{onToken:f=>{console.log("token:",{tokenLength:f.length,token:f.substring(0,50)+"...",containerExists:!!a.value,currentTokensCount:r.value.length}),u(f)},onComplete:()=>{console.log("tokens:",r.value.length),i.value=!1,c("update:result",o.value)},onError:f=>{console.error(":",f),i.value=!1,s.error(f.message)}})});const d=async()=>{if(!a.value)return;const f=window.getSelection().toString()||o.value;try{await navigator.clipboard.writeText(f),s.success("")}catch{s.error("")}};return(f,p)=>(L(),Z("div",V0,[h("div",K0,[p[1]||(p[1]=h("h3",{class:"text-lg font-semibold text-white/90"},"",-1)),t.result?(L(),Z("button",{key:0,onClick:d,class:"px-3 py-1.5 rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-all transform hover:scale-105 flex items-center space-x-2"},p[0]||(p[0]=[h("span",null,"",-1)]))):ye("",!0)]),h("div",B0,[h("div",z0,[h("div",{ref_key:"resultContainer",ref:a,class:"absolute inset-0 w-full h-full p-4 rounded-xl bg-black/20 border border-purple-600/50 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent text-white whitespace-pre-wrap overflow-auto"},[r.value.length?(L(),Z("span",{key:1,textContent:ne(o.value)},null,8,q0)):(L(),Z("span",W0,"..."))],512)]),t.error?(L(),Z("div",Z0,[p[2]||(p[2]=h("span",null,"",-1)),h("span",null,ne(t.error),1)])):ye("",!0),t.loading&&!i.value?(L(),Z("div",H0,p[3]||(p[3]=[h("span",{class:"animate-spin"},"",-1),h("span",null,"...",-1)]))):ye("",!0)])]))}},X0=rs(G0,[["__scopeId","data-v-a642f00e"]]),If={mounted(t,e){t._clickOutside=n=>{t===n.target||t.contains(n.target)||e.value()},document.addEventListener("click",t._clickOutside)},unmounted(t){t._clickOutside&&document.removeEventListener("click",t._clickOutside)}},J0={class:"relative"},$0={class:"flex items-center justify-between"},Y0={class:"flex items-center space-x-2"},Q0={key:0,class:"text-white"},ev={key:1,class:"text-white/50"},tv={class:"p-2 max-h-64 overflow-y-auto"},nv=["onClick"],sv={class:"flex items-center justify-between"},rv={key:0,class:"text-xs px-1.5 py-0.5 rounded bg-purple-600/20 text-purple-300"},iv=["title"],av={class:"p-2 border-t border-purple-600/20"},ov={__name:"TemplateSelect",props:{modelValue:Object,type:{type:String,required:!0,validator:t=>["optimize","iterate"].includes(t)}},emits:["update:modelValue","manage","select"],setup(t,{expose:e,emit:n}){const s=t,r=If,i=n,a=$(!1),o=$({}),l=$(0),c=()=>{if(!a.value)return;const m=document.querySelector(".template-select-button");if(!m)return;const y=m.getBoundingClientRect();window.innerWidth-y.right<300?o.value={right:"0",left:"auto"}:o.value={left:"0",right:"auto"}},u=()=>{c()};Ut(()=>{window.addEventListener("resize",u),f()}),Co(()=>{window.removeEventListener("resize",u)}),yt(a,async m=>{m&&(l.value++,bi(()=>{c()}))});const d=Pt(()=>(l.value,console.log("templates",at.listTemplatesByType(s.type)),at.listTemplatesByType(s.type)));yt(d,m=>{var y;if(s.modelValue&&!m.find(S=>S.id===s.modelValue.id)){console.log("",{current:(y=s.modelValue)==null?void 0:y.id,available:m.map(M=>M.id)});const S=m.find(M=>M.metadata.templateType===s.type);i("update:modelValue",S||null),i("select",S||null,s.type)}},{deep:!0});const f=()=>{l.value++;const m=at.listTemplatesByType(s.type);if(s.modelValue&&!m.find(y=>y.id===s.modelValue.id)){const y=m[0];i("update:modelValue",y||null),i("select",y||null,s.type)}};e({refresh:f});const p=m=>{i("update:modelValue",m),i("select",m,s.type),a.value=!1,f()};return(m,y)=>(L(),Z("div",J0,[h("button",{onClick:y[0]||(y[0]=ze(S=>a.value=!a.value,["stop"])),class:"template-select-button w-full h-10 px-3 bg-black/20 border border-purple-600/50 rounded-lg text-white hover:border-purple-500/70 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all"},[h("div",$0,[h("div",Y0,[t.modelValue?(L(),Z("span",Q0,ne(t.modelValue.name),1)):(L(),Z("span",ev,"  "))]),y[3]||(y[3]=h("span",{class:"text-purple-300"},[h("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[h("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])]),a.value?He((L(),Z("div",{key:0,class:"absolute z-50 min-w-[300px] w-max max-w-[90vw] mt-1 bg-gray-800/95 backdrop-blur-sm rounded-lg border border-purple-600/30 shadow-xl",style:Or(o.value),onClick:y[2]||(y[2]=ze(()=>{},["stop"]))},[h("div",tv,[(L(!0),Z(Ie,null,hn(d.value,S=>{var M;return L(),Z("div",{key:S.id,onClick:A=>p(S),class:Oe(["px-3 py-2 rounded-lg cursor-pointer transition-colors group relative",[((M=t.modelValue)==null?void 0:M.id)===S.id?"bg-purple-600/30 text-purple-200":"hover:bg-gray-700/50 text-gray-300"]])},[h("div",sv,[h("span",null,ne(S.name),1),S.isBuiltin?(L(),Z("span",rv,"  ")):ye("",!0)]),h("p",{class:"text-xs text-gray-400 mt-1",title:S.metadata.description||""},ne(S.metadata.description||""),9,iv)],10,nv)}),128))]),h("div",av,[h("button",{onClick:y[1]||(y[1]=S=>m.$emit("manage")),class:"w-full px-3 py-2 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors flex items-center justify-center space-x-1"},y[4]||(y[4]=[h("span",null,"",-1),h("span",null,"",-1)]))])],4)),[[q(r),()=>a.value=!1]]):ye("",!0)]))}},Pf=rs(ov,[["__scopeId","data-v-cee1bb49"]]),lv={class:"flex min-h-full items-center justify-center p-4"},cv={class:"flex items-center justify-between p-4 border-b border-purple-600/30"},uv={class:"text-lg font-semibold text-white/90"},dv={class:"p-4"},fv={class:"flex justify-end space-x-3 px-4 py-3 border-t border-purple-600/30"},hv={__name:"Modal",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue","confirm"],setup(t){const e=n=>{n.target===n.currentTarget&&(n.stopPropagation(),n.preventDefault(),emit("update:modelValue",!1))};return(n,s)=>(L(),_t(Rs,{to:"body"},[fe(Mp,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-200 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:et(()=>[t.modelValue?(L(),Z("div",{key:0,class:"fixed inset-0 z-30 overflow-y-auto",onClick:e},[h("div",lv,[s[6]||(s[6]=h("div",{class:"fixed inset-0 bg-black/60 transition-opacity"},null,-1)),h("div",{class:"relative bg-gray-900 rounded-xl border border-purple-600/50 w-full max-w-lg transform transition-all",onClick:s[3]||(s[3]=ze(()=>{},["stop"]))},[h("div",cv,[h("h3",uv,[$t(n.$slots,"title",{},()=>[s[4]||(s[4]=ns(""))])]),h("button",{onClick:s[0]||(s[0]=r=>n.$emit("update:modelValue",!1)),class:"text-white/70 hover:text-white/90 transition-colors"},s[5]||(s[5]=[h("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),h("div",dv,[$t(n.$slots,"default")]),h("div",fv,[$t(n.$slots,"footer",{},()=>[h("button",{onClick:s[1]||(s[1]=r=>n.$emit("update:modelValue",!1)),class:"px-4 py-2 text-sm text-white/70 hover:text-white/90 transition-colors"},"  "),h("button",{onClick:s[2]||(s[2]=r=>n.$emit("confirm")),class:"px-4 py-2 text-sm bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors"},"  ")])])])])])):ye("",!0)]),_:3})]))}},pv={class:"flex flex-col h-full"},mv={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-0 mb-3 flex-none"},gv={class:"flex items-center gap-3"},yv={key:0,class:"flex items-center gap-1"},vv=["onClick"],bv={class:"flex items-center space-x-4"},wv=["disabled"],_v={class:"flex-1 min-h-0 bg-black/20 rounded-xl border border-purple-600/50 transition-colors overflow-hidden"},xv={class:"h-full relative"},Av=["value"],Sv={class:"space-y-4"},Cv={class:"text-sm font-medium text-white/90 mb-2"},Tv=["disabled"],Ev={__name:"PromptPanel",props:{optimizedPrompt:{type:String,default:""},isIterating:{type:Boolean,default:!1},selectedIterateTemplate:{type:Object,default:null},versions:{type:Array,default:()=>[]},currentVersionId:{type:String,default:""}},emits:["update:optimizedPrompt","iterate","openTemplateManager","update:selectedIterateTemplate","switchVersion"],setup(t,{emit:e}){const n=At(),s=$(null),r=t,i=e,a=$(!1),o=$(""),l=$("iterate"),c=Pt(()=>""),u=Pt(()=>""),d=M=>{const A=M.target.value;i("update:optimizedPrompt",A)},f=async()=>{if(r.optimizedPrompt)try{await navigator.clipboard.writeText(r.optimizedPrompt),n.success("")}catch(M){console.error(":",M),n.error("")}},p=()=>{if(!r.selectedIterateTemplate){n.error("");return}a.value=!0},m=()=>{a.value=!1,o.value=""},y=()=>{if(o.value.trim()){if(!r.selectedIterateTemplate){n.error("");return}i("iterate",{originalPrompt:r.optimizedPrompt,iterateInput:o.value.trim()}),o.value="",a.value=!1}},S=M=>{M.id!==r.currentVersionId&&i("switchVersion",M)};return(M,A)=>(L(),Z("div",pv,[h("div",mv,[h("div",gv,[A[4]||(A[4]=h("h3",{class:"text-lg font-semibold text-white/90"},"",-1)),t.versions&&t.versions.length>0?(L(),Z("div",yv,[(L(!0),Z(Ie,null,hn(t.versions.slice().reverse(),_=>(L(),Z("button",{key:_.id,onClick:v=>S(_),class:Oe(["px-2 py-1 text-xs rounded transition-colors",[t.currentVersionId===_.id?"bg-purple-600/30 text-purple-300 font-medium":"text-white/50 hover:text-white/70"]])}," V"+ne(_.version),11,vv))),128))])):ye("",!0)]),h("div",bv,[t.optimizedPrompt?(L(),Z("button",{key:0,onClick:p,class:"px-3 py-1.5 rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-all transform hover:scale-105 flex items-center space-x-2",disabled:t.isIterating},[h("span",null,ne(t.isIterating?"...":""),1)],8,wv)):ye("",!0),t.optimizedPrompt?(L(),Z("button",{key:1,onClick:f,class:"px-3 py-1.5 rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-all transform hover:scale-105 flex items-center space-x-2"},A[5]||(A[5]=[h("span",null,"",-1)]))):ye("",!0)])]),h("div",_v,[h("div",xv,[h("textarea",{ref_key:"promptTextarea",ref:s,value:t.optimizedPrompt,onInput:d,class:"absolute inset-0 w-full h-full p-4 bg-transparent border-none focus:ring-2 focus:ring-purple-500/50 resize-none text-white/90 placeholder-gray-400 text-sm sm:text-base overflow-auto",placeholder:"..."},null,40,Av)])]),fe(hv,{modelValue:a.value,"onUpdate:modelValue":A[3]||(A[3]=_=>a.value=_),onConfirm:y},{title:et(()=>[ns(ne(c.value),1)]),footer:et(()=>[h("button",{onClick:m,class:"px-4 py-2 text-sm text-white/70 hover:text-white/90 transition-colors"},"  "),h("button",{onClick:y,class:"px-4 py-2 text-sm bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.value.trim()||t.isIterating},ne(t.isIterating?"...":""),9,Tv)]),default:et(()=>[h("div",Sv,[h("div",null,[h("h4",Cv,ne(u.value),1),fe(Pf,{modelValue:t.selectedIterateTemplate,"onUpdate:modelValue":A[0]||(A[0]=_=>M.$emit("update:selectedIterateTemplate",_)),type:l.value,onManage:A[1]||(A[1]=_=>M.$emit("openTemplateManager",l.value))},null,8,["modelValue","type"])]),h("div",null,[A[6]||(A[6]=h("h4",{class:"text-sm font-medium text-white/90 mb-2"},"",-1)),He(h("textarea",{"onUpdate:modelValue":A[2]||(A[2]=_=>o.value=_),class:"w-full bg-black/30 border-none rounded-lg p-3 text-white/90 placeholder-gray-400 text-sm resize-none focus:ring-2 focus:ring-purple-500/50",placeholder:"...",rows:"3"},null,512),[[mt,o.value]])])])]),_:1},8,["modelValue"])]))}},kv=rs(Ev,[["__scopeId","data-v-c9057e6a"]]),Rv={class:"p-6 space-y-6"},Mv={class:"flex items-center justify-between"},Iv={class:"flex items-center space-x-4"},Pv={key:0,class:"text-sm text-purple-300"},Ov={class:"flex space-x-4 mb-6 p-1 bg-gray-800/30 rounded-lg"},Nv=["onClick"],Fv={class:"flex items-center justify-center space-x-2"},Uv={class:"text-lg"},jv={class:"space-y-3"},Dv={class:"flex justify-between items-center"},Lv={class:"text-lg font-semibold flex items-center space-x-2"},Vv={class:"text-white/90"},Kv={class:"space-y-4 max-h-[60vh] overflow-y-auto px-1"},Bv={class:"flex items-start justify-between"},zv={class:"font-medium text-white/90 flex items-center gap-2"},Wv={key:0,class:"px-1.5 py-0.5 text-xs rounded bg-purple-600/20 text-purple-300"},qv={class:"text-sm text-white/60 mt-1"},Zv={class:"text-xs text-white/40 mt-2"},Hv={class:"flex items-center space-x-2"},Gv=["onClick"],Xv=["onClick","disabled"],Jv=["onClick"],$v=["onClick"],Yv=["onClick"],Qv=["onClick"],eb={class:"p-6 space-y-6"},tb={class:"flex items-center justify-between"},nb={class:"text-xl font-semibold text-white/90"},sb=["readonly"],rb=["readonly"],ib=["readonly"],ab={class:"flex justify-end space-x-3 pt-4"},ob={key:0,type:"submit",class:"px-6 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors"},lb={class:"border-t border-purple-700/50 pt-6"},cb={class:"flex items-center space-x-3"},ub={__name:"TemplateManager",props:{selectedOptimizeTemplate:Object,selectedIterateTemplate:Object,templateType:{type:String,required:!0,validator:t=>["optimize","iterate"].includes(t)}},emits:["close","select"],setup(t,{emit:e}){const n=t,s=e,r=At(),i=$([]),a=$(n.templateType),o=$(!1),l=$(null),c=$(null),u=$({name:"",content:"",description:""}),d=Pt(()=>a.value==="optimize"?n.selectedOptimizeTemplate:n.selectedIterateTemplate),f=()=>{try{const E=at.listTemplates();i.value=E,console.log(":",i.value)}catch(E){console.error(":",E),r.error("")}},p=E=>E?new Date(E).toLocaleString("zh-CN"):"",m=E=>{l.value=E,u.value={name:E.name,content:E.content,description:E.metadata.description||""}},y=E=>{c.value=E,u.value={name:E.name,content:E.content,description:E.metadata.description||""}},S=()=>{o.value=!1,l.value=null,c.value=null,u.value={name:"",content:"",description:""}},M=()=>{var E,x,C;try{const j={id:((E=l.value)==null?void 0:E.id)||`template-${Date.now()}`,name:u.value.name,content:u.value.content,metadata:{version:"1.0.0",lastModified:Date.now(),description:u.value.description,author:"User",templateType:a.value}};at.saveTemplate(j),f();const F=a.value==="optimize"&&((x=n.selectedOptimizeTemplate)==null?void 0:x.id)===j.id||a.value==="iterate"&&((C=n.selectedIterateTemplate)==null?void 0:C.id)===j.id;if(l.value&&F){const oe=at.getTemplate(j.id);oe&&s("select",oe,a.value)}r.success(l.value?"":""),S()}catch(j){console.error(":",j),r.error(`: ${j.message}`)}},A=E=>{var x,C;if(confirm(""))try{at.deleteTemplate(E);const j=at.listTemplatesByType(a.value);f(),a.value==="optimize"&&((x=n.selectedOptimizeTemplate)==null?void 0:x.id)===E?s("select",j[0]||null,"optimize"):a.value==="iterate"&&((C=n.selectedIterateTemplate)==null?void 0:C.id)===E&&s("select",j[0]||null,"iterate"),r.success("")}catch(j){console.error(":",j),r.error(`: ${j.message}`)}},_=E=>{try{const x=at.exportTemplate(E),C=new Blob([x],{type:"application/json"}),j=URL.createObjectURL(C),F=document.createElement("a");F.href=j,F.download=`template-${E}.json`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(j),r.success("")}catch(x){console.error(":",x),r.error(`: ${x.message}`)}},v=E=>{const x=E.target.files[0];if(x)try{const C=new FileReader;C.onload=j=>{try{at.importTemplate(j.target.result),f(),r.success(""),E.target.value=""}catch(F){console.error(":",F),r.error(`: ${F.message}`)}},C.readAsText(x)}catch(C){console.error(":",C),r.error("")}},T=E=>{o.value=!0,u.value={name:`${E.name} - `,content:E.content,description:E.metadata.description||""}},I=E=>{s("select",E,a.value)},B=Pt(()=>i.value.filter(E=>E.metadata.templateType===a.value));return Ut(()=>{f()}),(E,x)=>(L(),Z("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center overflow-y-auto",onClick:x[8]||(x[8]=C=>E.$emit("close"))},[h("div",{class:"relative bg-gray-900/90 backdrop-blur-sm rounded-xl shadow-xl border border-purple-700/50 w-full max-w-3xl m-4",onClick:x[7]||(x[7]=ze(()=>{},["stop"]))},[h("div",Rv,[h("div",Mv,[x[9]||(x[9]=h("h2",{class:"text-xl font-semibold text-white/90"},"",-1)),h("div",Iv,[d.value?(L(),Z("span",Pv," : "+ne(d.value.name),1)):ye("",!0),h("button",{onClick:x[0]||(x[0]=C=>E.$emit("close")),class:"text-white/60 hover:text-white/90 transition-colors text-xl"},"  ")])]),h("div",Ov,[(L(),Z(Ie,null,hn(["optimize","iterate"],C=>h("button",{key:C,onClick:j=>a.value=C,class:Oe(["flex-1 px-4 py-2 rounded-lg font-medium transition-all duration-200",[a.value===C?C==="optimize"?"bg-purple-600/30 text-purple-300 shadow-lg shadow-purple-900/20":"bg-teal-600/30 text-teal-300 shadow-lg shadow-teal-900/20":"text-gray-400 hover:text-gray-300"]])},[h("div",Fv,[h("span",Uv,ne(C==="optimize"?"":""),1),h("span",null,ne(C==="optimize"?"":""),1)])],10,Nv)),64))]),h("div",jv,[h("div",Dv,[h("h3",Lv,[h("span",Vv,ne(a.value==="optimize"?"":""),1),h("span",{class:Oe(["px-2 py-1 text-xs rounded-full",a.value==="optimize"?"bg-purple-600/20 text-purple-300":"bg-teal-600/20 text-teal-300"])},ne(B.value.length)+" ",3)]),h("button",{onClick:x[1]||(x[1]=C=>o.value=!0),class:"px-4 py-1.5 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors"},"  ")]),h("div",Kv,[(L(!0),Z(Ie,null,hn(B.value,C=>{var j,F,oe,Ae,Le,ke;return L(),Z("div",{key:C.id,class:Oe(["group relative p-4 rounded-xl border-2 transition-all duration-200 hover:-translate-y-0.5",[(a.value==="optimize"?(j=t.selectedOptimizeTemplate)==null?void 0:j.id:(F=t.selectedIterateTemplate)==null?void 0:F.id)===C.id?C.metadata.templateType==="optimize"?"border-purple-500/50 bg-purple-900/10 shadow-lg shadow-purple-900/10":"border-teal-500/50 bg-teal-900/10 shadow-lg shadow-teal-900/10":"border-gray-700/50 hover:border-gray-600/60 bg-gray-800/20 hover:bg-gray-800/30"]])},[h("div",Bv,[h("div",null,[h("h4",zv,[ns(ne(C.name)+" ",1),C.isBuiltin?(L(),Z("span",Wv,"  ")):ye("",!0)]),h("p",qv,ne(C.metadata.description||""),1),h("p",Zv," : "+ne(p(C.metadata.lastModified)),1)]),h("div",Hv,[h("button",{onClick:pe=>I(C),class:Oe(["px-3 py-1.5 text-sm rounded-lg",[(a.value==="optimize"?(oe=t.selectedOptimizeTemplate)==null?void 0:oe.id:(Ae=t.selectedIterateTemplate)==null?void 0:Ae.id)===C.id?"bg-purple-500/30 text-purple-200":"bg-purple-600/20 text-purple-300 hover:bg-purple-600/30"]])},ne((a.value==="optimize"?(Le=t.selectedOptimizeTemplate)==null?void 0:Le.id:(ke=t.selectedIterateTemplate)==null?void 0:ke.id)===C.id?"":""),11,Gv),C.isBuiltin?ye("",!0):(L(),Z("button",{key:0,onClick:pe=>m(C),class:"px-3 py-1.5 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors",disabled:C.isBuiltin},"  ",8,Xv)),C.isBuiltin?(L(),Z("button",{key:1,onClick:pe=>y(C),class:"px-3 py-1.5 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors"},"  ",8,Jv)):ye("",!0),C.isBuiltin?(L(),Z("button",{key:2,onClick:pe=>T(C),class:"px-3 py-1.5 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors"},"  ",8,$v)):ye("",!0),h("button",{onClick:pe=>_(C.id),class:"px-3 py-1.5 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors"},"  ",8,Yv),C.isBuiltin?ye("",!0):(L(),Z("button",{key:3,onClick:pe=>A(C.id),class:"px-3 py-1.5 text-sm rounded-lg bg-red-500/20 text-red-300 hover:bg-red-500/30 transition-colors"},"  ",8,Qv))])]),h("div",{class:Oe(["absolute top-0 left-0 w-2 h-full rounded-l-xl",C.metadata.templateType==="optimize"?"bg-purple-500/50":"bg-teal-500/50"])},null,2),h("span",{class:Oe(["px-2 py-1 text-xs rounded-full capitalize",C.metadata.templateType==="optimize"?"bg-purple-600/20 text-purple-300":"bg-teal-600/20 text-teal-300"])},ne(C.metadata.templateType==="optimize"?"":""),3)],2)}),128))])]),(L(),_t(Rs,{to:"body"},[o.value||l.value||c.value?(L(),Z("div",{key:0,class:"fixed inset-0 z-[60] flex items-center justify-center overflow-y-auto",onClick:S},[x[13]||(x[13]=h("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm"},null,-1)),h("div",{class:"relative bg-gray-900/95 rounded-xl shadow-2xl border border-purple-700/50 w-full max-w-2xl m-4 z-10",onClick:x[5]||(x[5]=ze(()=>{},["stop"]))},[h("div",eb,[h("div",tb,[h("h3",nb,ne(c.value?"":l.value?"":""),1),h("button",{onClick:S,class:"text-white/60 hover:text-white/90 transition-colors text-xl"},"  ")]),h("form",{onSubmit:ze(M,["prevent"]),class:"space-y-4"},[h("div",null,[x[10]||(x[10]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("input",{"onUpdate:modelValue":x[2]||(x[2]=C=>u.value.name=C),type:"text",required:"",readonly:c.value,class:Oe(["w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",{"opacity-75 cursor-not-allowed":c.value}]),placeholder:""},null,10,sb),[[mt,u.value.name]])]),h("div",null,[x[11]||(x[11]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("textarea",{"onUpdate:modelValue":x[3]||(x[3]=C=>u.value.content=C),required:"",readonly:c.value,rows:"8",class:Oe(["w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all resize-none",{"opacity-75 cursor-not-allowed":c.value}]),placeholder:""},null,10,rb),[[mt,u.value.content]])]),h("div",null,[x[12]||(x[12]=h("label",{class:"block text-sm font-medium text-white/90 mb-1.5"},"",-1)),He(h("textarea",{"onUpdate:modelValue":x[4]||(x[4]=C=>u.value.description=C),readonly:c.value,rows:"3",class:Oe(["w-full px-4 py-2 rounded-xl bg-black/20 border border-purple-600/50 text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all resize-none",{"opacity-75 cursor-not-allowed":c.value}]),placeholder:""},null,10,ib),[[mt,u.value.description]])]),h("div",ab,[h("button",{type:"button",onClick:S,class:"px-4 py-2 rounded-lg border border-gray-600/50 text-white/70 hover:text-white/90 hover:border-gray-500/60 transition-all"},ne(c.value?"":""),1),c.value?ye("",!0):(L(),Z("button",ob,ne(l.value?"":""),1))])],32)])])])):ye("",!0)])),h("div",lb,[x[15]||(x[15]=h("div",{class:"flex items-center justify-between mb-4"},[h("h3",{class:"text-lg font-semibold text-white/90"},"")],-1)),h("div",cb,[h("input",{type:"file",ref:"fileInput",accept:".json",class:"hidden",onChange:v},null,544),h("button",{onClick:x[6]||(x[6]=C=>E.$refs.fileInput.click()),class:"px-4 py-2 rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors"},"  "),x[14]||(x[14]=h("span",{class:"text-sm text-white/60"}," .json ",-1))])])])])]))}},db=rs(ub,[["__scopeId","data-v-95de6827"]]),fb={class:"relative"},hb=["disabled"],pb={class:"flex items-center justify-between"},mb={class:"flex items-center space-x-2"},gb={key:0,class:"text-white"},yb={key:1,class:"text-white/50"},vb={class:"p-2 max-h-64 overflow-y-auto"},bb={key:0,class:"px-3 py-2 text-gray-400 text-sm"},wb=["onClick"],_b={class:"flex items-center justify-between"},xb={class:"p-2 border-t border-purple-600/20"},Ab={__name:"ModelSelect",props:{modelValue:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","config"],setup(t,{expose:e,emit:n}){const s=t,r=n,i=$(!1),a=$(0),o=If,l=Pt(()=>(a.value,Ne.getAllModels().find(p=>p.key===s.modelValue))),c=Pt(()=>(a.value,Ne.getEnabledModels())),u=()=>{s.disabled||(i.value=!i.value,i.value&&a.value++)},d=p=>{r("update:modelValue",p.key),i.value=!1,a.value++};e({refresh:()=>{a.value++}}),yt(()=>Ne.getAllModels(),()=>{var p;s.modelValue&&!c.value.find(m=>m.key===s.modelValue)&&r("update:modelValue",((p=c.value[0])==null?void 0:p.key)||"")},{deep:!0});const f=Pt(()=>({minWidth:"100%"}));return(p,m)=>(L(),Z("div",fb,[h("button",{onClick:ze(u,["stop"]),class:"template-select-button w-full h-10 px-3 bg-black/20 border border-purple-600/50 rounded-lg text-white hover:border-purple-500/70 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all",disabled:t.disabled},[h("div",pb,[h("div",mb,[t.modelValue&&l.value&&l.value.enabled?(L(),Z("span",gb,ne(l.value.name),1)):(L(),Z("span",yb,ne(c.value.length?"":""),1))]),m[2]||(m[2]=h("span",{class:"text-purple-300"},[h("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[h("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))])],8,hb),i.value?He((L(),Z("div",{key:0,class:"absolute z-50 min-w-[300px] w-max max-w-[90vw] mt-1 bg-gray-800/95 backdrop-blur-sm rounded-lg border border-purple-600/30 shadow-xl",style:Or(f.value),onClick:m[1]||(m[1]=ze(()=>{},["stop"]))},[h("div",vb,[c.value.length?(L(!0),Z(Ie,{key:1},hn(c.value,y=>(L(),Z("div",{key:y.key,onClick:S=>d(y),class:Oe(["px-3 py-2 rounded-lg cursor-pointer transition-colors group relative",[t.modelValue===y.key?"bg-purple-600/30 text-purple-200":"hover:bg-gray-700/50 text-gray-300"]])},[h("div",_b,[h("span",null,ne(y.name),1)])],10,wb))),128)):(L(),Z("div",bb,"  "))]),h("div",xb,[h("button",{onClick:m[0]||(m[0]=y=>p.$emit("config")),class:"w-full px-3 py-2 text-sm rounded-lg bg-purple-600/20 text-purple-300 hover:bg-purple-600/30 transition-colors flex items-center justify-center space-x-1"},m[3]||(m[3]=[h("span",null,"",-1),h("span",null,"",-1)]))])],4)),[[q(o),()=>i.value=!1]]):ye("",!0)]))}},Vc=rs(Ab,[["__scopeId","data-v-d28968da"]]),Sb={class:"h-full flex flex-col"},Cb={class:"flex-none p-4 sm:p-6 border-b border-purple-700/50 flex items-center justify-between bg-gray-900/95 backdrop-blur-sm rounded-t-lg"},Tb={class:"flex items-center gap-4"},Eb={class:"flex-1 overflow-y-auto p-4 sm:p-6"},kb={key:0,class:"space-y-4"},Rb={class:"p-4 border-b border-purple-600/30"},Mb={class:"flex items-center justify-between mb-2"},Ib={class:"text-sm text-white/50"},Pb={class:"text-sm text-white/90 break-all"},Ob={class:"divide-y divide-purple-600/20"},Nb=["onClick"],Fb={class:"flex items-center gap-3 overflow-hidden"},Ub={class:"text-sm font-medium text-purple-300 flex-none"},jb={class:"text-xs text-white/50 flex-none"},Db={key:0,class:"text-xs text-white/60 truncate"},Lb={class:"flex items-center gap-2 flex-none"},Vb={key:0,class:"text-xs text-purple-400 px-2 py-0.5 rounded-full bg-purple-400/10"},Kb=["onClick"],Bb={class:"text-purple-300 hover:text-purple-100 transition-colors text-sm"},zb={class:"p-4 bg-black/20 space-y-3"},Wb={key:0,class:"text-xs text-purple-300"},qb={class:"text-white/60"},Zb={class:"space-y-1"},Hb={class:"text-sm text-white/70 whitespace-pre-wrap"},Gb={class:"flex justify-end"},Xb=["onClick"],Jb={key:1,class:"flex flex-col items-center justify-center h-full py-12 text-white/60"},$b=So({__name:"HistoryDrawer",props:{show:Boolean},emits:["update:show","reuse","clear"],setup(t,{emit:e}){const n=t;console.log("HistoryDrawer props:",{show:n.show});const s=e,r=At(),i=$({}),a=Pt(()=>ys.getAllChains().sort((f,p)=>p.rootRecord.timestamp-f.rootRecord.timestamp)),o=f=>{i.value={...i.value,[f]:!i.value[f]}},l=async()=>{confirm("")&&(s("clear"),r.success(""))};yt(()=>n.show,f=>{f||(i.value={})}),Ut(()=>{console.log("HistoryDrawer mounted")});const c=f=>new Date(f).toLocaleString(),u=(f,p)=>{s("reuse",{record:f,chainId:p.chainId,rootPrompt:p.rootRecord.originalPrompt}),s("update:show",!1)},d=(f,p)=>f.length<=p?f:f.slice(0,p)+"...";return(f,p)=>t.show?(L(),Z("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-45 flex items-center justify-center",onClick:p[2]||(p[2]=m=>s("update:show",!1))},[h("div",{class:Oe(["w-full max-w-4xl h-[90vh] bg-gray-900/90 backdrop-blur-sm border border-purple-700/50 shadow-xl rounded-lg transform transition-all duration-300 ease-in-out",t.show?"scale-100 opacity-100":"scale-95 opacity-0"]),onClick:p[1]||(p[1]=ze(()=>{},["stop"]))},[h("div",Sb,[h("div",Cb,[h("div",Tb,[p[3]||(p[3]=h("h2",{class:"text-lg font-semibold text-white/90"},"",-1)),a.value&&a.value.length>0?(L(),Z("button",{key:0,onClick:ze(l,["stop"]),class:"text-sm text-white/60 hover:text-white/90 transition-colors px-2 py-1 rounded border border-white/20 hover:border-white/40"},"  ")):ye("",!0)]),h("button",{onClick:p[0]||(p[0]=ze(m=>s("update:show",!1),["stop"])),class:"text-white/60 hover:text-white/90 transition-colors text-xl"},"  ")]),h("div",Eb,[a.value&&a.value.length>0?(L(),Z("div",kb,[(L(!0),Z(Ie,null,hn(a.value,m=>(L(),Z("div",{key:m.chainId,class:"bg-black/20 rounded-xl border border-purple-600/50 overflow-hidden"},[h("div",Rb,[h("div",Mb,[h("div",Ib,"  "+ne(c(m.rootRecord.timestamp)),1)]),h("div",Pb,ne(m.rootRecord.originalPrompt),1)]),h("div",Ob,[(L(!0),Z(Ie,null,hn(m.versions.slice().reverse(),y=>(L(),Z("div",{key:y.id,class:"relative"},[h("div",{class:"p-3 flex items-center justify-between cursor-pointer hover:bg-purple-600/10 transition-colors",onClick:S=>o(y.id)},[h("div",Fb,[h("span",Ub,"V"+ne(y.version),1),h("span",jb,ne(c(y.timestamp)),1),y.type==="iterate"&&y.iterationNote?(L(),Z("span",Db," - "+ne(d(y.iterationNote,30)),1)):ye("",!0)]),h("div",Lb,[y.type==="iterate"?(L(),Z("span",Vb,"")):ye("",!0),h("button",{onClick:ze(S=>u(y,m),["stop"]),class:"text-xs text-purple-300 hover:text-purple-100 transition-colors px-2 py-0.5 rounded border border-purple-300/20 hover:border-purple-300/40"},"  ",8,Kb),h("button",Bb,ne(i.value[y.id]?"":""),1)])],8,Nb),He(h("div",zb,[y.iterationNote?(L(),Z("div",Wb,[p[4]||(p[4]=ns(" : ")),h("span",qb,ne(y.iterationNote),1)])):ye("",!0),h("div",Zb,[p[5]||(p[5]=h("div",{class:"text-xs text-white/50"},":",-1)),h("div",Hb,ne(y.optimizedPrompt),1)]),h("div",Gb,[h("button",{onClick:S=>u(y,m),class:"text-xs text-purple-300 hover:text-purple-100 transition-colors px-3 py-1 rounded border border-purple-300/20 hover:border-purple-300/40"},"  ",8,Xb)])],512),[[Np,i.value[y.id]]])]))),128))])]))),128))])):(L(),Z("div",Jb,p[6]||(p[6]=[h("div",{class:"text-4xl mb-4"},"",-1),h("div",{class:"text-sm"},"",-1)])))])])],2)])):ye("",!0)}}),Yb={class:"space-y-3"},Qb={class:"flex justify-between items-center"},ew={class:"block text-sm font-medium text-white/90"},tw={class:"relative"},nw=["value","placeholder"],sw={class:"flex items-center gap-3"},rw={class:"min-w-[120px] w-fit"},iw={class:"block text-sm font-medium text-white/90 mb-1.5"},aw={class:"flex-1"},ow={key:0,class:"block text-sm font-medium text-white/90 mb-1.5"},lw={class:"w-[140px]"},cw=["disabled"],Kc={__name:"InputPanel",props:{modelValue:{type:String,required:!0},selectedModel:{type:String,required:!0},label:{type:String,required:!0},placeholder:{type:String,default:""},modelLabel:{type:String,required:!0},templateLabel:{type:String,default:""},buttonText:{type:String,required:!0},loadingText:{type:String,required:!0},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","update:selectedModel","submit","configModel"],setup(t,{emit:e}){return(n,s)=>(L(),Z("div",Yb,[h("div",Qb,[h("label",ew,ne(t.label),1)]),h("div",tw,[h("textarea",{value:t.modelValue,onInput:s[0]||(s[0]=r=>n.$emit("update:modelValue",r.target.value)),class:"w-full px-4 py-3 bg-black/20 border border-purple-600/50 rounded-xl text-white placeholder-white/30 focus:ring-2 focus:ring-purple-500/50 focus:border-transparent transition-all resize-none",placeholder:t.placeholder,rows:"4"},null,40,nw)]),h("div",sw,[h("div",rw,[h("label",iw,ne(t.modelLabel),1),$t(n.$slots,"model-select")]),h("div",aw,[t.templateLabel?(L(),Z("label",ow,ne(t.templateLabel),1)):ye("",!0),$t(n.$slots,"template-select")]),h("div",lw,[s[2]||(s[2]=h("div",{class:"h-[29px]"},null,-1)),h("button",{onClick:s[1]||(s[1]=r=>n.$emit("submit")),disabled:t.loading||t.disabled||!t.modelValue.trim(),class:"w-full h-10 bg-purple-600 hover:bg-purple-500 disabled:bg-purple-600/50 text-white rounded-lg transition-colors flex items-center justify-center space-x-2"},[h("span",null,ne(t.loading?t.loadingText:t.buttonText),1)],8,cw)])])]))}},uw="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAIAAgADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDzPNLmm0ZrqMx2aXNNzRQA7NGabRQA7NGabRQA7NLmmUUAPzRmmUUAPzRmmUUAPzRmmUUAPzRmmUUAOzRmm0UCHZozTaKAHZozTaUc0ALmjNGKMU7AGaM0YpcU7AFFLigCnygJRTsUYo5QG0U7FGKOUBtFOxSYo5RiUUuKTFKwBmjNGKTFKwC5ozSUlIB2aM03NJmgB+aM0yjNAD80ZpmaM0APzRmmZooAfmjNMzRQIfmjNMzRQA/NGaZRQMfmjNMooAdmjNNooAdmjNNozQAuaM0maSgAopM0ZoELRSUtABmjNFFABmjNFFABmjNFFABmjNFFABmjNFFABmjNFFABmjNFFAxaKBSgU7AJSgUoHpTgKpRAQClxTgKUCqUQGhaXFPC0oWnYCPFGKk20uKfKMjxS7ak20u2nygRYpcGpNtLtp8oiLBoxUu2k20coEWKMVLikxS5QIsUEVLtpNtHKBFtpMVKVpCKnlAixSYqTFIRScQIsUlSEU0ip5QG0UpFNxU2AXNGaSikIWjNJRQAuaM0lFAC5pM0UUAGaM0UUAGaM0UUAGaM0UUDCikzRmgBaSikoAKKKKBBS5pKKAFzRmkooAWlptFADqKbRQA6kpKKAFozSUUALS0lKBTGFKBQBTwKpRAaBTwtKBTwtWkMaBTgtOC08LVJAMC04LUgWnAVpGDewEYWl21IEJp6xGumGEnLoUotkOKMe1Wlhp4grphl0nuUqZT2ml2mrwgpwt/aumOWdx+zKGw0bDWiLf2o+z+1arK0P2ZnbDRtrR+z+1Ibf2oeVxD2aM7aaTFaBt/amGA+lZyyvsDplEikxVwwH0pjQmueeXSWxDgVcUhFTmIimFSK5J4ScehPKyErSFalI9aTFc0qbW4iEimkVMVppFQ4iISKaRUpFNIqHECIikqQimkVDiA2kpSKbUiFpabRSAdRTaKAHUU2igBaKSigBc0lFFABRRRQAUd6KSgYlGaKKBBS5pKKAFopKKAFopKKAFopKKAFopKKBi0opBTgKaQABTwKAKeBWiQCAU8ClUVIq1aQxqrUirShakVc1tClKb0GlcaBTwpNSJETVmOD2r06OXOXxFqBWWM1KsPtV2OD2qxHb+1evRwEY9DVQKCQVMkHtWilt7VYhtGYgKpJPQAV2qhCK1LUTMW39qlW39q7HTfBet3+Db6dMFP8AFINg/M4rprH4U6pLg3VxawA9QCWI/TH61z1MdhKPxTQNxR5YLb2p4t/avbbX4TWi4+06lM/tHGF/mTWnD8MdCTG83Uh/2pAP5CuKWfYOOzb+RPPE8BFtTvsw9K+iE+Hfh1f+XR2+srf41KPAPh0f8w8f9/G/xrJ8R4bpF/h/mHtInzkbYUhthX0cfAPh0/8AMPH/AH8b/GoZPh14dfpaSL/uytQuI8N1i/w/zD2kT51NtTGtvavf7j4XaLJ/qpbuI+zg/wAxWRd/CWM5NrqbZ7CSP+oNbwz7BS3bXyGpxPEmtvaont/avVb74X6zCCbc21wPRHwf1xXMal4W1WwybuwuIwP4thK/mOK7aeMwtb4Jp/Mfus4t7f2qB7f2ropLMjqCKrSWvtWsqMJC5Tn3hx2qFojW7Jbe1VpLf2rirYGMuhDgY5UimkZrQkg68VXeKvJrZe47GTgVSKYRU7KRTCK82dJx3ItYgIppFTEUwisHERCRTSKlIphFQ0BGaSnEU01m0AUUlFIQtFJS0DCikooAWikooAWkzRRQAZoopKAFoptLQIWikpaACiiigLhRRSZoAWikpKAHUoFIBTgKpIYoFPUUKKkAq0gEAqRVpVFPArSMbjBVp6j0pyoTVmKHNejh8HKpqy4xuRJFmrUUHtViGD2q7Db9OK96hg1FbG0YlWKD2q3Fb+1aVlp8k8ixwxtI7HAVVyT+Fei+G/hjeXQSXVX+yRHnYOXP9B/nitq+JoYSN6krFu0dzzWCzLEBVLE8AAV2WhfD7WdS2uYBbQn+Of5f0617LofhfStFUfY7VPNH/LV/mc/j2/CtvpXz2K4jm9KEbeb/AMjN1ex55o/wu023CtqE8t046qvyL/j+tdlpuh6ZpigWNlBCR/EqDd+fWotX8R6TpAP2++hjcf8ALMHc/wD3yOa4bWfi3Zw5XTLN5m/vzNtH5DJ/lXmWx+P11a+5f5EXlI9PwKRmVRliAPU1896r8T9cushLpLZD/DCgH6nJrk7/AMSXl42bq7nmP/TSQt/OumnkVTepNL8R8nc+nrrxBpFoSLjUrSMjsZVz+VZc/j3w3DndqaMf9hGb+Qr5ik1M9mxVd9SY/wAVdKyfCx+Oo39w+WJ9MSfEvw2nS5mb6QtUR+KPh0dHuj/2y/8Ar18znUG/vU37e396q/s3Arq/v/4ArRPptfif4dP8d0PrF/8AXqxF8R/DcnW7kT/ehb+gr5c/tBv71OXUWH8VJ5bgXtJ/ev8AIdon1fB438OznCapCD/thl/mK1LXWNNu+La/tZT6JKpP86+Qk1Nh/Easxaqw/iqHk+Gl8FRr7g5Y9z7CBB6YNIQDXytp3ivULIj7LfXEIHZJCB+XSuu0r4qazbkCeWG6T0lQA/mMVzVMjqrWnJP8A9m+h7JqXhvSNSB+12EDMf41Xa35iuN1f4WWku59Munibsko3L+Y5H607SPitp1xhdQtZbdv70Z3r/Q122la9perLmwvYZj/AHA2GH4HmsVPH4Hul96/yF70TwrXfBGr6Xuaa0aSIf8ALSL5l/8ArfjXKz2ZXORg19YkZrntd8H6RrAYz2wjmP8Ay1i+Vvx7H8a9TC8Rte7iI/Nf5FKp3PmKW2x2qlLB1r17xJ8Nr+xDy2H+mQDnCjDgfTv+FefXdi8bssiFWBwQRgivoKOIoYuPNTdy9HscvLB14qrJFiugmtsZ4qjNB14rGvg1IiUDGYUwir0sOM8VWdCDXhYjBuGxi42K7CmMKnIqMivOlCxBCRTCKmYUwismgITRTiKbWbQgoooqQCiiigAooooAKTNJRQAtJRRQAmaM03NLTAdk0ZNNozQA7JoyabmjNADsmim0UAOpRTRTgKaQxwqRRTVFSKK0SAcoqRRSKKlUZrWELsdgUelTxRk0sMWavww17OEwV9ZGsYEcMNXoIOelS28GccV0Xh7QLzV7pbexgaRu57KPUntXuxhCjHmm7JGyVjJt7bJHGa9A8JfDy+1UJPeA2loecsPnYew/qa9B8I+ALDRglxdhbq9HOWHyofYf1rtOAOOlfO4/P38GF+//ACIlU7GRoPhzTdDhC2NuofGDK3Lt+Na7sqKWchVHJJOAK5HxT490vQ98Ub/a7sf8s4zwp/2m7fTk14t4t8d6lrTMtxcFYO0Mfyp+Xf8AGvMoZdiMY/aVHZPqyLN7nsXiL4j6PpW6O2c31wO0R+QH3b/DNeW+I/iTq+pbkS5+ywn/AJZwfL+Z6/rXnN1qLMT81Zs14T3r16eGwmE1tzPux+7E3LrVGckliSepNZs1+T3rKkuCe9QNMfWlVzJ7Il1DRkvCe9QNdH1qiZDTSxrgnjZS6kcxcNwfWmmc+tVMmiuaWIkxXLPnH1o873qtRUe1kFyx5x9aXzj61VpaPayC5bE59akW4PrVDNG6rVeSC5qJdH1qeO8I71jBjThIRW8MZKPUpSaOihv2X+KtSz1d42BVyCOQQea41JiO9Tx3BHeu6nmL2ZaqM9p8OfEvVdP2JLMLuAfwTnJ/Buv869S8O/EDRtXCxyy/Y7k8bJjhSfZun8q+UYLwjvWpa6mykc0VMLhcUr25X3RfuyPsgEMMggg9xWF4h8LaZriH7VAFm7TR8MP8fxrw7wp4/wBS0fYkM/m2/eGU7l/DuPwr2Pwt460vXQkTP9lvDx5Uh4Y/7Ld/5+1eVVwOJwb9pTd13RLi46o8y8V+Ab/Sd8sK/arQc+Yg5Ue47VwdzaFScivrQgEc9K4fxd4As9VV59PVba767QMI/wCHavWwGf7QxP3/AOZUanc+cZ7frxWfNBjtXca5od1pl08F5A0Ug7Edfce1c/c22M8V9G4QrR5o6opq5zckZFQkVrzwdeKoSxYzXiYvA21RjKBTYVGwqwwqNhXiTg4uzMiBhUZFTMKjIrBxAjNJmnGmGs2hDs0maSikAuaM0maTNADqM03NJmgB2aMmm5opAJmjNNpaYC5ozSUUALmjNJRQAuaXNNpy00A9RT1FNUVIorRIY9RUqimoKlUVrCN3oNIcozVmGLNJBFmtG3i9q97BYLqzaMAgi9q0ba3zjinWtvnHFeq/D34ftf8Al3+royWnVITwZPr6CvUr16WCp89R/wDBNdIrUxvA/ge6151mlBgsQeZCOW9l/wAa9y0bSLPRrNbawhWOMdT3Y+pPercMUcESxQoqRqMKqjAArlPGnjay8PRtChE9/jiMHhPdv8Ov86+OxOMxGZ1OSK06JfqYuTkzoNZ1ay0e0a41CdYox0B6sfQDua8W8bfEu61ESW+nM1pacg4Pzv8AUjp9B+Zri/FHie81e7ee8naRzwMnhR6Adq5C5vCxOTXqYbL6ODXPW96X4IdlHc0L3UmcnLVkT3ZJPNVZZySearPJk1GIx7loiJTJ5Jye9QNJmoiSaSvMnVcjO44saTNJRWLAXNGabRSAdmjNNoosA7NGabRRYB2aM02iiwDqSkoosAtLmm0UAOzShiKbRTQEyS4qzFOR3qhmlDEVrGrKI0zbt7sgjBrXsdTZCOa5JJSKtQzkd69LD45x3ZpGo0e8eCviZc2Ijt9RLXdp0yTmRB7E9fofzr2XSNVstXtBcafOk0Z64PKn0I7GvjS0vShGDXYeF/FF3pV0k9nOYpBwfRh6Edx/niniMvo4tc9L3ZfgzSylsfS+uaLZa1aGC/hDj+Fhwyn1BrxLxp4LutDlLgGazY/JMB09j6GvUfBfjaz8QosEpW31DHMZPyv7qf6dR79a6q4giuIXinRZI3GGVhkEV5+FxuIy2pySWnb/ACJTcWfJF3bYJ4rLuIOvFe0/EDwG1h5l9piGSz6unUxf4ivLby12k8V9nh8RSxtPnps00ktDl5osZ4qqwxW3cwdeKzZ4sZry8bg+qMZRKLComFWGGKiYV4M4WdmZELCozUzComFYNARmjNKaYazYhc0ZpKKQC5pM0UUALmkzSZooAbS03NGaBDqM0maM0DFzRSZooAcKkWmLUi1pFDJFqVBUaCp0FaRQx6irUEdRwR5rRt469zAYS/vM1hEkt4q1LW3zjio7SDODXr/wu8EC58vVtUj/AHAOYImH3z/ePtXs4nEUsDRdSf8Aw5tpFXZY+G3gIOsWqaxH8vDQ27Dr6Mw/pXrQAUYAwBRwBgcV5Z8TPH6WqS6bpEvz8rNOp6eqqfX1P5c9PipSxGa4j+rJGLbmy18RPiBFpiS2GkyBrrlZJhyI/Yerfy+vTwTVdUknkdndmZjkknJJ+tV9Sv2kY5asS4nJJ5r3oxpZfT5Ke/VjbUdiW5uSSeaoSy5PWo5JM1ETk15FbEOozFu45mzTc0lFcrYgooopCFzSUUUgCiiigAooooAKKKKACiiigAooooAKKKKACiiimAUUUUAGacrEUyjNNaDLcU2O9aFtdFT1rFBwamjlxXVRxDgylKx2elarJDIjI7KykEEHBB7EGvefh58Qo9TEdhrEirdcLHOeBJ7N6H9D/P5it5yCOa29Ov2RhzXqyjSx9Pkqb9H2Nk1Jan2WQGUggEHtXk3xG8DCJZNS0mP911lhUfc9x7e3b+Tvhp8QBOItM1iXnhYbhj+Ssf5H869XIDDBwQa8OMsRlVf+rNE6xZ8kXtttJ45rGuYete5fEzwWLbfqemx/6OTmWNR/qz6j2/l/LyK9ttpPFfa4bE08dS54Guklc5eeLBNVGFbV1D1rLmjxmvHx2EtqjCcSqwqJhU7VEwrw5RsZkDUw1KwqJhWMkISkzQaTNQAuaKTNGaACijNJmkA3NGabmjNMQ7NGabmjNAx2actRg81ItUkBItSqKjSp0FaJDJEFWIkyahjGTV+3jr0cHh/aSLirli3jrUtYckcVBaxZxXX+DfDs+v6tDZwZVD80smPuL3NfVQUMPTc56JHSlZHSfDHwcdbuxd3iEafAef8Apq3936ete8oixoqIAqqMADoBVbS7C30vT4bO0QJDEu1R/WuW+JHixfD+mmC2cfb51+X/AKZr/e/w/wDrV8RisRVzTEpR26LsjGT52YvxQ8cLp8UumaZL/pBGJpVP3P8AZB9fU9vr0+f9SvjI5Oam1jUGmkdmYkk5JJzXO3M2Sea91Knl9L2dPfq+4SfKrILicknmqMkhNJJJk1FXiVqzqO7Mm7i5opKWue5IUUUUAFFFFABRSUUALRSUUgFopKKAFopKM0ALRSZooAWikooAWikooAWikopgLRSUZoGLSUZooAKUGm0UATxyYq/bz4PWsoGpYpMVvRrODuik7HWabfFHGDXvXwu8ci6SLStVl/ecLBMx6+ik+vofw69fmm2n5HNdDpN+Y3X5sYr2rU8fS9nPfo+xsnzI+xpEWRGR1DKwwQRwRXh3xL8If2TdG7tEzYzHjH/LNvT6eldt8MvGI1u1WxvnH2+JflYn/WqO/wBR3/P1rtNRsoNQs5bW6QPDIu1lNeJh69XK8RaW3Vd0Sm4s+Rr23wTxWNdRda9I8b+HZdD1WW2kBZD80T4+8p6VxF5Dya+2k4YmkqkNUzRq6uc3Mu01A1aVzHjPFZ7jBr5fGUOSRzSViBqiapmqJhXnNCImpuac1RmsmhDs0ZpmaM1NgHZozTc0maLAJSUlFAhaWm0o60xj1qVaiWpUq0hkyVMgqJBViJcmt6cOZ2GizbpmtS1jziqtsla9nFnFfWYDDKEUdMIl2xt2dkVFLOxAAAySa+k/h54aTw7oiCRR9tnAeZvT0X8K89+Dfhn7ZenV7pP3FscQgjhn9fw/n9K9rYgAk8CvE4gx/PL6rTei39ewqsvsozfEOrQaLpU97cnhB8q55duwFfL/AIu12fVNQnubmTdJIck9h7D2Arsfix4t/tXUWt7Z/wDQrclUwfvnu3+Ht9a8iv7gsx5rXAYdYKh7Wfxy/BE/Civdz5J5rNlkyetOnkyetViea8zEVnUZi3cdmkpKM1yiHUU3NGaBDs0ZpuaM0AOzRmm5ozQA7NJmkzSZoAdmjNNzRmgB2aM03NGaBjs0ZpuaM0AOopuaXNFgFpc03NGaBDs0ZpuaM0AOzSUmaM0ALRSZozQMWjNNzRmgBc0ZpM0ZoAXNLmm5ozQBZhkwa0rWfBBzWKDirVvJzXVh6zpyKi7He+G9Xls7qGaCQpNGwZWB6Gvpzwf4gh8Q6PHdR4WZflmjH8Lf4HqK+PLG4KsDmvT/AIbeKX0XVI5WYm2kwky+q+v1HX8/WvVxmHWPoc0fjjt/kbtcyPbfHXh5PEGjPGoAu4gWhb39Poa+b9VtHhlkjkUq6kqQRyCK+sIpEmiSSNg0bgMrDoQa8h+MPhwQ3C6tbJ+6mO2UAfdbsfx/p71y5Dj/AGc/q1TZ7eooPoeF3cXJ4rJuI8E1097DgnisO7j617mPw6krkziZDVE1WJVw1QNXy1SHK7GJC1RNUz1E1c7QDKSg0lQIWjNJRSuA3JpMmm0UCH5py1HT1qkMlWpkqJKmTpWiQyZBV22TpVSIZIrUtUr1svo80rmkFcu2keSK6bQNNm1G/trO2XMs7hF9vesayi6V7Z8EdB3NPrM6cL+5gz6/xH+Q/OvocZiFgsNKp16ep035Y3PT9D0yHR9KtrG2GI4UC59T3P4muV+KniMaPoptYHxdXQK8HlU7n8en5+ldtPKkELyysFjRSzMegAr5i+IviF9Y1i4uGJCE7Y1J+6g6CvjsqwzxVd1amy1fqYRV3dnH6rdmSRjmueupck1avZsk1kzPk16OYYnmlZETlcazZNNpM0leO2Zi5pc02ikA6jNNooAdmkzSUUwFzRmkooAXNGabS0DFzRmkpadgsFFFFFgCiiiiwC0UlFFgFpKKKLAFFFJSsA7NGabRRYQ7NJmkooAXNGaSigBc0ZpKKAFzRmm0UAOzTkbBqOlBoGaVtLzXQaTdFHHNcnC5BrVspsMDmvVwGIcJWZrCR9OfB3xJ9ssW0m5fMsA3QEnqncfhn8j7V6Bq1hDqenT2dyu6KVSp9vevl3wjq8unX9td27YlhYMPf1H0I4r6i0q+i1PTre8tzmKZA49vb61yZvhvYVVXp7S19GVNWd0fMnijSpdL1O5s51w8TkfUdj+Irkr2LBNfQPxp0IS20Orwp8yfupsDt/Cfz4/GvDL6LrX1OCxCxuGU+vX1L+KNzl7pME1Sate8j61kyjDGvDx1Hllc55KzIGqJqmaoWrymiSNqbn2pWplYsQ7NGabRSAjzS5ptFAh69akWolqZKuI0TIKmXrUMdTx9a2iikW7Vcmtizjzis20XpW7ZJ0r6rLaNo3OimjX0q0kubiGCFS0krBFA7knAr6o8O6ZHo2i2lhFjEMYUn1bufxOa8W+DGji+8Rfa5FzFZJv/AOBngf1P4V7yeBXjcR4rnqxoLaOr9QrPXlOC+L2ujTdB+xxNia74bB6IOv58D86+adVuC8jEnrXffFTXTquv3UitmJD5UfP8I7/icn8a8vv5ck110Kf1PBqPV6sl+6rGfdSZJqkTk0+Z8mos14dWfMzAWikzRmshC0UmaM0ALRRmigAoozSZpgLRSUU0MWloFOAp2GJilxTwKcFq1G4EYFGKl20hWq9mwI8UYp5FGKnlEMx7UYp2KXFFhjMUYqQLRsq1TbERYpMVKVppFS4NDI6SnkU01m0ISiikzUiFooopAFFFGaACg0maKACjNJRTGPBxV21l5FUBUsLYarpy5Xca0Ot0q42sOa9++Cmu+bBcaTM/K/vocnt/EPzwfxNfNthNgjmu98Gay+larZ3sZOYXBYDuvQj8s170oLGYV0+vT1N170bH09q1jFqWm3NnOMxzIUPt718ueIdPksL64tZhiSFyh/A19VW8yXFvHNEwaORQykdwea8Y+NejiDVodQjXEd0m1sf31/8ArY/KuDh7EulXdCW0vzQU3rY8SvY+TWJdJgmumv4+TWDeJ1r2sxo6MiojLaoXqZ+pqJ6+YmrGRC1RnrUjVG1YSQhM0ZooqAI80U3NANAiValSolqVK0iUidKsQjLCq6Vbtxlq68PHmmkUjUs1ziugsY+BWNYpyK6jRbV7u7t7eIZkmkWNfqTivs8MlTp3Z1wVj374P6UNP8JRzsuJbxzKSeu3ov8ALP41s+O9U/snwxeTq22R18qP13Nx+nJ/CtiwtksrG3tohiOGNY1HsBivLfjjqu0Weno33VMzj3PC/wDs1fD0E8fj+Z9Xf5GC96Vzw/XLgvK2TXLXknJrW1SXLsa566fJNexmla8rImo9SBjkmkzTc0ZrwmZjs0ZpuaM0hDs0ZpuaM0DHZozTc0ZpgOzRmm5pc0ALThSAU8DNWkMVRUirmhFqeOPNbU6bkwGomasRwFjwKs21szkYFe5fC34ViURar4jhxFw0Vow+97uPT2/P0r0vZ0sNT9rWen4sDw2fTLiGON5YZEWQbkLKRuHqPUVTaIjtX2r4p8K6b4j0v7Hewqu0fupEADRH29vavmLxz4NvfDOovb3UeYySY5VHyuvqP8KjDV6OMVoq0u3+QWODKU3ZV2SHB6VEY6iph2mIr7KUJU4SpI4dx6UUsM5MZAsZNW7XTbm5Dm3hkl2LvbYpO0ep9BXVeBvBl94o1Jba0TbEuDLMw+WMf1PoK+ofCfhbTfDOmC0sIQSQPNlYZaQ+pP8AStsXWoYKPK1eXYLHxbLblMgjFV3jxX0d8VfhckqS6r4ehAIy01qg/wDHkH9Py9K8Du7RomZWUgjtSjGliqftKX3dgMdlxTCKuSR4qu61wVKTiIgNNqRhTGrnaATNLmmUZqLCH5pM03NGaQDs0ZpuaM0ALmjNNzRmmMfmlBxTM0ZoA07OTkV0+jz4YDNcdbPg10GmS4cGvZy6tZ2ZtBn1P8I9W/tDwqkEjZls28o/7vVf04/CrnxO0wal4Ru9q5ltx56fh1/TNecfBPVPs+utas2Eu4ioH+2vI/TdXt88aywvG4BVwVI9jXmY6LweN9pHumOWkrnyBqEfJrnb5Otdz4q086fqt5aN1hlZB9M8fpXHX6da+0xCVWkprqVNXVznphhqgard0ME1UavkMRHlk0cxC1RN0qVqiauOQCUU3NGayJIc0qnmo805DzTQFhamTtUCVPHWqKRYSr1oOaoR1pWQ5Fehgo3qI0jubdgvSvTfhHYfbfGFkSMpAGnb8Bx+pFecWC9K9t+AtoGu9TuyPuRpED/vEk/+givpMxqexwU5Ltb79DpbtFnstfNfxV1I33iXUHB+VX8pfovH9D+dfROrXQstMurk9IYmf8hmvk3xFOZJZGY5LEkn1r53IKdnOs+it95jHZs5PUZOTWHM2WrT1B+TWQ5yTWWMnzTMWxM0ZptFcQh2aM02jNIQ7NGabRQMdmjNNopgOzTlpgqRaaGPUVMi1GgzVuFM100qbkwHRR5rSsrRpXAUE07TrJ55USNCzMcAAZJr6L+Fvw2TSki1PWog15w0UDciL0Lf7X8vr09KUqeDp+0qfJdxlP4U/DRLRYdW12HM3DQWzj7vozD19B2+vT2IDHSgClr5zFYqeJnzz/4YYVleI9CsvEGmyWWoRB425Vh95D6g1q0VhGTg1KLs0M+TvHvgq88M6i0UyF7dyTFMBw4/ofauNeDBr7S13SLPW9Oks9QiEkL/AJqfUHsa+cvHPga68OX5DKZLSRj5UwHB9j6H2r6nAY2GLXs6mk/zIasecrASeldr8PfA154ovwkamKzjI86cjhR6D1PtWr4E8A3XiO9UsGh09D+9mx19l9T/ACr6M0bS7TR9PistPhWKCMYAHc+p9TVY7HwwcfZ0tZ/l/wAEErkPh7Q7HQNNjstNhEcS9T3Y9yT3NadLiivlJSc25Sd2yhMV5H8VvhqmopLquhxAXXLTW6j/AFnuvv7d/r19doIrXD4meHnzwYNXPh29s2idldSGBwQazJY8V9RfFL4bx6zHLqejRhL8fNJEOBL7j/a/nXznqVjJbTSRyoyOpIKkYINfSQnTxkOenv1RNjAdahYVemTBqnItcFWnysRA1Np7VGa5ZKwC0UmaM1IC0ZpM0ZoAXNGabRQA7NKDTKUUASxNhq2tPk5FYSmtOxfkV1YWfLMuD1PSvB2otYajZ3SnmGVX47gHkflX1TG4kjV0OVYAg18d6LLgivqfwHe/b/COmTE5YRCNj7r8v9K6c8p81OnV+RrNaXPI/jPp/wBm8UvOo+W5iWT8Rwf5CvJtQXrX0H8dLPfp+n3gHKO0RP1GR/KvA9QXk17mV1PbYGN+mn3FLWJzF4vJrPatW+Xk1lP1rw8dG0zme5C3eomqVqhbvXmyERk80ZprdaTNYMkhzTk61FmnxmmgRaSrEdVo6sp0rWJZPH1rWsRyKyY+tbFj1Fetly98uG50OnrwK+hPgZbeV4Zu5iOZbkjPsFH+Jr5/08cCvpb4SQ+V4Hsj3kZ3P/fRH9K9HiCfLg1Hu0b1PhLXxJufs3g7UCDguFjH4kA/pmvlzW3zI1fRvxmm8vwvEgP+suFH5Kx/pXzRrD/O1ceUx5MFKXdma+E5q/bk1mk1cvW+Y1RzXlVneRgLRTc0ZrEB1FJmjNAC0UmaTNAC5opM0A0APWpUqJaljq4K4yzEOa2tHsZb25jht42kldgqooyST2ArItxkivaP2dbeJ/F0zyIrMlq5QkZ2nKjI/DI/GvWo2o0pVWr2Vykek/C/4cw+H4Y9Q1REk1NhlU6rD/i3v+VelCgUtfO4jETxE3Oo9QCgmkZgoJJwB3rxj4n/ABHBMml6FN+75Wa4U/e/2VPp6nv2qsLhamKnyQ/4YD2SGeKdC8EiSKCVJRgRkdRUlfL/AIL8cXnhzUN8TeZauf3sDHCsPUeh96+jPD2uWOv6al7p0oeNuGU/eQ+hHY1vjcvnhHfePcZqVW1CxttRtXtr2FJoH6o44qxS1wJtO6Ags7WCzt0gtYkihQYVFGABU9FFDbbuxBVXUL+10+Dzr64igiyBukYAZNUvE2v2Ph3THvNQk2qOEQfekb0FfN/i7xpe+I9RM1w+yFSRFCp+VB/j716GBy6eLd9o9/8AIZ9SqwZQykMpGQR3p1eA/DT4iSaVLHp+qyNJpzHarHkw/wD1vb8vSveoZY5oklhdXjcBlZTkEHvWOMwdTCT5Z7dGBJXnPxO+HcHiOB73TkWLU1GSOgm9j7+/5+3o1BrKhXnQmpweoHw/remz6fdy29zE0U0bFWRhgg1hzLgmvfP2jrKGPVtNuY0VZJoWDkD720jH868JuVwTX0c5KvRjWta5DRnOKiappOtQNXlzQhDRSZozWQC0UmRRkUALRSZpM0ALS03NGaAHg1fsm5FZ4NWrRsNWtJ2kNbnYaPJhlr6R+Cl353hieAnmC4IH0IB/nmvmTSXwwr6C+A82U1aHP/PJwP8Avof4V7OYR58A32sdD1idP8XLcT+CrpsZMLpIPzx/WvmrUF5avqvx3D5/hDVkxn/R2b8uf6V8s6gvWtuHJc2GnHs/0CHwnL345NY0nWtzUByaxJvvVy5lG0jCW5XeoX6mpnqu/WvGkSRseabmkftTc1ixENPiNRZqSI0kC3LcdWY6qx1YjNbRKLUXUVsWHUVjRHmtmw6ivYy74jSG51Gn/dFfUHw4Ty/BOkj1i3fmSa+X7D7tfU3gMY8HaR/17p/KuniN/wCzwXn+hrU2RyHxyl26Tp8frKzfkv8A9evnLVm+dq+hPjuf9G0we8h/Ra+d9VPzNU4DTL18/wAyfsHNXh5NUzVq8+8aqE14lX4jnDNLTc0tZgLRSUUgFozTc0ZoAdmim5oBpjJFqePrVdTU8XWtae4F+26ivbP2cx/xVlx/16N/6EteKWvUV7b+zn/yNl1/15t/6EtetP8A3Sp6Fn0WKWgUGvlAPOPjfq11pvh23itJWjW6kKSFepUDOK+b7qcsx5r6D/aAQv4f08jtcH/0E186XKkMa+vylJYRNbtslsTziD1rqPBHi698NamlzaSZQ4EkRPyyL6H/AB7VxrHBpySEHrXW2pJwmrpiufZ3hXxFY+JdMS8sJM9pIj96NvQitmvj/wAHeKr3w5qSXdjLtI4dD9119CK+ofB3imw8U6YtzZOFlUASwk/NGf8AD0NfMZhl7wz54awf4epZ0FYni3xJZeGdLe8vn56RxA/NI3oP8ag8ZeLNP8Lac0964aZgfKgU/M5/oPevmDxl4qvvEmpPd3spOeEQH5UX0Ap5flzxD556Q/MRN4z8WXviXUnuryQ7eiRg/Ki+gH+c1zfm81WeQk00NX0yaglGCskK5pW85DCvd/gNrF3ci90+aVntoYxJGDzsJODj2r5/gyWFe5fs8Iftert2EUY/VqzzKKlgpOS2Ge3iiig18SM8K/aT/wCPjR/+ucn81rwC66mvf/2k/wDX6P8A7kn81r5/ujya+ow/+5w/rqSzPl61Xep5epqu5rzqm5I2kpM0VgAtFJmjNIBaKTNFAC0U3NGaAHirNqfmqoDVm2PzVpT+IaOm0s8ivd/gNJjVb5P71sD+Tf8A168G0vqK9w+BLf8AFQzr62jf+hLX0FZc2Aqeh0fZPZNfj83Q9QjP8UEg/wDHTXyffjrX1tqYzpt0PWJv5GvkrUP4vrWXDD92ovQKezOX1Hqaw5vvVuaj1NYU/wB6jNFqYz3Kz1XfrU8hqu55rw5EEMhpgNLIeKYDWDEQ1JEaip8Z60kJblyM1ZjqpGasxmtolluI/NWzYHkViRHmtmwPIr2MufvGkDqrA/KK+pvAJ3eDdIP/AE7qP0r5WsT8or6i+GsnmeCNKPpHj8iRXTxEv9ng/P8AQ1qfCjjvjuP9H0z/ALa/yWvnfVerV9HfHSPOn6a/o8g/NR/hXzlqw+ZqjAv/AIT4/P8AMh/CcvefeNUzVu8+8ap14tX4jAWikorIB1FNzRmkAtFJRmgYtFNzRmmBItWIzzVVTU8Z5rWmwNK1PzCvbf2cz/xVtz/15t/6EteG27YNej/CbxSnhjxJFdzIZLd0MMoHUKSOR9CBXrpOph5wju0UfXNFVdOvrbUrKK7sZlmt5RuV1PBqzXyrTTsxmR4q0G18RaTJZXeQDyjjqjeor5i8beFL3w7qD295GdpyY5B91x6ivrWsjxLoNl4h017O/jDKeUcfeQ+oNell+Yywr5Jawf8AWhLVz4vmQqagJxXeePPB154a1BobhC0LEmKYD5XH+PtXETRlSa+mfLUipwd0yRiuQetbPh7xHqGg3q3emXLwzKMZHQj0I6EVhHikyay57Llew7m3rmvX2s3kl1qFw80z9WY/oPQVkM5NR5oFHPdWQXHA5qWJCxFJHGWNdh4F8H33ifUVt7RNsSkGWZh8sY/x9q3hGMIupUdkhkXg/wAM33iHUks7CIsx5dz92NfUmvp/wV4Ws/CumfZrTLzPgzTN1dv6D0FTeFPDdh4a0xLPT48d5JD96RvUmtqvm8yzSWKfs4aQX4+bGLQaKr395BYWktzeSrDBEpZ3Y4AFeSk27IZ4b+0q4F3o6/8ATOQ/qK8BuW5Nej/GDxeninXRLboUtLdTFFnqwzksfrXmM75NfUqDo4aEJb2IbK0pqu5qSRutQMea8qoxBSUmaM1iAtLTc0ZpDHUlJRTAWim5FGaAHirNr96qmatWnLCrhuCOl0vqK9w+BA/4qOc+lo3/AKEleIaUORXu/wABo86veyf3bYD82H+FfQVXbAVPQ3+yeyakcadc/wDXJv5GvknUOrfWvrHW38vRr5/7sDn/AMdNfJmpHlqz4YXu1H6DhszmdS6msKfrW3qJ5NYU5+ajNPiMZ7leSqz1PJVeSvCkQV5KYKdJTKwYiLNPjPNRU+M80ISLcZqzGaqRnpVmM1rEstxHkVsWDfMKxIzWtYN8wr1svdplw3OrsG+UV9M/CGbzfA1kM5KM6H/vo/418xae3Ar6I+Bdz5vhe6hzzFck/gVH/wBevRz6HNg1Ls0b1PhJ/jTD5nhqCQf8s7gfqrCvmXWFw7fWvq74o2/n+DL0gZMZR/yYZ/TNfLGuJiV64srlzYJrszL7Jx16PmNZ5rTvhhjWWeteXWXvGIuaM02isRjs0ZptFIB2aTIpKKAFzRmkzRQA8GpYzUANPQ1pFgX4WrRtJthGDWPG2KtwyV6OHq8rGet/DTx9d+GrsKxabT5D+9gJ/wDHl9D/AD7+30xo2qWesafFe6fMs1vIMgjqD6Edj7V8OWtwVI5r0L4eeOLzwzfiSFvMtXIE0DH5XHr7H3rTGYGOKj7SnpL8x3Pq+lrL8Pa3Za/psd7p0oeJvvKfvIe4I7GtOvmpRcXyyWozN8QaLZa7psllqEQkifoe6nsQexr5l+IXgi88M37JIpktHJMUwHDD0Pofavq2qGtaVaazp8tnqEQlgkHQ9QfUHsa7sBj5YWVnrF7oTVz4mmiKk8VAUr0r4i+BLrw1elgplsZCfKmA/Q+hrgpICpPFfUJRrRVSm7pkFELUsURY9KnWEk13nw58B3fii9BIaGwjP72cj9F9T/KmoxoxdSq7JDKnw/8ABN74p1ARwqY7RCDNORwo9B6n2r6f8O6HZeH9MjsdOiEcS9T3c9yT3NSaJpNnounRWWnQrFBGOAOpPqfU1oV8xmGYSxcuVaQWy/zHYKKKpavqVrpNhLeX8yxW8QyzH+Q9TXnJOTsih+o31tp1lLd3sqw28Q3M7HgCvmn4o/EK48SXLW9qzQ6bEfkjzy5/vN/h2qH4mfEC68TXZjiZodPjP7uEHr/tN6n+VeZ3NwSTzX02BwEcKva1fi/L/gktjbufcTzWZM9STSZJqo7VGJrc7JGueahJpXamE15sncBc0maSioGOzRmm0ZpAOzRmm5ozQAuaKbmloAcKvWQ5FUBWlYryK1pK8gR02kryK+gvgJD8urTEdBEg/wDHif6V4JoyZda+lPgja+T4XuJiOZrkkfQKB/PNe3j5cmXtd7Gz+E6rxlL5PhXVX9LZx+YIr5U1JutfTHxTuPs/gnUOcGTag/Fh/SvmLUW61rw1C2HnPz/QqHwnO6i3JrDmPzVrag3JrGlPNc2ZSvIwluQyVWc9anc1WkNeLIkgkNMzRIeabWLER05TgimUCkhFyM1YjPSqkZqwhrWJZcjNaVk3zCsqM1es2wwr0cHK00VHc63Tn4Fe4/AK8AutUtCfvokoH0JB/mK8F01+lep/CC/+xeMbPccJcBoG/EZH6gV9JmFP22BnHyv92p0vWJ754itPt2hX9qBzLC6j644r5I8RRYlNfZBGQa+WfiTpn2DXb+DGAkzFR/snkfoRXzuRTuqlL5mMex5RqK4Y1jScMa6HUo+TWBOMNWGKjyyZi9yPNGaSlrkGGaM0UUAFJS0UAJRS0maQCg05TzTKWmgJ0arEb4qkrVMjVvCVgNGKT3q/bXBUjmsZHxVmKT3r0aFewz0rwH4yvfDWorcWj7o2wJYWPyyL6H39D2/MV9PeFvEVh4k0xbzT5M9pIj96NvQiviW2uCpHNdj4M8V33h7Uo7uxl2sOHQ/dkX0Iq8Xg4YyPNHSf5+o0z7Cpa53wZ4qsPFWmC5s22zKB50BPzRn+o9D/APXFdDXzE4SpycZKzQypqmn2uqWMtpfRLLBIMMp/n9a+efiB8P59AuzLCGlsJG/dyAdP9lvQ/wA/0r6SqG6tobu3eC5jSWFxhkcZBFdmBx88HLTWL3Qmrnzl4B+Hlx4gu1lnDQ6ch+eXGC3+yv8Aj2r6H0vTrXS7GK0sYVhgjGFVRVi3git4UigjWOJBhUUYAH0qSjHZhUxktdIrZBawYoorM8Q63ZaDpsl7qMoSJOg7ufQDua4oxc2ox3Afrmr2eiadLe6hKIoIx+LH0A7mvmH4j+O7vxPfHLNFZRk+VADwPc+pqH4h+OLzxPqDSTMY7ZCRFADwo/qfU15/c3G4nmvqMFgY4OPtKms/yE2Lc3BJPNZ8smaSWTrVZ3qMRiHIkJHqBmoZqjY1505XAQmkJpCaSsGxi5pabS0gFpKM0ZoAKKM0UAFFFFAD05IrX09eRWTCMtW7pqfMK6cNHmkho6zQYsutfVXw8s/sXg7TIyMF4/NP/AiW/rXzV4QsXvb+2tox880ixj8TivrS3iWCCOKMYRFCgegFdud1OWjTpd9TSR5z8crvyvD1pbA/NNPux7KD/iK+d9Rfk17D8ddQ83XLW0U5W3h3EejMf8AK8V1F+TXt5RT9jl8W+t2abRMK/bk1kyHrV69fk1nOa8HHT5pnM9yKQ1WkNTSGq0h5rzZCIXPzUlITzSZrEkZmlBptLQBPGeBVhDVSM1ZjNaRZSLcZq5bNhqoRmrULYIrqoys0ykdJp0nIrr9DvHtbq3uIzh4XWRT7g5rhbCTBFdRp0mQBX2ODmqlOzOqDuj7F065S9sLe5iOY5o1dT7EZrxz46aVt1CC+VfluItjH/aX/AOsR+Vdj8HdU+3+Eo4HbMtm5iP8Au9V/Q4/CrvxQ0v8AtLwnclVzJbfvl+g6/oTXx2GbwOP5Hte3yZj8Mj5E1WLDNxXM3aYJrudct9krgiuQv48E16GY0uWTImrMyc0ZocYY0leOyRc0ZpKKQC5ozSUUXAXNGaSigBc0ZpKKAHA09WqLNKDVJ2Asq3vU6PVJWqVHraEwNGOSrlvcEEc1kI9WI5Peu+jXaA7vwj4lvdC1KK8sJjHKnBHZh3BHcGvqPwN4wsfFeniSAiK8QDzrcnlT6j1HvXxbBOVI5rp/DXiC70m/hu7KZop4zkMD19j6j2rbE4aGNjfaS2f+ZVz7Spa434e+OLPxZYhcrDqMa/vYc9f9pfUfyrsa+Yq0p0ZOE1ZoYtFFc5418W2HhTTTcXjhp2BEMCn5pD/QeppU6cqklCCu2BZ8VeI7Dw1pj3moSYHSOMfekb0FfL3j3xpe+JtQae6fbEuRFCp+VB/j6nvVLxp4tvvEWoyXd9KWJ4RBwqL6Af5zXHXFwWJ5r6rB4OGBjzz1n+XoS2OubgsTzVGWSmyS89arO9YYjEORI53qBmpGaoi1efKdwHMaYTSE0maxbGLRmkzRmpAXNGaTNLmgAzRmjNJmgBc0ZpM0UALmjPNJSqMmgC1arkiuk0qPLCsSyjyRXWaLBuZeK9fLqPNK5cVdnrnwT0v7V4jinZfktYzKeOM9AP1J/CvoBjgEnpXnnwV0n7H4ckvXXD3cny/7i8D9d1dN461MaT4W1C5DbX8soh/2m4H881w5nJ4nG+zh0tFFPV2Pnj4gap/afiPULoNlWlIU/wCyOB+grz/UZOtbmpTZJyea5jUZOTX2eJ5aFFU49EXUdtDIumyxqlIanmbJqrIa+NryvJs5iJzzVaQ9alc1XkPFckgI80ZpKKzJG0uaSigByHmrEZqrU6GqiykW4zVqI1SjNWYzW8GM1rKTkc10umzciuRtnwa39Ol5HNfSZZX6G1NnuHwT1gWXiFrORsRXqbR/vjkfpmveJo1lieOQAowIIPcGvkXQ76S0ube4hbbLC6up9wc19XaHqMWraRaX0JGyeMP9D3H515vEWG5Ksa8ftfmh1Frc+Y/iForaXq13bMD+6cgH1U8g/livM9ShwTxX1D8bNCE9tDqca9B5MuPzU/zH5V856talXcEdK6+dYvCxqddn6kS1VzirhcGoK0r2LBNZrDBNeFONmZIKM0lFQMWlptFIBaM0lFAC5ozSUUALS5ptFMB4NODVFmlzTTAsq9So9Uw1PV61jOwGjHLVqGfB61krJipklx3rsp13EDsNC1y50y8iurOd4biI7ldTgivp34ZfEaz8V262t2yQasg+ZM4EuP4l/wAK+OUnI71dtNTmtZUlgleOVCCrqcEEehrorxpYyHLPR9GVc+yPiB4903wlZsJHWfUGX93bqefYt6D+favlnxV4nvde1KW81CcySv8Ako7ADsK56/1a4vZ3mup3mlc5Z3Ykk/Ws97gnvSw0KWDj7msu4rlue4JPWqkkue9QPLmomesa2IciSR3qFnpjPTC1cUp3AczU0mmk0mayuMdSUlFSAtFGaM0AFFGaM0AFFGaM0AFFJRmgBangXLVCOtX7OPJFVCN3YZp6fFlhXeeEtMlv7+2tYFzLM4jX2yev4Vyul2+SOK98+BegeZey6rKn7u2Xy4ye7kcn8B/OvoqbWDw0qz6bevQ0jornsmmWcen6fbWkAxFBGsa/QDFeV/HbWAsdnpUbc8zyD9F/9mr1ueVIYnlkYKiAsxPYCvlfx3rTaxrl7esTiRyEB7KOAPyrzeH8M6+K9tLaOvzY6a1uclqEvJrmr6TJNauoTdea5+6kyTXtZpX1sRUd2VZDyaryGpJDVdzXzE2ZkUhqu55qVzVcnJrnkxMM0UlFQISim5ozTAdUkR7VFmlU4NA0XYzViM1TQ1YjNbRZRehbBrXsZeRzWFG1X7STB616GErckiouzOz02foK97+BuvCS3uNHmf5k/fQ5PY/eH54P41846fP05rtvCesS6TqtpfQH54XBIz94dx+IzX0eKoLHYV0+vT1On4on1LrFhFqmm3FncDMcyFT7ehr5T8a6PLp9/PDMmJI3KN+Hf+tfV2mXsOpafBeWzBoZkDqfY15t8ZvDYubddVgTkDy58D/vlv6flXzGUYj2VV4epopfmYx7M+WNRg5PFYNxHgmu51azMcjqw5Brlr+DaTxW+NockmZSVmY9FOkXaabXmMAzRmiikAZooooAKKKKACiikzQAtFJRmmAuacGpmaM0XAlDU8P71XzShqtSYFoSe9L5p9aq76N9WqjQFoyn1ppkNV99JuodRgTF6azVEWozUOVxDi1NJpM0VFxi0UlFAC0tNopALRSUUALRSUUALmikooAWlpBTkGTigCa3Tca27CDLDiqNnD0rpNKtSzLxXpYDDupNMqKub3hzTpLq5hihQvI7BVUd2JwBX1p4U0ePQtBtbCPBMa5dv7znkn868r+CHhjfO2r3Cfu4MpDn+J8cn8B/P2r2iWRYo3kkYKigsxPQClneJUprDQ2jv6ly7HCfF/Xhpfh02cTYuL3KcdQg+8f6fjXzXqU+Sea7P4jeI213Xri6DHyF/dwqeyDv+PX8a841Gfk819Fl+H+oYNKXxPVmnwxsZt/LknmsaZsmrV3LkmqEjV4GNrc8jmbuRuaryGpHNV5GrzJMRFIeKipXbmm5rJiFopM0ZqRDaKM0maYxaWkzRmgCeNuKsxtVGM4NWUNXFlF2NqswvgiqMbVYjat4Ssxm7YzdOa6TTbjoM1xdrLtNb1hPgjmvpstxPRm1OR9FfBLxKAX0S6k4bMluSe/df6/nXrt3bxXdtLb3CB4pFKsp7g18h6JqEltcQzwOUmiYOrDqCDmvqLwV4hh8SaJFdxkCYfJNGP4X7/h3rys/wLpVFiqez38n/wAEKkeqPn74leGZNI1SeIgsFO5Gx95D0P8AT6g15dqNvnPFfZXj7w2niDSGVFH2yEFoj6+q/j/OvlrxFpT2lxIrIRgkYI6H0rrw1ZZhh9fjW/8AmS1zI84u4dpNUWGDiukv7bk8Vh3ERUnivGrUnB2ZjsVs0ZoPFITWAxc0ZpuaM0rgLmjNJmjNFwFzRmkzRmi4C5ozSZpM0XAdmjNNzRmi4Ds0maTNGaLgLmjNJmjNFwFzRmkzRmi4C5ozSZozRcBc0ZpM0ZouAuaM0maM0XAXNLmm5ozRcBc0uabmjNFwHZpM0maM0XAdmjNNzSigY4dauWsWSKggjLGtqyt+RxWtKm5ysLct2FvuI4r0LwN4dn1nVLazt1w0h5bHCL3Y/Sua0axMkigKSSegFfUnwt8Jjw9pAnuUAv7lQXz1Rey/4/8A1q96pVjl2H5/tPb/AD+RqvdR1ekafBpWm29laLthhUKvv7n3NcH8Y/Ew07S/7KtnxcXIzLg8rH6fj/LNdt4h1a30TSZ766PyRrwueWbsB9a+WvFetz6rqNxd3T7pZWyfYdgPoK87I8A8VW9vV+GOvqxwXVmFqVzknmuav5sk81ev7jk81g3MuSea9zM8V0RNSRXmbJqs7U92qu7V8vUldmQx2qvI3enu1V5GycVzyYDSaSjNGagQUUmaWgYlFJmjNAhaKTNGaAHVNG1QZpyNg0JjLsbVYjaqSNVhGrVMZdjfFalnNgjmsVGq1BJtNd2GrOnK40zsNPucEZNejfDvxVJ4f1ZJslrWXCTx+q+o9xXkFncYxzXRabd4IGa+qpShi6Lp1NUzpi+ZWPtK1uIrq2jnt3WSKRQyspyCDXl3xd8HLcwyatZR9s3CAdP9sf1/P1rK+EHjMWsiaPqEoFtIf3DsfuMf4fof5/WvamVXUqwBUjBB718fUhVynFabfmjJpxZ8SavYGKRgw6Vy97bYJ4r6O+K3gYWEjXtjHmxkPQD/AFTen0Pb8vSvE9VsDGzArXtVYU8XS9tS2/ImSvqjhZ4ipNVzW7eW2CeKyZoiCa8KrTcGZlelpDxRmsRi0maTNGaQC5pKM0ZoAKKM0ZoEFFGaM0AFFJmjNAxaKTNGaAFopM0ZoAWikzRmgBaKTNGaAFopM0ZouAtFJmjNFwFopM0ZouAtFJmloAKlhQuaSJCxrUs7fpxWkIOTsBJZ2/Tiui0uzMjKAKr6fZmRlAFezfCfwC2s3C3d6hXToT83/TU/3R7epr38NRp4ak69bRL8fI0iurOi+DPggEx61qEX7tDm3Rh94/3/AKDtXs0jrGjO7BUUZJPQCiKNIYljiUIiAKqgYAAryT4u+NFVJNG06XjpcyKev+wP6/l6141q2b4qy/4ZAk5M5T4p+MTruomG2cjT7ckRjP3z3Y/09vrXk+o3OSeatald5Zua5y9uMk819jP2eBoKjT6FylZWRXvJ8k81lyvk1JPJknmqrtXymJrOpI59xrtUDtTnaoHauKTAY7d6gNOdsmmZrG4haKTNGaAFopM0ZpAFJmkozTAWlpuaXNIBaKTNGaAJo2qxG1Ug2DU6NVxY0XUarEbVSRulTo1bRkM0rebBHNbNlccjmubRqvW02D1r1cFinTdioux3WmXmCBmvoP4V+OBqcMelapL/AKYgxDKx/wBaB2P+0P1r5dsrnBHNdNpWoNG6MjlXUhlYHBB9c17uJw1LMaPJLfo+zOjSSPsO6t4rq3kguI1kicbWRhkEV4D8TfAj6TO09urPYSH5H6lD/db+h716F8NfHkeuQpYam6pqKDCueBMB3/3vb8R7d3d20N3bSQXMaywyDayMMgivkaVWvlVdwmtOq7+aMdYs+ItU08xswK1zd5a4J4r6L+JXw/fTGe6tFaWwY8N1Mfs3+P8Ak+O6ppjRMwK17dSjTxdP2tHVCcb6o4CeEgmqzAg810l5Z4J4rIntypPFeHVouD1M9igaKe6kGmVzvQBaTNFFIAooopCCiiigApKM0UAFFJRQAtFJRQAtFJRQAtGaSigYtLTaWgBaKTNBpgLRSU5QT0oGIKmiiLGpIYCe1alra9OK2p0nJgR2tt04rd0+yMjAAVJp2ntKwCrmvYPhl8OptZkS5ug0OnqfmfHMnsv+Ne3h8PTw8PbVnZItR6sq/DHwBNrt0ssytFYRn95L6/7K+/8AKvpCws4NPs4rW0iWKCJdqqo4ApNPsrfTrOK1s4ligjG1UUcCuO+I3jeHw9bNa2bLJqUi8DqIh/eP9BXk169bNKyp01p0XbzY/i0RW+J3jZNEtn0/T5AdQkX5mB/1Knv9fT86+dNUvjIzEsSSckmptX1KS4nklmkaSRyWZ2OSTXM31115r6/C4WlldDlWsnuzTSKIr655PNYlzLknmn3M+SeaoyPmvAxuLdRmDdxrtUDtSu1QO1eVKRIjtUEjYpXaoC2TWLYC0UmaM1AhaKTNGaAFopM0ZoGNopM0ZoAWijNGaAClpKKBi05GwabmjNFxFpGqwjVQjfnFWEatIyGXkap43waoo9To9bRlYDXtp8Y5rasrrBHNcrHJg1ftp8Ec17OCxrg7M0hKx3+l6i8bo6OVdSGVgcEHsc19AfDj4hRaskWn6xIsd8AFjmPAm+vo38/0r5Zs7vBHNdBYX5GOcEV6+Jw1HMaXLLfo+xs0po+zJY0ljaORVdGGCrDIIryD4hfDfCyXmixGSE8vbjlk919R7dfr2b8O/iZsWLT/ABBIWj4WO6PJHoH9fr+frXsMUiTRrJEyujDIZTkEV8k1icpra/8AAZk04s+L9X0doWb5Dj6VzF5Y4zxX2L408B2WvLJPahba+PJbHySH/aH9f514F4r8I3elXTxXdu0T9RkcMPUHuK9qnVw+Yx93SXYTSZ49c2hGeKoSQkE8V3F9pxUnK1iXVjjPFefiMFKm9jNxsc4QR1pK0JrUjPFVHiINefKm0IhpKeVI603FZgFJRRSEFFFFABRRRQAUUUUDCiiigAooooAKKWgDNABQBUiREmrUVsT2q1FsZWjiLVdt7YntVy2syccVsWWnNIQAtdtDByqPYaVyjaWeSOK6PS9Iedlwpx9K6Pwl4OvNXulgtbdpX79go9Se1fQfgr4e6foCx3FyFub5eQxHyxn/AGR/WvTqSw+XxvU1l2/zLslucV8OvhdvWO91pGjg4KwHhn/3vQe3WvaoYo7eJIoUVI0AVVUYAFOkdY0LOQqKMkk4AFeRfEL4moiyWGgSeqvdD+Sf4/l615C+tZvWstvwSCzkbnxF+IEGhRyWOmssuokYZhysP19T7fn7/PWranLczyTTytJK5LM7HJJqvqN+zuzMxJPJJNc/e3nXmvr8LhKGV0rR1k92aaRQ++u+vNYdzcbieaS5uCxPNUJXzXi47GuozGUrhI+agdqHaoHevFlK5AO1QO1DtUDv2FYykAjtk+1NpM0ZqAFopM0ZoAWikzRmgYtKKbmlBoASikzRmgBaKTNGaAFopM0ZoAXNLTc0ZoEOqWN+x61DmjNGwF1GqdGqhG+frVhHrSMhl1HqeOTBqij1Mj1tGbQGrbz4xzWvaXeCOa5pHq1DPjvXq4XGuD1LjKx3FjfdMmvSPAnxBvfD7rDITc6eT80THlfdT2+nT6V4lbXZB61tWV/jHzV7vPRxlP2dVXRupKSsz7N8PeINO8QWYn06dZB/FGeGQ+hFWNV0yz1W1a3v4EniPZhyD6g9jXyhoOvXWm3SXNhcPBOvRlPb0PqK9t8HfFS0vgltrwW2uOgnX/Vt9f7v8q+bx2SVsM/a4d3j+KIlTa1Rh+NPhXLGJJ9GBuYepiP+sX6ev8/rXjuraDLbyOkkTK6nBVhgg+4r7KhljniWSF1eNhkMpyCKx/EHhfStejIv7ZTLjAlT5XH49/xpYbOml7PFK679f+CRfufFF3pxBPy1lXFiR2r6R8V/Ce8t98ulgXsPXaMLIPw6H8PyryvVfD01tK8c0LxyL1R1Kkfga9L6tQxa5qEr/n9xLinseZS2hB6VVeAjtXb3WllScrWZPp2M8V51bAzg9iWmjlmiIphUjtW9NYEdqqvZkdq4pUGhGURSVfa1I7VGbc+lZOm0BUoqyYD6U3yD6UuRgQUVP5J9KBAfSjkYEFFWRbn0qRbY+lNU2BTwTThGTV9LQ+lWIrIntVqi2BmpAT2qzFbE9q1oNPJ/hrUtdLZsYWuylgZy6FKLMOCzJ7VqWmnliPlrptO8PySuiqhZmOAqjJP4V6j4T+FGoXuyW+UWNv1y4zIR7L2/GvRWEo4aPPiJW/MtRS3PKdN0KSV0UISWOAoGSa9h8EfCm4uNlxq4Npb9fLx+8b/4n+ftXqvhvwhpGgIDZ2wafGDPJ8zn8e34VvSyJFGzyMERRksxwAK4cRnVl7PCK3n1G5dippGlWWkWi22nwJDEvZRyT6k9zUOva5YaFZtc6lOsS/wr1Zz6Ad64Txl8U7OwV7fQ9tzcdDOf9Wv0/vfyrxDX/EF3qd09xf3Mk8p7ueg9B6D6U8DkdbFP2uIfLF992NQb1Z2Xjz4iXmul4LctbaeP+WQPL/7x7/Tp9a8xvr/JPNU7y+JzzWLdXZJPNfTe0oYGn7OirIbko6Is3d5nPNZNxcFj1qKafJ61Vd818/i8c6j3MXK46STNQO1NZqhd68mU7kiu9Qu1I7VC7/nWLkASP6dajpM0ZqAClpM0ZpALRSZozQAtFJmjNAxaBSZozQAlFGaM0wCikzS5oAKKM0ZoAKKM0ZoAKXNJmjNAhalR/XrUOaM0DLqPUyP71RR+xqZXq1IC8r1Mr+9UUepletVIDQimK45q9b3JHesZXqZJMd67aOJlBjTsdRa3xGOa2bPUOmTXERXGO9XoLsjvXvYbMU9Gaxq2PX/CfjjVNAdfsNxvgJ+aCTlD+Hb8K9j8MfFDR9VCRagTYXJ4+c5jJ9m7fjivlC11Arjmta21EHGTV4jL8JjveatLujT3Zn2rFIk0avE6ujDIZTkGqGsaHpusRbNRtIpx0DMPmH0PUV8yeG/Geq6G4OnXromcmJjuQ/geK9T8P/GK2l2x63ZtE3eWD5l/75PI/WvAxGR4vDPnovmXloyJUmtiTXvhFazbn0i6MZ/55TjK/gw5H615zrvw21mw3NJp7vGP44P3g/TmvobR/EekaygOnX8Ex/uBsMPqp5rWxms4ZxiqL5Ky5vVameqPjC70CRCQVII6gjBrMn0dl6oa+0dR0TTdSBF9Y2859XQE/nXL6h8MPD90SYY57Vj/AM8pMj8mzXZDNsHU/iwcfTUPU+SZdMwfu1VfTvavp2++DkLZNrqR+ksWf1BrCu/g3qQz5MllKP8AfZT/ACrdVMvqbVLeug+VHz02n+1RnT/avdZ/hHri9LOJ/wDcmX+tU3+FOvA/8gxz9JE/xqvq+DltVj94ci7niv2D2pw08/3a9nX4U66T/wAgyQfWRP8AGrUHwj1tiN1kqf70yf0NS8PhFvVj94ci7niaaf8A7NTppxP8Ne82vwa1NiPNazjHvISf0Fbtj8GYlwbvUEHqI4v6k/0qXLAU96l/TUfLE+dYNKZiMKfyrUtdBdiMrjPrX01p/wALtAtcGVbi5Po77R/47iuo03w/pWmYNjYW8LD+MIN359a55Zng6f8ADi5fgLRHzfoXw51bUNpgsJdh/jkXYv1yev4V6PoHwfii2vq12PeO3H/sx/wr1zGKztW1zTNIj36jewW47B3GT9B1Ncs84xNX3KK5fTcLvoQ6L4c0rRUxp9lFE2MGTGXP4nmtV2VFLOQqjqSeleW+Ifi/YW4aPRrd7iTtJL8qfl1P6V5V4l8davrRYXt6/kn/AJYodqfkOv45rShkmLxT563uru9ylBvc9v8AE/xL0bRw0dq/265HaI/ID7t/hmvGPF3jzU9eZhdXBS37QR/Kn4jv+NcNdajnPNZNzfk55r6HDZdhMAubeXdle7E1bzUM55rGur3Pes+e7JzzVGWcnvWWKzPojOU7lme6JJ5qjJKSetRPJmoWavArYlzZne49nqFnprPUTPXHKVxDnaoXamu9Qu/51k5DHO9RZyaTNGam4haKM0ZoAKKM0ZpDCijNGaACijNGaACijNGaAG0UlGaBC0UlLQAUZoooGFFFFABS0lFAC0UlGaAFp6vjg1HRQBaV6mV6oqxFSo+apSAvK9Sq9UVepletVIC6r1MkpHeqCvUivWsajWwGnFcY71dhuyO9YavUiykd67aONlDqNOx1Fvfkd60YNR9642O4x3q1HdEd69ajmjW7NFUaO5ttSKsGVirDkEHkV2WifEfX9MCrFqDzRj+Cf94PzPP6149Fekd6uxX59a7niMPiVarFP1NPaKW59G6T8aD8q6ppqn1eB8fof8a67T/ij4ZuwPMupbZj2mjP8xkV8nR6j71Zj1H3rkqZNgK2sbx9H/mHLFn2VZ+JdFvQPs2qWchPbzQD+RrTSWOQZjdWHqDmvilNRx3q3BrU8JzFcSIf9lyK458Mwf8ADq/ev+CL2fZn2dRXyHD4w1iIYj1a+Qe07f41ZXx3rw6a1f8A/f8AasXwxV6VEL2bPrOivkxvHevnrrV9/wB/mqvN4y1mUfvNXvmHobh/8aFwvW61F+IvZs+uWkRBlmUD1JrMvfEmjWOftWqWcRHYyrn8q+R7jW55zma4lkP+25P86pvqP+1W0OGYr+JV+5D5O59Qaj8UvDNoCI7mW6YdoYz/ADOBXI6t8aeq6XpoHo875/8AHR/jXgkmoe9VZNQPrXbTyXL6Osry9X/kPlij07WfiX4h1DcG1BoIz/BANn6jn9a4y71V5XaSWVpHPVmbJP41zUl+fWqkt6T3rrWIw2GVqUUhc6Wxu3Go+9Z09+T3rIkuie9VXuPeuGvmrexDnc0ZrwnvVKS4J71UaUmo2f1NeRWxkpmbdyZ5c1Ez1Ez0xnrhlUbEPZ6jZqjZ6jZ6ychj3eoWfNMZ/WomYn6Vm2A539KZSZoqRC0UlFAC0UUUDCiiigAooooAKKKKACgUUUAIaSlNJQIWlpBS0AFFFFAwooooAKKKKACiiigAooooAKKKKAHq+OtSq9VqUMR0p3EXVepFeqSyetSK9UpDLgf3qQPVMPT1erUwLgenrJVMPTw/vWimBdWYjvUqXB9azw9OD1tGtJdQNRLk+tTLdkd6xw9OEh9a3jjJIdzbW8PrUi3p9awhKfWnCY+9bRx811HzM3hfH+9Tvtx/vVgeeaXzz61qsyn3DnZu/bj60hvj61h+efWk8/3o/tKfcfOzZN6fWmNeH1rIM1NMxrOWYSfUXMzTa7PrUL3J9azzIaaXNYSxkmK7LjXHvUTTE1WL00vXNKvJ9REzSE9TTC9RFqYWrJzuBKXpjPUTPTC9ZuQEpeo2eomeo2eocgJWeomf0phYmm1NwFJzSUUUCClFJS5oAWikzRQMWiiigAooooAKKKKACikooAWikopABpKKKYgpc0lFADqKTNGaAFooooGFFFFABRRRQAUUUUAFJRRQAlFFFAgpQSOlJRQBIJPWpFf3qvS0DLQenh6phyKeJPWncC2HpweqgcetOD1fMBbD0u+qoelElPmAtb/el3+9VfMpd/vT5gLO+jzKrb6XfRzAWN9G+q++jfRzAWN9JvqvvpN9HMBY30heq5kpC9TzATl6aXqAvTS1LmAmL0wvUJk9KaWJqbgSl6YX9Kj60UrgKST1pKKKACiiigAooooAKKKKACiiigAopaKACiiigBKKKKACiiigApRSUUAFFFFAgooooAKKKWgBKKWigBKWiigBKKWigBKKWigBKKWigBKKWigBKKWkoAKKKKACiiigBM04MR3ptFADw5pRJUdFAE3mCjePWoaKAuT7vejd7ioKKAJ9/uKN/vUFFAE2/wB6Tf71FRQFyQyUhemUUAOLE96TNJRQAUCiloAKKKKACiiigAooooAKKWigBKKWigBKKWigBKKWigBKKWigBKKWigBKKKKACiiigD//2Q==",dw={class:"min-h-screen bg-gradient-to-br from-purple-900 to-purple-950 flex flex-col"},fw={class:"flex-none sticky top-0 z-40 bg-purple-800/90 backdrop-blur-sm border-b border-purple-700/50 shadow-lg"},hw={class:"container mx-auto px-2 sm:px-4 py-2 sm:py-3 flex justify-between items-center"},pw={class:"text-lg sm:text-xl font-bold text-white flex items-center gap-2"},mw={class:"flex items-center gap-1 sm:gap-3"},gw={class:"flex-1 container mx-auto p-2 sm:p-4 overflow-hidden"},yw={class:"grid grid-cols-1 lg:grid-cols-2 gap-2 sm:gap-4 h-[calc(100vh-3.5rem)] sm:h-[calc(100vh-4rem)]"},vw={__name:"MainLayout",setup(t){return(e,n)=>(L(),Z("div",dw,[h("header",fw,[h("div",hw,[h("h1",pw,[n[1]||(n[1]=h("img",{src:uw,alt:"Logo",class:"h-8 w-8 rounded-lg"},null,-1)),$t(e.$slots,"title",{},()=>[n[0]||(n[0]=ns("Prompt Optimizer"))])]),h("div",mw,[$t(e.$slots,"actions")])])]),h("main",gw,[h("div",yw,[$t(e.$slots,"default")])]),$t(e.$slots,"modals"),fe(q(b0))]))}},bw={},ww={class:"flex flex-col h-[calc(50vh-2rem)] lg:h-full"},_w={class:"bg-gray-900/50 backdrop-blur-sm rounded-lg shadow-lg border border-purple-700/30 overflow-hidden flex flex-col h-full"},xw={class:"p-3 sm:p-4 space-y-3 sm:space-y-4 flex flex-col flex-1"};function Aw(t,e){return L(),Z("div",ww,[h("div",_w,[h("div",xw,[$t(t.$slots,"default")])])])}const Bc=rs(bw,[["render",Aw]]),Sw=["disabled"],Cw={class:"text-base sm:text-lg"},Tw={class:"text-sm max-sm:hidden"},Ma=So({__name:"ActionButton",props:{icon:{},text:{},loading:{type:Boolean},loadingText:{}},emits:["click"],setup(t){return(e,n)=>(L(),Z("button",{class:"text-white/80 hover:text-white transition-colors flex items-center gap-1 hover:scale-105 transform px-1.5 py-1",onClick:n[0]||(n[0]=s=>e.$emit("click")),disabled:e.loading},[h("span",Cw,ne(e.loading?"":e.icon),1),h("span",Tw,ne(e.loading?e.loadingText||"...":e.text),1)],8,Sw))}});function Ew(t,e,n,s,r,i){const a=At(),o=$(""),l=$(""),c=$(!1),u=$(!1),d=$(null),f=$(null),p=$(""),m=$([]),y=$(""),S={OPTIMIZE_TEMPLATE:"app:selected-optimize-template",ITERATE_TEMPLATE:"app:selected-iterate-template"},M=async()=>{if(!(!o.value.trim()||c.value)){if(!s.value){a.error("");return}if(!d.value){a.error("");return}c.value=!0,l.value="";try{await s.value.optimizePromptStream(o.value,r.value,d.value.content,{onToken:I=>{l.value+=I},onComplete:()=>{if(!d.value)return;const I=n.createNewChain({id:Mf(),originalPrompt:o.value,optimizedPrompt:l.value,type:"optimize",modelKey:r.value,templateId:d.value.id,timestamp:Date.now(),metadata:{}});p.value=I.chainId,m.value=I.versions,y.value=I.currentRecord.id,a.success(""),c.value=!1},onError:I=>{console.error(":",I),a.error(I.message||""),c.value=!1}})}catch(I){console.error(":",I),a.error(I.message||"")}finally{c.value=!1}}},A=async({originalPrompt:I,iterateInput:B})=>{if(!(!I||!B||u.value)){if(!s.value){a.error("");return}if(!f.value){a.error("");return}u.value=!0,l.value="";try{await s.value.iteratePromptStream(I,B,r.value,{onToken:E=>{l.value+=E},onComplete:()=>{if(!f.value)return;const E=n.addIteration({chainId:p.value,originalPrompt:I,optimizedPrompt:l.value,iterationNote:B,modelKey:r.value,templateId:f.value.id});m.value=E.versions,y.value=E.currentRecord.id,a.success("")},onError:E=>{a.error(E.message||"")}},f.value)}catch(E){console.error(":",E),a.error(E.message||"")}finally{u.value=!1}}},_=I=>{l.value=I.optimizedPrompt,y.value=I.id},v=(I,B)=>{localStorage.setItem(B==="optimize"?S.OPTIMIZE_TEMPLATE:S.ITERATE_TEMPLATE,I.id)},T=()=>{try{const I=localStorage.getItem(S.OPTIMIZE_TEMPLATE);if(I)try{const E=e.getTemplate(I);E&&(d.value=E)}catch(E){console.warn(":",E)}if(!d.value){const E=e.listTemplatesByType("optimize");E.length>0&&(d.value=E[0])}const B=localStorage.getItem(S.ITERATE_TEMPLATE);if(B)try{const E=e.getTemplate(B);E&&(f.value=E)}catch(E){console.warn(":",E)}if(!f.value){const E=e.listTemplatesByType("iterate");E.length>0&&(f.value=E[0])}if(!d.value||!f.value)throw new Error("")}catch(I){console.error(":",I),a.error("")}};return Ut(()=>{T()}),{prompt:o,optimizedPrompt:l,isOptimizing:c,isIterating:u,selectedOptimizeTemplate:d,selectedIterateTemplate:f,currentChainId:p,currentVersions:m,currentVersionId:y,handleOptimizePrompt:M,handleIteratePrompt:A,handleSwitchVersion:_,saveTemplateSelection:v,initTemplateSelection:T}}function kw(t,e){const n=At(),s=$(""),r=$(""),i=$(""),a=$(!1);return{testContent:s,testResult:r,testError:i,isTesting:a,handleTest:async o=>{if(!t.value){n.error("");return}if(!e.value||!s.value||!o){n.error("");return}a.value=!0,i.value="",r.value="";try{await t.value.testPromptStream(o,s.value,e.value,{onToken:l=>{r.value+=l},onComplete:()=>{a.value=!1},onError:l=>{i.value=l.message||"",a.value=!1}})}catch(l){console.error(":",l),i.value=l.message||""}finally{a.value=!1}}}}function Rw(t,e,n,s,r,i){const a=At(),o=$([]),l=$(!1),c=f=>{const{record:p,rootPrompt:m}=f;e.value=m,n.value=p.optimizedPrompt;const y=t.createNewChain({id:Mf(),originalPrompt:m,optimizedPrompt:p.optimizedPrompt,type:"optimize",modelKey:p.modelKey,templateId:p.templateId,timestamp:Date.now(),metadata:{}});s.value=y.chainId,r.value=y.versions,i.value=y.currentRecord.id,o.value=t.getAllChains(),l.value=!1},u=async()=>{try{await t.clearHistory(),o.value=[],a.success("")}catch(f){console.error(":",f),a.error("")}},d=()=>{try{o.value=t.getAllChains()}catch(f){console.error(":",f),a.error("")}};return yt(l,f=>{f&&(o.value=t.getAllChains())}),yt([r],()=>{o.value=t.getAllChains()}),{history:o,showHistory:l,handleSelectHistory:c,handleClearHistory:u,initHistory:d}}function Mw(t,e,n){const s=At(),r=$(null),i=tl(t),a=()=>{try{console.log("...");const o=e.listTemplates();console.log(":",o),console.log("..."),r.value=d0(t,i,e,n),console.log("")}catch(o){throw console.error(":",o),s.error(""+(o instanceof Error?o.message:String(o))),o}};return Ut(()=>{a()}),{promptServiceRef:r,initBaseServices:a}}function Iw(t){const e=At(),n=$(!1),s=$(""),{selectedOptimizeTemplate:r,selectedIterateTemplate:i,saveTemplateSelection:a,templateManager:o}=t,l=()=>{try{const f=localStorage.getItem("app:selected-optimize-template");if(f)try{const m=o.getTemplate(f);m&&(r.value=m)}catch(m){console.warn(":",m)}if(!r.value){const m=o.listTemplatesByType("optimize");m.length>0&&(r.value=m[0])}const p=localStorage.getItem("app:selected-iterate-template");if(p)try{const m=o.getTemplate(p);m&&(i.value=m)}catch(m){console.warn(":",m)}if(!i.value){const m=o.listTemplatesByType("iterate");m.length>0&&(i.value=m[0])}if(!r.value||!i.value)throw new Error("")}catch(f){console.error(":",f),e.error("")}},c=(f,p)=>{var m;try{console.log(":",{template:f?{id:f.id,name:f.name,type:(m=f.metadata)==null?void 0:m.templateType}:null,type:p}),p==="optimize"?r.value=f:i.value=f,f&&(a(f,p),e.success(`${p==="optimize"?"":""}: ${f.name}`))}catch(y){console.error(":",y),e.error(""+(y instanceof Error?y.message:String(y)))}},u=f=>{s.value=f,n.value=!0},d=()=>{document.querySelectorAll("template-select").forEach(f=>{var p,m;(m=(p=f.__vueParentComponent)==null?void 0:p.ctx)!=null&&m.refresh&&f.__vueParentComponent.ctx.refresh()}),n.value=!1};return Ut(()=>{l()}),{showTemplates:n,currentType:s,handleTemplateSelect:c,openTemplateManager:u,handleTemplateManagerClose:d}}const ri={OPTIMIZE_MODEL:"app:selected-optimize-model",TEST_MODEL:"app:selected-test-model"};function Pw(t){const e=At(),n=$(!1),s=$(""),r=$(""),{modelManager:i,optimizeModelSelect:a,testModelSelect:o}=t,l=(m,y)=>{m&&localStorage.setItem(y==="optimize"?ri.OPTIMIZE_MODEL:ri.TEST_MODEL,m)},c=()=>{var m;try{const y=i.getAllModels().filter(M=>M.enabled),S=(m=y[0])==null?void 0:m.key;if(S){const M=localStorage.getItem(ri.OPTIMIZE_MODEL);s.value=M&&y.find(_=>_.key===M)?M:S;const A=localStorage.getItem(ri.TEST_MODEL);r.value=A&&y.find(_=>_.key===A)?A:S,l(s.value,"optimize"),l(r.value,"test")}}catch(y){console.error(":",y),e.error("")}},u=m=>{m&&(s.value=m.key,r.value=m.key,l(m.key,"optimize"),l(m.key,"test"),e.success(`: ${m.name}`))},d=()=>{var m;try{const y=i.getAllModels().filter(M=>M.enabled),S=(m=y[0])==null?void 0:m.key;y.find(M=>M.key===s.value)||(s.value=S||""),y.find(M=>M.key===r.value)||(r.value=S||""),e.success("")}catch(y){console.error(":",y),e.error("")}},f=()=>{var m,y;d(),(m=a.value)==null||m.refresh(),(y=o.value)==null||y.refresh(),n.value=!1},p=m=>{console.log(":",m)};return yt(s,m=>{m&&l(m,"optimize")}),yt(r,m=>{m&&l(m,"test")}),Ut(()=>{c()}),{showConfig:n,selectedOptimizeModel:s,selectedTestModel:r,handleModelManagerClose:f,handleModelsUpdated:p,handleModelSelect:u,initModelSelection:c,loadModels:d}}function Ow(t,e,n,s,r,i,a){const o=$(!1);return{showHistory:o,handleSelectHistory:l=>{a(l),o.value=!1},handleClearHistory:t.clearHistory}}function Nw(){const t=$(null),e=$(null);return{optimizeModelSelect:t,testModelSelect:e}}const Fw={class:"flex-none"},Uw={class:"flex-1 min-h-0 overflow-y-auto"},jw={class:"flex-none"},Dw={class:"flex-1 min-h-0 overflow-y-auto"},Lw=So({__name:"App",setup(t){const{promptServiceRef:e}=Mw(Ne,at,ys),{optimizeModelSelect:n,testModelSelect:s}=Nw(),{showConfig:r,selectedOptimizeModel:i,selectedTestModel:a,handleModelManagerClose:o,handleModelsUpdated:l,handleModelSelect:c}=Pw({modelManager:Ne,optimizeModelSelect:n,testModelSelect:s}),{prompt:u,optimizedPrompt:d,isOptimizing:f,isIterating:p,selectedOptimizeTemplate:m,selectedIterateTemplate:y,currentVersions:S,currentVersionId:M,currentChainId:A,handleOptimizePrompt:_,handleIteratePrompt:v,handleSwitchVersion:T,saveTemplateSelection:I}=Ew(Ne,at,ys,e,i),{testContent:B,testResult:E,testError:x,isTesting:C,handleTest:j}=kw(e,a),{history:F,handleSelectHistory:oe}=Rw(ys,u,d,A,S,M),{showHistory:Ae,handleSelectHistory:Le,handleClearHistory:ke}=Ow(ys,u,d,A,S,M,oe),{showTemplates:pe,currentType:we,handleTemplateSelect:Dt,openTemplateManager:yn,handleTemplateManagerClose:sn}=Iw({selectedOptimizeTemplate:m,selectedIterateTemplate:y,saveTemplateSelection:I,templateManager:at});return(St,se)=>(L(),_t(q(vw),null,{title:et(()=>se[19]||(se[19]=[ns(" Prompt Optimizer ")])),actions:et(()=>[fe(q(Ma),{icon:"",text:"",onClick:se[0]||(se[0]=ve=>q(yn)("optimize"))}),fe(q(Ma),{icon:"",text:"",onClick:se[1]||(se[1]=ve=>Ae.value=!0)}),fe(q(Ma),{icon:"",text:"",onClick:se[2]||(se[2]=ve=>r.value=!0)})]),modals:et(()=>[(L(),_t(Rs,{to:"body"},[q(r)?(L(),_t(q(L0),{key:0,onClose:q(o),onModelsUpdated:q(l),onSelect:q(c)},null,8,["onClose","onModelsUpdated","onSelect"])):ye("",!0)])),(L(),_t(Rs,{to:"body"},[q(pe)?(L(),_t(q(db),{key:0,"template-type":q(we),"selected-optimize-template":q(m),"selected-iterate-template":q(y),onClose:q(sn),onSelect:q(Dt)},null,8,["template-type","selected-optimize-template","selected-iterate-template","onClose","onSelect"])):ye("",!0)])),fe(q($b),{show:q(Ae),"onUpdate:show":se[18]||(se[18]=ve=>Ee(Ae)?Ae.value=ve:null),history:q(F),onReuse:q(Le),onClear:q(ke)},null,8,["show","history","onReuse","onClear"])]),default:et(()=>[fe(q(Bc),null,{default:et(()=>[h("div",Fw,[fe(q(Kc),{modelValue:q(u),"onUpdate:modelValue":se[7]||(se[7]=ve=>Ee(u)?u.value=ve:null),selectedModel:q(i),"onUpdate:selectedModel":se[8]||(se[8]=ve=>Ee(i)?i.value=ve:null),label:"",placeholder:"prompt...","model-label":"","template-label":"","button-text":" ","loading-text":"...",loading:q(f),disabled:q(f),onSubmit:q(_),onConfigModel:se[9]||(se[9]=ve=>r.value=!0)},{"model-select":et(()=>[fe(q(Vc),{ref_key:"optimizeModelSelect",ref:n,modelValue:q(i),"onUpdate:modelValue":se[3]||(se[3]=ve=>i.value=ve),disabled:q(f),onConfig:se[4]||(se[4]=ve=>r.value=!0)},null,8,["modelValue","disabled"])]),"template-select":et(()=>[fe(q(Pf),{modelValue:q(m),"onUpdate:modelValue":se[5]||(se[5]=ve=>Ee(m)?m.value=ve:null),type:"optimize",onManage:se[6]||(se[6]=ve=>q(yn)("optimize")),onSelect:q(Dt)},null,8,["modelValue","onSelect"])]),_:1},8,["modelValue","selectedModel","loading","disabled","onSubmit"])]),h("div",Uw,[fe(q(kv),{"optimized-prompt":q(d),"onUpdate:optimizedPrompt":se[10]||(se[10]=ve=>Ee(d)?d.value=ve:null),"is-iterating":q(p),"selected-iterate-template":q(y),"onUpdate:selectedIterateTemplate":se[11]||(se[11]=ve=>Ee(y)?y.value=ve:null),versions:q(S),"current-version-id":q(M),onIterate:q(v),onOpenTemplateManager:q(yn),onSwitchVersion:q(T)},null,8,["optimized-prompt","is-iterating","selected-iterate-template","versions","current-version-id","onIterate","onOpenTemplateManager","onSwitchVersion"])])]),_:1}),fe(q(Bc),null,{default:et(()=>[h("div",jw,[fe(q(Kc),{modelValue:q(B),"onUpdate:modelValue":se[14]||(se[14]=ve=>Ee(B)?B.value=ve:null),selectedModel:q(a),"onUpdate:selectedModel":se[15]||(se[15]=ve=>Ee(a)?a.value=ve:null),label:"",placeholder:"...","model-label":"","button-text":" ","loading-text":"...",loading:q(C),disabled:q(C),onSubmit:se[16]||(se[16]=()=>q(j)(q(d))),onConfigModel:se[17]||(se[17]=ve=>r.value=!0)},{"model-select":et(()=>[fe(q(Vc),{ref_key:"testModelSelect",ref:s,modelValue:q(a),"onUpdate:modelValue":se[12]||(se[12]=ve=>a.value=ve),disabled:q(C),onConfig:se[13]||(se[13]=ve=>r.value=!0)},null,8,["modelValue","disabled"])]),_:1},8,["modelValue","selectedModel","loading","disabled"])]),h("div",Dw,[fe(q(X0),{ref:"outputPanelRef",loading:q(C),error:q(x),result:q(E)},null,8,["loading","error","result"])])]),_:1})]),_:1}))}});am(Lw).mount("#app");
